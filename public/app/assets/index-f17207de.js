function HE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ws={},qE={get exports(){return ws},set exports(e){ws=e}},oc={},k={},$E={get exports(){return k},set exports(e){k=e}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=Symbol.for("react.element"),WE=Symbol.for("react.portal"),VE=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),GE=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),QE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),XE=Symbol.for("react.memo"),eb=Symbol.for("react.lazy"),rm=Symbol.iterator;function tb(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dy=Object.assign,Iy={};function pa(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Py}pa.prototype.isReactComponent={};pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function My(){}My.prototype=pa.prototype;function op(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Py}var ap=op.prototype=new My;ap.constructor=op;Dy(ap,pa.prototype);ap.isPureReactComponent=!0;var im=Array.isArray,Ly=Object.prototype.hasOwnProperty,sp={current:null},By={key:!0,ref:!0,__self:!0,__source:!0};function zy(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Ly.call(t,r)&&!By.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Js,type:e,key:o,ref:a,props:i,_owner:sp.current}}function nb(e,t){return{$$typeof:Js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Js}function rb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var om=/\/+/g;function $c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rb(""+e.key):t.toString(36)}function Vl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Js:case WE:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+$c(a,0):r,im(i)?(n="",e!=null&&(n=e.replace(om,"$&/")+"/"),Vl(i,t,n,"",function(u){return u})):i!=null&&(lp(i)&&(i=nb(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(om,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",im(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+$c(o,s);a+=Vl(o,t,n,l,i)}else if(l=tb(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+$c(o,s++),a+=Vl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pl(e,t,n){if(e==null)return e;var r=[],i=0;return Vl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ib(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Kl={transition:null},ob={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:sp};be.Children={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=pa;be.Fragment=VE;be.Profiler=GE;be.PureComponent=op;be.StrictMode=KE;be.Suspense=ZE;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ob;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dy({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=sp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Ly.call(t,l)&&!By.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Js,type:e.type,key:i,ref:o,props:r,_owner:a}};be.createContext=function(e){return e={$$typeof:JE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YE,_context:e},e.Consumer=e};be.createElement=zy;be.createFactory=function(e){var t=zy.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:QE,render:e}};be.isValidElement=lp;be.lazy=function(e){return{$$typeof:eb,_payload:{_status:-1,_result:e},_init:ib}};be.memo=function(e,t){return{$$typeof:XE,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Kl.transition;Kl.transition={};try{e()}finally{Kl.transition=t}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(e,t){return Bt.current.useCallback(e,t)};be.useContext=function(e){return Bt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Bt.current.useEffect(e,t)};be.useId=function(){return Bt.current.useId()};be.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Bt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};be.useRef=function(e){return Bt.current.useRef(e)};be.useState=function(e){return Bt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Bt.current.useTransition()};be.version="18.2.0";(function(e){e.exports=be})($E);const oe=ip(k),up=HE({__proto__:null,default:oe},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=k,sb=Symbol.for("react.element"),lb=Symbol.for("react.fragment"),ub=Object.prototype.hasOwnProperty,cb=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fb={key:!0,ref:!0,__self:!0,__source:!0};function jy(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ub.call(t,r)&&!fb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:sb,type:e,key:o,ref:a,props:i,_owner:cb.current}}oc.Fragment=lb;oc.jsx=jy;oc.jsxs=jy;(function(e){e.exports=oc})(qE);const De=ws.Fragment,E=ws.jsx,q=ws.jsxs;var td={},_s={},db={get exports(){return _s},set exports(e){_s=e}},an={},nd={},hb={get exports(){return nd},set exports(e){nd=e}},Fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,A){var N=b.length;b.push(A);e:for(;0<N;){var I=N-1>>>1,U=b[I];if(0<i(U,A))b[I]=A,b[N]=U,N=I;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var A=b[0],N=b.pop();if(N!==A){b[0]=N;e:for(var I=0,U=b.length,Y=U>>>1;I<Y;){var V=2*(I+1)-1,K=b[V],j=V+1,H=b[j];if(0>i(K,N))j<U&&0>i(H,K)?(b[I]=H,b[j]=N,I=j):(b[I]=K,b[V]=N,I=V);else if(j<U&&0>i(H,N))b[I]=H,b[j]=N,I=j;else break e}}return A}function i(b,A){var N=b.sortIndex-A.sortIndex;return N!==0?N:b.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,d=3,v=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=b)r(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(u)}}function p(b){if(_=!1,g(b),!y)if(n(l)!==null)y=!0,D(w);else{var A=n(u);A!==null&&P(p,A.startTime-b)}}function w(b,A){y=!1,_&&(_=!1,h(R),R=-1),v=!0;var N=d;try{for(g(A),c=n(l);c!==null&&(!(c.expirationTime>A)||b&&!F());){var I=c.callback;if(typeof I=="function"){c.callback=null,d=c.priorityLevel;var U=I(c.expirationTime<=A);A=e.unstable_now(),typeof U=="function"?c.callback=U:c===n(l)&&r(l),g(A)}else r(l);c=n(l)}if(c!==null)var Y=!0;else{var V=n(u);V!==null&&P(p,V.startTime-A),Y=!1}return Y}finally{c=null,d=N,v=!1}}var S=!1,C=null,R=-1,O=5,B=-1;function F(){return!(e.unstable_now()-B<O)}function L(){if(C!==null){var b=e.unstable_now();B=b;var A=!0;try{A=C(!0,b)}finally{A?z():(S=!1,C=null)}}else S=!1}var z;if(typeof m=="function")z=function(){m(L)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,M=T.port2;T.port1.onmessage=L,z=function(){M.postMessage(null)}}else z=function(){x(L,0)};function D(b){C=b,S||(S=!0,z())}function P(b,A){R=x(function(){b(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,D(w))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var N=d;d=A;try{return b()}finally{d=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,A){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var N=d;d=b;try{return A()}finally{d=N}},e.unstable_scheduleCallback=function(b,A,N){var I=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?I+N:I):N=I,b){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,b={id:f++,callback:A,priorityLevel:b,startTime:N,expirationTime:U,sortIndex:-1},N>I?(b.sortIndex=N,t(u,b),n(l)===null&&b===n(u)&&(_?(h(R),R=-1):_=!0,P(p,N-I))):(b.sortIndex=U,t(l,b),y||v||(y=!0,D(w))),b},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(b){var A=d;return function(){var N=d;d=A;try{return b.apply(this,arguments)}finally{d=N}}}})(Fy);(function(e){e.exports=Fy})(hb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=k,tn=nd;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hy=new Set,xs={};function Xi(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(xs[e]=t,e=0;e<t.length;e++)Hy.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=Object.prototype.hasOwnProperty,pb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,am={},sm={};function gb(e){return rd.call(sm,e)?!0:rd.call(am,e)?!1:pb.test(e)?sm[e]=!0:(am[e]=!0,!1)}function mb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vb(e,t,n,r){if(t===null||typeof t>"u"||mb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function fp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cp,fp);At[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cp,fp);At[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cp,fp);At[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dp(e,t,n,r){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vb(t,n,i,r)&&(n=null),r||i===null?gb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kr=Uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),$y=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ad=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Wy=Symbol.for("react.offscreen"),lm=Symbol.iterator;function Ra(e){return e===null||typeof e!="object"?null:(e=lm&&e[lm]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Wc;function Ja(e){if(Wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wc=t&&t[1]||""}return`
`+Wc+e}var Vc=!1;function Kc(e,t){if(!e||Vc)return"";Vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Vc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ja(e):""}function yb(e){switch(e.tag){case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return e=Kc(e.type,!1),e;case 11:return e=Kc(e.type.render,!1),e;case 1:return e=Kc(e.type,!0),e;default:return""}}function sd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yo:return"Fragment";case vo:return"Portal";case id:return"Profiler";case hp:return"StrictMode";case od:return"Suspense";case ad:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $y:return(e.displayName||"Context")+".Consumer";case qy:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:sd(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return sd(e(t))}catch{}}return null}function wb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sd(t);case 8:return t===hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _b(e){var t=Vy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=_b(e))}function Ky(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function du(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ld(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ni(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gy(e,t){t=t.checked,t!=null&&dp(e,"checked",t,!1)}function ud(e,t){Gy(e,t);var n=ni(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cd(e,t.type,n):t.hasOwnProperty("defaultValue")&&cd(e,t.type,ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cd(e,t,n){(t!=="number"||du(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qa=Array.isArray;function Do(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ni(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(Qa(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ni(n)}}function Yy(e,t){var n=ni(t.value),r=ni(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vl,Qy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xb=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){xb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function Zy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function Xy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Sb=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hd(e,t){if(t){if(Sb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function pd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var md=null,Io=null,Mo=null;function hm(e){if(e=Xs(e)){if(typeof md!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=cc(t),md(e.stateNode,e.type,t))}}function e1(e){Io?Mo?Mo.push(e):Mo=[e]:Io=e}function t1(){if(Io){var e=Io,t=Mo;if(Mo=Io=null,hm(e),t)for(e=0;e<t.length;e++)hm(t[e])}}function n1(e,t){return e(t)}function r1(){}var Gc=!1;function i1(e,t,n){if(Gc)return e(t,n);Gc=!0;try{return n1(e,t,n)}finally{Gc=!1,(Io!==null||Mo!==null)&&(r1(),t1())}}function Es(e,t){var n=e.stateNode;if(n===null)return null;var r=cc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var vd=!1;if(wr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){vd=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{vd=!1}function Eb(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ls=!1,hu=null,pu=!1,yd=null,bb={onError:function(e){ls=!0,hu=e}};function kb(e,t,n,r,i,o,a,s,l){ls=!1,hu=null,Eb.apply(bb,arguments)}function Cb(e,t,n,r,i,o,a,s,l){if(kb.apply(this,arguments),ls){if(ls){var u=hu;ls=!1,hu=null}else throw Error(Q(198));pu||(pu=!0,yd=u)}}function eo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(eo(e)!==e)throw Error(Q(188))}function Ab(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pm(i),e;if(o===r)return pm(i),t;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function a1(e){return e=Ab(e),e!==null?s1(e):null}function s1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s1(e);if(t!==null)return t;e=e.sibling}return null}var l1=tn.unstable_scheduleCallback,gm=tn.unstable_cancelCallback,Rb=tn.unstable_shouldYield,Nb=tn.unstable_requestPaint,it=tn.unstable_now,Tb=tn.unstable_getCurrentPriorityLevel,vp=tn.unstable_ImmediatePriority,u1=tn.unstable_UserBlockingPriority,gu=tn.unstable_NormalPriority,Ob=tn.unstable_LowPriority,c1=tn.unstable_IdlePriority,ac=null,Xn=null;function Pb(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:Mb,Db=Math.log,Ib=Math.LN2;function Mb(e){return e>>>=0,e===0?32:31-(Db(e)/Ib|0)|0}var yl=64,wl=4194304;function Za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Za(s):(o&=a,o!==0&&(r=Za(o)))}else a=n&~i,a!==0?r=Za(a):o!==0&&(r=Za(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ln(t),i=1<<n,r|=e[n],t&=~i;return r}function Lb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ln(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Lb(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f1(){var e=yl;return yl<<=1,!(yl&4194240)&&(yl=64),e}function Yc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=n}function zb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ln(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ln(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Me=0;function d1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h1,wp,p1,g1,m1,_d=!1,_l=[],Vr=null,Kr=null,Gr=null,bs=new Map,ks=new Map,Fr=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Ta(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Xs(t),t!==null&&wp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fb(e,t,n,r,i){switch(t){case"focusin":return Vr=Ta(Vr,e,t,n,r,i),!0;case"dragenter":return Kr=Ta(Kr,e,t,n,r,i),!0;case"mouseover":return Gr=Ta(Gr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return bs.set(o,Ta(bs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ks.set(o,Ta(ks.get(o)||null,e,t,n,r,i)),!0}return!1}function v1(e){var t=bi(e.target);if(t!==null){var n=eo(t);if(n!==null){if(t=n.tag,t===13){if(t=o1(n),t!==null){e.blockedOn=t,m1(e.priority,function(){p1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gd=r,n.target.dispatchEvent(r),gd=null}else return t=Xs(n),t!==null&&wp(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){Gl(e)&&n.delete(t)}function Ub(){_d=!1,Vr!==null&&Gl(Vr)&&(Vr=null),Kr!==null&&Gl(Kr)&&(Kr=null),Gr!==null&&Gl(Gr)&&(Gr=null),bs.forEach(vm),ks.forEach(vm)}function Oa(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,Ub)))}function Cs(e){function t(i){return Oa(i,e)}if(0<_l.length){Oa(_l[0],e);for(var n=1;n<_l.length;n++){var r=_l[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vr!==null&&Oa(Vr,e),Kr!==null&&Oa(Kr,e),Gr!==null&&Oa(Gr,e),bs.forEach(t),ks.forEach(t),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)v1(n),n.blockedOn===null&&Fr.shift()}var Lo=kr.ReactCurrentBatchConfig,vu=!0;function Hb(e,t,n,r){var i=Me,o=Lo.transition;Lo.transition=null;try{Me=1,_p(e,t,n,r)}finally{Me=i,Lo.transition=o}}function qb(e,t,n,r){var i=Me,o=Lo.transition;Lo.transition=null;try{Me=4,_p(e,t,n,r)}finally{Me=i,Lo.transition=o}}function _p(e,t,n,r){if(vu){var i=xd(e,t,n,r);if(i===null)af(e,t,r,yu,n),mm(e,r);else if(Fb(i,e,t,n,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<jb.indexOf(e)){for(;i!==null;){var o=Xs(i);if(o!==null&&h1(o),o=xd(e,t,n,r),o===null&&af(e,t,r,yu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else af(e,t,r,null,n)}}var yu=null;function xd(e,t,n,r){if(yu=null,e=mp(r),e=bi(e),e!==null)if(t=eo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=o1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yu=e,null}function y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tb()){case vp:return 1;case u1:return 4;case gu:case Ob:return 16;case c1:return 536870912;default:return 16}default:return 16}}var qr=null,xp=null,Yl=null;function w1(){if(Yl)return Yl;var e,t=xp,n=t.length,r,i="value"in qr?qr.value:qr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Yl=i.slice(e,1<r?1-r:void 0)}function Jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function ym(){return!1}function sn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xl:ym,this.isPropagationStopped=ym,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=sn(ga),Zs=Ze({},ga,{view:0,detail:0}),$b=sn(Zs),Jc,Qc,Pa,sc=Ze({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Jc=e.screenX-Pa.screenX,Qc=e.screenY-Pa.screenY):Qc=Jc=0,Pa=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),wm=sn(sc),Wb=Ze({},sc,{dataTransfer:0}),Vb=sn(Wb),Kb=Ze({},Zs,{relatedTarget:0}),Zc=sn(Kb),Gb=Ze({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Yb=sn(Gb),Jb=Ze({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qb=sn(Jb),Zb=Ze({},ga,{data:0}),_m=sn(Zb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t2[e])?!!t[e]:!1}function Ep(){return n2}var r2=Ze({},Zs,{key:function(e){if(e.key){var t=Xb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?Jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i2=sn(r2),o2=Ze({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=sn(o2),a2=Ze({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),s2=sn(a2),l2=Ze({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),u2=sn(l2),c2=Ze({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f2=sn(c2),d2=[9,13,27,32],bp=wr&&"CompositionEvent"in window,us=null;wr&&"documentMode"in document&&(us=document.documentMode);var h2=wr&&"TextEvent"in window&&!us,_1=wr&&(!bp||us&&8<us&&11>=us),Sm=String.fromCharCode(32),Em=!1;function x1(e,t){switch(e){case"keyup":return d2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wo=!1;function p2(e,t){switch(e){case"compositionend":return S1(t);case"keypress":return t.which!==32?null:(Em=!0,Sm);case"textInput":return e=t.data,e===Sm&&Em?null:e;default:return null}}function g2(e,t){if(wo)return e==="compositionend"||!bp&&x1(e,t)?(e=w1(),Yl=xp=qr=null,wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _1&&t.locale!=="ko"?null:t.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m2[e.type]:t==="textarea"}function E1(e,t,n,r){e1(r),t=wu(t,"onChange"),0<t.length&&(n=new Sp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cs=null,As=null;function v2(e){I1(e,0)}function lc(e){var t=So(e);if(Ky(t))return e}function y2(e,t){if(e==="change")return t}var b1=!1;if(wr){var Xc;if(wr){var ef="oninput"in document;if(!ef){var km=document.createElement("div");km.setAttribute("oninput","return;"),ef=typeof km.oninput=="function"}Xc=ef}else Xc=!1;b1=Xc&&(!document.documentMode||9<document.documentMode)}function Cm(){cs&&(cs.detachEvent("onpropertychange",k1),As=cs=null)}function k1(e){if(e.propertyName==="value"&&lc(As)){var t=[];E1(t,As,e,mp(e)),i1(v2,t)}}function w2(e,t,n){e==="focusin"?(Cm(),cs=t,As=n,cs.attachEvent("onpropertychange",k1)):e==="focusout"&&Cm()}function _2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(As)}function x2(e,t){if(e==="click")return lc(t)}function S2(e,t){if(e==="input"||e==="change")return lc(t)}function E2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:E2;function Rs(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rd.call(t,i)||!Fn(e[i],t[i]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,t){var n=Am(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Am(n)}}function C1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A1(){for(var e=window,t=du();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=du(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b2(e){var t=A1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&C1(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Rm(n,o);var a=Rm(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k2=wr&&"documentMode"in document&&11>=document.documentMode,_o=null,Sd=null,fs=null,Ed=!1;function Nm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||_o==null||_o!==du(r)||(r=_o,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Rs(fs,r)||(fs=r,r=wu(Sd,"onSelect"),0<r.length&&(t=new Sp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function Sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xo={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},tf={},R1={};wr&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function uc(e){if(tf[e])return tf[e];if(!xo[e])return e;var t=xo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R1)return tf[e]=t[n];return e}var N1=uc("animationend"),T1=uc("animationiteration"),O1=uc("animationstart"),P1=uc("transitionend"),D1=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){D1.set(e,t),Xi(t,[e])}for(var nf=0;nf<Tm.length;nf++){var rf=Tm[nf],C2=rf.toLowerCase(),A2=rf[0].toUpperCase()+rf.slice(1);li(C2,"on"+A2)}li(N1,"onAnimationEnd");li(T1,"onAnimationIteration");li(O1,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(P1,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Om(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cb(r,t,void 0,e),e.currentTarget=null}function I1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Om(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Om(i,s,u),o=l}}}if(pu)throw e=yd,pu=!1,yd=null,e}function Fe(e,t){var n=t[Rd];n===void 0&&(n=t[Rd]=new Set);var r=e+"__bubble";n.has(r)||(M1(t,e,2,!1),n.add(r))}function of(e,t,n){var r=0;t&&(r|=4),M1(n,e,r,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Ns(e){if(!e[El]){e[El]=!0,Hy.forEach(function(n){n!=="selectionchange"&&(R2.has(n)||of(n,!1,e),of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,of("selectionchange",!1,t))}}function M1(e,t,n,r){switch(y1(t)){case 1:var i=Hb;break;case 4:i=qb;break;default:i=_p}n=i.bind(null,t,n,e),i=void 0,!vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function af(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=bi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}i1(function(){var u=o,f=mp(n),c=[];e:{var d=D1.get(e);if(d!==void 0){var v=Sp,y=e;switch(e){case"keypress":if(Jl(n)===0)break e;case"keydown":case"keyup":v=i2;break;case"focusin":y="focus",v=Zc;break;case"focusout":y="blur",v=Zc;break;case"beforeblur":case"afterblur":v=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=s2;break;case N1:case T1:case O1:v=Yb;break;case P1:v=u2;break;case"scroll":v=$b;break;case"wheel":v=f2;break;case"copy":case"cut":case"paste":v=Qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=xm}var _=(t&4)!==0,x=!_&&e==="scroll",h=_?d!==null?d+"Capture":null:d;_=[];for(var m=u,g;m!==null;){g=m;var p=g.stateNode;if(g.tag===5&&p!==null&&(g=p,h!==null&&(p=Es(m,h),p!=null&&_.push(Ts(m,p,g)))),x)break;m=m.return}0<_.length&&(d=new v(d,y,null,n,f),c.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&n!==gd&&(y=n.relatedTarget||n.fromElement)&&(bi(y)||y[_r]))break e;if((v||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?bi(y):null,y!==null&&(x=eo(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=wm,p="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=xm,p="onPointerLeave",h="onPointerEnter",m="pointer"),x=v==null?d:So(v),g=y==null?d:So(y),d=new _(p,m+"leave",v,n,f),d.target=x,d.relatedTarget=g,p=null,bi(f)===u&&(_=new _(h,m+"enter",y,n,f),_.target=g,_.relatedTarget=x,p=_),x=p,v&&y)t:{for(_=v,h=y,m=0,g=_;g;g=oo(g))m++;for(g=0,p=h;p;p=oo(p))g++;for(;0<m-g;)_=oo(_),m--;for(;0<g-m;)h=oo(h),g--;for(;m--;){if(_===h||h!==null&&_===h.alternate)break t;_=oo(_),h=oo(h)}_=null}else _=null;v!==null&&Pm(c,d,v,_,!1),y!==null&&x!==null&&Pm(c,x,y,_,!0)}}e:{if(d=u?So(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var w=y2;else if(bm(d))if(b1)w=S2;else{w=_2;var S=w2}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=x2);if(w&&(w=w(e,u))){E1(c,w,n,f);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&cd(d,"number",d.value)}switch(S=u?So(u):window,e){case"focusin":(bm(S)||S.contentEditable==="true")&&(_o=S,Sd=u,fs=null);break;case"focusout":fs=Sd=_o=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Nm(c,n,f);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":Nm(c,n,f)}var C;if(bp)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else wo?x1(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(_1&&n.locale!=="ko"&&(wo||R!=="onCompositionStart"?R==="onCompositionEnd"&&wo&&(C=w1()):(qr=f,xp="value"in qr?qr.value:qr.textContent,wo=!0)),S=wu(u,R),0<S.length&&(R=new _m(R,e,null,n,f),c.push({event:R,listeners:S}),C?R.data=C:(C=S1(n),C!==null&&(R.data=C)))),(C=h2?p2(e,n):g2(e,n))&&(u=wu(u,"onBeforeInput"),0<u.length&&(f=new _m("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=C))}I1(c,t)})}function Ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Es(e,n),o!=null&&r.unshift(Ts(e,o,i)),o=Es(e,t),o!=null&&r.push(Ts(e,o,i))),e=e.return}return r}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pm(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Es(n,o),l!=null&&a.unshift(Ts(n,l,s))):i||(l=Es(n,o),l!=null&&a.push(Ts(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var N2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(N2,`
`).replace(T2,"")}function bl(e,t,n){if(t=Dm(t),Dm(e)!==t&&n)throw Error(Q(425))}function _u(){}var bd=null,kd=null;function Cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ad=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,P2=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(D2)}:Ad;function D2(e){setTimeout(function(){throw e})}function sf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cs(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ma,Os="__reactProps$"+ma,_r="__reactContainer$"+ma,Rd="__reactEvents$"+ma,I2="__reactListeners$"+ma,M2="__reactHandles$"+ma;function bi(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_r]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[Qn])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[Qn]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function cc(e){return e[Os]||null}var Nd=[],Eo=-1;function ui(e){return{current:e}}function Ue(e){0>Eo||(e.current=Nd[Eo],Nd[Eo]=null,Eo--)}function ze(e,t){Eo++,Nd[Eo]=e.current,e.current=t}var ri={},Dt=ui(ri),qt=ui(!1),Fi=ri;function Qo(e,t){var n=e.type.contextTypes;if(!n)return ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $t(e){return e=e.childContextTypes,e!=null}function xu(){Ue(qt),Ue(Dt)}function Lm(e,t,n){if(Dt.current!==ri)throw Error(Q(168));ze(Dt,t),ze(qt,n)}function L1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Q(108,wb(e)||"Unknown",i));return Ze({},n,r)}function Su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,Fi=Dt.current,ze(Dt,e),ze(qt,qt.current),!0}function Bm(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=L1(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Ue(qt),Ue(Dt),ze(Dt,e)):Ue(qt),ze(qt,n)}var fr=null,fc=!1,lf=!1;function B1(e){fr===null?fr=[e]:fr.push(e)}function L2(e){fc=!0,B1(e)}function ci(){if(!lf&&fr!==null){lf=!0;var e=0,t=Me;try{var n=fr;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,fc=!1}catch(i){throw fr!==null&&(fr=fr.slice(e+1)),l1(vp,ci),i}finally{Me=t,lf=!1}}return null}var bo=[],ko=0,Eu=null,bu=0,un=[],cn=0,Ui=null,dr=1,hr="";function yi(e,t){bo[ko++]=bu,bo[ko++]=Eu,Eu=e,bu=t}function z1(e,t,n){un[cn++]=dr,un[cn++]=hr,un[cn++]=Ui,Ui=e;var r=dr;e=hr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var o=32-Ln(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,dr=1<<32-Ln(t)+i|n<<i|r,hr=o+e}else dr=1<<o|n<<i|r,hr=e}function Cp(e){e.return!==null&&(yi(e,1),z1(e,1,0))}function Ap(e){for(;e===Eu;)Eu=bo[--ko],bo[ko]=null,bu=bo[--ko],bo[ko]=null;for(;e===Ui;)Ui=un[--cn],un[cn]=null,hr=un[--cn],un[cn]=null,dr=un[--cn],un[cn]=null}var Xt=null,Qt=null,$e=!1,In=null;function j1(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ui!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Qt=null,!0):!1;default:return!1}}function Td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if($e){var t=Qt;if(t){var n=t;if(!zm(e,t)){if(Td(e))throw Error(Q(418));t=Yr(n.nextSibling);var r=Xt;t&&zm(e,t)?j1(r,n):(e.flags=e.flags&-4097|2,$e=!1,Xt=e)}}else{if(Td(e))throw Error(Q(418));e.flags=e.flags&-4097|2,$e=!1,Xt=e}}}function jm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function kl(e){if(e!==Xt)return!1;if(!$e)return jm(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cd(e.type,e.memoizedProps)),t&&(t=Qt)){if(Td(e))throw F1(),Error(Q(418));for(;t;)j1(e,t),t=Yr(t.nextSibling)}if(jm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Xt?Yr(e.stateNode.nextSibling):null;return!0}function F1(){for(var e=Qt;e;)e=Yr(e.nextSibling)}function Zo(){Qt=Xt=null,$e=!1}function Rp(e){In===null?In=[e]:In.push(e)}var B2=kr.ReactCurrentBatchConfig;function Rn(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ku=ui(null),Cu=null,Co=null,Np=null;function Tp(){Np=Co=Cu=null}function Op(e){var t=ku.current;Ue(ku),e._currentValue=t}function Pd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){Cu=e,Np=Co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(Np!==e)if(e={context:e,memoizedValue:t,next:null},Co===null){if(Cu===null)throw Error(Q(308));Co=e,Cu.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var ki=null;function Pp(e){ki===null?ki=[e]:ki.push(e)}function U1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Pp(t)):(n.next=i.next,i.next=n),t.interleaved=n,xr(e,r)}function xr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function Dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xr(e,n)}return i=r.interleaved,i===null?(t.next=t,Pp(r)):(t.next=i.next,i.next=t),r.interleaved=t,xr(e,n)}function Ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}function Fm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Au(e,t,n,r){var i=e.updateQueue;Lr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var d=s.lane,v=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,_=s;switch(d=t,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){c=y.call(v,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,d=typeof y=="function"?y.call(v,c,d):y,d==null)break e;c=Ze({},c,d);break e;case 2:Lr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else v={eventTime:v,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=v,l=c):f=f.next=v,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);qi|=a,e.lanes=a,e.memoizedState=c}}function Um(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var q1=new Uy.Component().refs;function Dd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dc={isMounted:function(e){return(e=e._reactInternals)?eo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Zr(e),o=mr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Jr(e,o,i),t!==null&&(Bn(t,e,i,r),Ql(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Zr(e),o=mr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Jr(e,o,i),t!==null&&(Bn(t,e,i,r),Ql(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Zr(e),i=mr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jr(e,i,r),t!==null&&(Bn(t,e,r,n),Ql(t,e,r))}};function Hm(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Rs(n,r)||!Rs(i,o):!0}function $1(e,t,n){var r=!1,i=ri,o=t.contextType;return typeof o=="object"&&o!==null?o=yn(o):(i=$t(t)?Fi:Dt.current,r=t.contextTypes,o=(r=r!=null)?Qo(e,i):ri),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Id(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=q1,Dp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=yn(o):(o=$t(t)?Fi:Dt.current,i.context=Qo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Dd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dc.enqueueReplaceState(i,i.state,null),Au(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Da(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===q1&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $m(e){var t=e._init;return t(e._payload)}function W1(e){function t(h,m){if(e){var g=h.deletions;g===null?(h.deletions=[m],h.flags|=16):g.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function i(h,m){return h=Xr(h,m),h.index=0,h.sibling=null,h}function o(h,m,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<m?(h.flags|=2,m):g):(h.flags|=2,m)):(h.flags|=1048576,m)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function s(h,m,g,p){return m===null||m.tag!==6?(m=gf(g,h.mode,p),m.return=h,m):(m=i(m,g),m.return=h,m)}function l(h,m,g,p){var w=g.type;return w===yo?f(h,m,g.props.children,p,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Mr&&$m(w)===m.type)?(p=i(m,g.props),p.ref=Da(h,m,g),p.return=h,p):(p=ru(g.type,g.key,g.props,null,h.mode,p),p.ref=Da(h,m,g),p.return=h,p)}function u(h,m,g,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=mf(g,h.mode,p),m.return=h,m):(m=i(m,g.children||[]),m.return=h,m)}function f(h,m,g,p,w){return m===null||m.tag!==7?(m=Di(g,h.mode,p,w),m.return=h,m):(m=i(m,g),m.return=h,m)}function c(h,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=gf(""+m,h.mode,g),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gl:return g=ru(m.type,m.key,m.props,null,h.mode,g),g.ref=Da(h,null,m),g.return=h,g;case vo:return m=mf(m,h.mode,g),m.return=h,m;case Mr:var p=m._init;return c(h,p(m._payload),g)}if(Qa(m)||Ra(m))return m=Di(m,h.mode,g,null),m.return=h,m;Cl(h,m)}return null}function d(h,m,g,p){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:s(h,m,""+g,p);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gl:return g.key===w?l(h,m,g,p):null;case vo:return g.key===w?u(h,m,g,p):null;case Mr:return w=g._init,d(h,m,w(g._payload),p)}if(Qa(g)||Ra(g))return w!==null?null:f(h,m,g,p,null);Cl(h,g)}return null}function v(h,m,g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return h=h.get(g)||null,s(m,h,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gl:return h=h.get(p.key===null?g:p.key)||null,l(m,h,p,w);case vo:return h=h.get(p.key===null?g:p.key)||null,u(m,h,p,w);case Mr:var S=p._init;return v(h,m,g,S(p._payload),w)}if(Qa(p)||Ra(p))return h=h.get(g)||null,f(m,h,p,w,null);Cl(m,p)}return null}function y(h,m,g,p){for(var w=null,S=null,C=m,R=m=0,O=null;C!==null&&R<g.length;R++){C.index>R?(O=C,C=null):O=C.sibling;var B=d(h,C,g[R],p);if(B===null){C===null&&(C=O);break}e&&C&&B.alternate===null&&t(h,C),m=o(B,m,R),S===null?w=B:S.sibling=B,S=B,C=O}if(R===g.length)return n(h,C),$e&&yi(h,R),w;if(C===null){for(;R<g.length;R++)C=c(h,g[R],p),C!==null&&(m=o(C,m,R),S===null?w=C:S.sibling=C,S=C);return $e&&yi(h,R),w}for(C=r(h,C);R<g.length;R++)O=v(C,h,R,g[R],p),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?R:O.key),m=o(O,m,R),S===null?w=O:S.sibling=O,S=O);return e&&C.forEach(function(F){return t(h,F)}),$e&&yi(h,R),w}function _(h,m,g,p){var w=Ra(g);if(typeof w!="function")throw Error(Q(150));if(g=w.call(g),g==null)throw Error(Q(151));for(var S=w=null,C=m,R=m=0,O=null,B=g.next();C!==null&&!B.done;R++,B=g.next()){C.index>R?(O=C,C=null):O=C.sibling;var F=d(h,C,B.value,p);if(F===null){C===null&&(C=O);break}e&&C&&F.alternate===null&&t(h,C),m=o(F,m,R),S===null?w=F:S.sibling=F,S=F,C=O}if(B.done)return n(h,C),$e&&yi(h,R),w;if(C===null){for(;!B.done;R++,B=g.next())B=c(h,B.value,p),B!==null&&(m=o(B,m,R),S===null?w=B:S.sibling=B,S=B);return $e&&yi(h,R),w}for(C=r(h,C);!B.done;R++,B=g.next())B=v(C,h,R,B.value,p),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?R:B.key),m=o(B,m,R),S===null?w=B:S.sibling=B,S=B);return e&&C.forEach(function(L){return t(h,L)}),$e&&yi(h,R),w}function x(h,m,g,p){if(typeof g=="object"&&g!==null&&g.type===yo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case gl:e:{for(var w=g.key,S=m;S!==null;){if(S.key===w){if(w=g.type,w===yo){if(S.tag===7){n(h,S.sibling),m=i(S,g.props.children),m.return=h,h=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Mr&&$m(w)===S.type){n(h,S.sibling),m=i(S,g.props),m.ref=Da(h,S,g),m.return=h,h=m;break e}n(h,S);break}else t(h,S);S=S.sibling}g.type===yo?(m=Di(g.props.children,h.mode,p,g.key),m.return=h,h=m):(p=ru(g.type,g.key,g.props,null,h.mode,p),p.ref=Da(h,m,g),p.return=h,h=p)}return a(h);case vo:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(h,m.sibling),m=i(m,g.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=mf(g,h.mode,p),m.return=h,h=m}return a(h);case Mr:return S=g._init,x(h,m,S(g._payload),p)}if(Qa(g))return y(h,m,g,p);if(Ra(g))return _(h,m,g,p);Cl(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(h,m.sibling),m=i(m,g),m.return=h,h=m):(n(h,m),m=gf(g,h.mode,p),m.return=h,h=m),a(h)):n(h,m)}return x}var Xo=W1(!0),V1=W1(!1),el={},er=ui(el),Ps=ui(el),Ds=ui(el);function Ci(e){if(e===el)throw Error(Q(174));return e}function Ip(e,t){switch(ze(Ds,t),ze(Ps,e),ze(er,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dd(t,e)}Ue(er),ze(er,t)}function ea(){Ue(er),Ue(Ps),Ue(Ds)}function K1(e){Ci(Ds.current);var t=Ci(er.current),n=dd(t,e.type);t!==n&&(ze(Ps,e),ze(er,n))}function Mp(e){Ps.current===e&&(Ue(er),Ue(Ps))}var Ye=ui(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uf=[];function Lp(){for(var e=0;e<uf.length;e++)uf[e]._workInProgressVersionPrimary=null;uf.length=0}var Zl=kr.ReactCurrentDispatcher,cf=kr.ReactCurrentBatchConfig,Hi=0,Qe=null,dt=null,wt=null,Nu=!1,ds=!1,Is=0,z2=0;function Tt(){throw Error(Q(321))}function Bp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function zp(e,t,n,r,i,o){if(Hi=o,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?H2:q2,e=n(r,i),ds){o=0;do{if(ds=!1,Is=0,25<=o)throw Error(Q(301));o+=1,wt=dt=null,t.updateQueue=null,Zl.current=$2,e=n(r,i)}while(ds)}if(Zl.current=Tu,t=dt!==null&&dt.next!==null,Hi=0,wt=dt=Qe=null,Nu=!1,t)throw Error(Q(300));return e}function jp(){var e=Is!==0;return Is=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Qe.memoizedState=wt=e:wt=wt.next=e,wt}function wn(){if(dt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=wt===null?Qe.memoizedState:wt.next;if(t!==null)wt=t,dt=e;else{if(e===null)throw Error(Q(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?Qe.memoizedState=wt=e:wt=wt.next=e}return wt}function Ms(e,t){return typeof t=="function"?t(e):t}function ff(e){var t=wn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((Hi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=r):l=l.next=c,Qe.lanes|=f,qi|=f}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Fn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Qe.lanes|=o,qi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function df(e){var t=wn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Fn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function G1(){}function Y1(e,t){var n=Qe,r=wn(),i=t(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,Fp(Z1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Q1.bind(null,n,r,i,t),void 0,null),_t===null)throw Error(Q(349));Hi&30||J1(n,t,i)}return i}function J1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Q1(e,t,n,r){t.value=n,t.getSnapshot=r,X1(t)&&ew(e)}function Z1(e,t,n){return n(function(){X1(t)&&ew(e)})}function X1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function ew(e){var t=xr(e,1);t!==null&&Bn(t,e,1,-1)}function Wm(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=U2.bind(null,Qe,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tw(){return wn().memoizedState}function Xl(e,t,n,r){var i=Yn();Qe.flags|=e,i.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function hc(e,t,n,r){var i=wn();r=r===void 0?null:r;var o=void 0;if(dt!==null){var a=dt.memoizedState;if(o=a.destroy,r!==null&&Bp(r,a.deps)){i.memoizedState=Ls(t,n,o,r);return}}Qe.flags|=e,i.memoizedState=Ls(1|t,n,o,r)}function Vm(e,t){return Xl(8390656,8,e,t)}function Fp(e,t){return hc(2048,8,e,t)}function nw(e,t){return hc(4,2,e,t)}function rw(e,t){return hc(4,4,e,t)}function iw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ow(e,t,n){return n=n!=null?n.concat([e]):null,hc(4,4,iw.bind(null,t,e),n)}function Up(){}function aw(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sw(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lw(e,t,n){return Hi&21?(Fn(n,t)||(n=f1(),Qe.lanes|=n,qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function j2(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=cf.transition;cf.transition={};try{e(!1),t()}finally{Me=n,cf.transition=r}}function uw(){return wn().memoizedState}function F2(e,t,n){var r=Zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cw(e))fw(t,n);else if(n=U1(e,t,n,r),n!==null){var i=Lt();Bn(n,e,r,i),dw(n,t,r)}}function U2(e,t,n){var r=Zr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cw(e))fw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Fn(s,a)){var l=t.interleaved;l===null?(i.next=i,Pp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=U1(e,t,i,r),n!==null&&(i=Lt(),Bn(n,e,r,i),dw(n,t,r))}}function cw(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function fw(e,t){ds=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}var Tu={readContext:yn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},H2={readContext:yn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Vm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xl(4194308,4,iw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xl(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F2.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:Up,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=j2.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=Yn();if($e){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),_t===null)throw Error(Q(349));Hi&30||J1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vm(Z1.bind(null,r,o,e),[e]),r.flags|=2048,Ls(9,Q1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yn(),t=_t.identifierPrefix;if($e){var n=hr,r=dr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=z2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q2={readContext:yn,useCallback:aw,useContext:yn,useEffect:Fp,useImperativeHandle:ow,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:sw,useReducer:ff,useRef:tw,useState:function(){return ff(Ms)},useDebugValue:Up,useDeferredValue:function(e){var t=wn();return lw(t,dt.memoizedState,e)},useTransition:function(){var e=ff(Ms)[0],t=wn().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:Y1,useId:uw,unstable_isNewReconciler:!1},$2={readContext:yn,useCallback:aw,useContext:yn,useEffect:Fp,useImperativeHandle:ow,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:sw,useReducer:df,useRef:tw,useState:function(){return df(Ms)},useDebugValue:Up,useDeferredValue:function(e){var t=wn();return dt===null?t.memoizedState=e:lw(t,dt.memoizedState,e)},useTransition:function(){var e=df(Ms)[0],t=wn().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:Y1,useId:uw,unstable_isNewReconciler:!1};function ta(e,t){try{var n="",r=t;do n+=yb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function hf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var W2=typeof WeakMap=="function"?WeakMap:Map;function hw(e,t,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,Wd=r),Md(e,t)},n}function pw(e,t,n){n=mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Md(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Md(e,t),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Km(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new W2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ok.bind(null,e,t,n),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ym(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mr(-1,1),t.tag=2,Jr(n,t,1))),n.lanes|=1),e)}var V2=kr.ReactCurrentOwner,Ft=!1;function It(e,t,n,r){t.child=e===null?V1(t,null,n,r):Xo(t,e.child,n,r)}function Jm(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=zp(e,t,n,r,o,i),n=jp(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):($e&&n&&Cp(t),t.flags|=1,It(e,t,r,i),t.child)}function Qm(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Yp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,gw(e,t,o,r,i)):(e=ru(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(a,r)&&e.ref===t.ref)return Sr(e,t,i)}return t.flags|=1,e=Xr(o,r),e.ref=t.ref,e.return=t,t.child=e}function gw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Rs(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Sr(e,t,i)}return Ld(e,t,n,r,i)}function mw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ro,Jt),Jt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ro,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(Ro,Jt),Jt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ze(Ro,Jt),Jt|=r;return It(e,t,i,n),t.child}function vw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ld(e,t,n,r,i){var o=$t(n)?Fi:Dt.current;return o=Qo(t,o),Bo(t,i),n=zp(e,t,n,r,o,i),r=jp(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):($e&&r&&Cp(t),t.flags|=1,It(e,t,n,i),t.child)}function Zm(e,t,n,r,i){if($t(n)){var o=!0;Su(t)}else o=!1;if(Bo(t,i),t.stateNode===null)eu(e,t),$1(t,n,r),Id(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=$t(n)?Fi:Dt.current,u=Qo(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&qm(t,a,r,u),Lr=!1;var d=t.memoizedState;a.state=d,Au(t,r,a,i),l=t.memoizedState,s!==r||d!==l||qt.current||Lr?(typeof f=="function"&&(Dd(t,n,f,r),l=t.memoizedState),(s=Lr||Hm(t,n,s,r,d,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,H1(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Rn(t.type,s),a.props=u,c=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=$t(n)?Fi:Dt.current,l=Qo(t,l));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||d!==l)&&qm(t,a,r,l),Lr=!1,d=t.memoizedState,a.state=d,Au(t,r,a,i);var y=t.memoizedState;s!==c||d!==y||qt.current||Lr?(typeof v=="function"&&(Dd(t,n,v,r),y=t.memoizedState),(u=Lr||Hm(t,n,u,r,d,y,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Bd(e,t,n,r,o,i)}function Bd(e,t,n,r,i,o){vw(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Bm(t,n,!1),Sr(e,t,o);r=t.stateNode,V2.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):It(e,t,s,o),t.memoizedState=r.state,i&&Bm(t,n,!0),t.child}function yw(e){var t=e.stateNode;t.pendingContext?Lm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lm(e,t.context,!1),Ip(e,t.containerInfo)}function Xm(e,t,n,r,i){return Zo(),Rp(i),t.flags|=256,It(e,t,n,r),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function jd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ww(e,t,n){var r=t.pendingProps,i=Ye.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(Ye,i&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=mc(a,r,0,null),e=Di(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jd(n),t.memoizedState=zd,e):Hp(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return K2(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xr(s,o):(o=Di(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?jd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=zd,r}return o=e.child,e=o.sibling,r=Xr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hp(e,t){return t=mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,n,r){return r!==null&&Rp(r),Xo(t,e.child,null,n),e=Hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K2(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=hf(Error(Q(422))),Al(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=mc({mode:"visible",children:r.children},i,0,null),o=Di(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xo(t,e.child,null,a),t.child.memoizedState=jd(a),t.memoizedState=zd,o);if(!(t.mode&1))return Al(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Q(419)),r=hf(o,r,void 0),Al(e,t,a,r)}if(s=(a&e.childLanes)!==0,Ft||s){if(r=_t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xr(e,i),Bn(r,e,i,-1))}return Gp(),r=hf(Error(Q(421))),Al(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ak.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Qt=Yr(i.nextSibling),Xt=t,$e=!0,In=null,e!==null&&(un[cn++]=dr,un[cn++]=hr,un[cn++]=Ui,dr=e.id,hr=e.overflow,Ui=t),t=Hp(t,r.children),t.flags|=4096,t)}function ev(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pd(e.return,t,n)}function pf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _w(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(It(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,n,t);else if(e.tag===19)ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ru(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pf(t,!0,n,null,o);break;case"together":pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G2(e,t,n){switch(t.tag){case 3:yw(t),Zo();break;case 5:K1(t);break;case 1:$t(t.type)&&Su(t);break;case 4:Ip(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ze(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?ww(e,t,n):(ze(Ye,Ye.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);ze(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _w(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,mw(e,t,n)}return Sr(e,t,n)}var xw,Fd,Sw,Ew;xw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fd=function(){};Sw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ci(er.current);var o=null;switch(n){case"input":i=ld(e,i),r=ld(e,r),o=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),o=[];break;case"textarea":i=fd(e,i),r=fd(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_u)}hd(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ew=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ia(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Y2(e,t,n){var r=t.pendingProps;switch(Ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return $t(t.type)&&xu(),Ot(t),null;case 3:return r=t.stateNode,ea(),Ue(qt),Ue(Dt),Lp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(Gd(In),In=null))),Fd(e,t),Ot(t),null;case 5:Mp(t);var i=Ci(Ds.current);if(n=t.type,e!==null&&t.stateNode!=null)Sw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Ot(t),null}if(e=Ci(er.current),kl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qn]=t,r[Os]=o,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Xa.length;i++)Fe(Xa[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":um(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":fm(r,o),Fe("invalid",r)}hd(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&bl(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&bl(r.textContent,s,e),i=["children",""+s]):xs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Fe("scroll",r)}switch(n){case"input":ml(r),cm(r,o,!0);break;case"textarea":ml(r),dm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_u)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Qn]=t,e[Os]=r,xw(e,t,!1,!1),t.stateNode=e;e:{switch(a=pd(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),i=r;break;case"iframe":case"object":case"embed":Fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xa.length;i++)Fe(Xa[i],e);i=r;break;case"source":Fe("error",e),i=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=r;break;case"details":Fe("toggle",e),i=r;break;case"input":um(e,r),i=ld(e,r),Fe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":fm(e,r),i=fd(e,r),Fe("invalid",e);break;default:i=r}hd(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Xy(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qy(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ss(e,l):typeof l=="number"&&Ss(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",e):l!=null&&dp(e,o,l,a))}switch(n){case"input":ml(e),cm(e,r,!1);break;case"textarea":ml(e),dm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ni(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Do(e,!!r.multiple,o,!1):r.defaultValue!=null&&Do(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)Ew(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=Ci(Ds.current),Ci(er.current),kl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(o=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:bl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return Ot(t),null;case 13:if(Ue(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Qt!==null&&t.mode&1&&!(t.flags&128))F1(),Zo(),t.flags|=98560,o=!1;else if(o=kl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Qn]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),o=!1}else In!==null&&(Gd(In),In=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?gt===0&&(gt=3):Gp())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return ea(),Fd(e,t),e===null&&Ns(t.stateNode.containerInfo),Ot(t),null;case 10:return Op(t.type._context),Ot(t),null;case 17:return $t(t.type)&&xu(),Ot(t),null;case 19:if(Ue(Ye),o=t.memoizedState,o===null)return Ot(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Ia(o,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ru(e),a!==null){for(t.flags|=128,Ia(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&it()>na&&(t.flags|=128,r=!0,Ia(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ru(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return Ot(t),null}else 2*it()-o.renderingStartTime>na&&n!==1073741824&&(t.flags|=128,r=!0,Ia(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,n=Ye.current,ze(Ye,r?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return Kp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function J2(e,t){switch(Ap(t),t.tag){case 1:return $t(t.type)&&xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(),Ue(qt),Ue(Dt),Lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(Ue(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ye),null;case 4:return ea(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Rl=!1,Pt=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function Ud(e,t,n){try{n()}catch(r){et(e,t,r)}}var tv=!1;function Z2(e,t){if(bd=vu,e=A1(),kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var v;c!==n||i!==0&&c.nodeType!==3||(s=a+i),c!==o||r!==0&&c.nodeType!==3||(l=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(v=c.firstChild)!==null;)d=c,c=v;for(;;){if(c===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++f===r&&(l=a),(v=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=v}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},vu=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:Rn(t.type,_),x);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(p){et(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return y=tv,tv=!1,y}function hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ud(t,n,o)}i=i.next}while(i!==r)}}function pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bw(e){var t=e.alternate;t!==null&&(e.alternate=null,bw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Os],delete t[Rd],delete t[I2],delete t[M2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kw(e){return e.tag===5||e.tag===3||e.tag===4}function nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_u));else if(r!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}function $d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($d(e,t,n),e=e.sibling;e!==null;)$d(e,t,n),e=e.sibling}var Et=null,On=!1;function Or(e,t,n){for(n=n.child;n!==null;)Cw(e,t,n),n=n.sibling}function Cw(e,t,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:Pt||Ao(n,t);case 6:var r=Et,i=On;Et=null,Or(e,t,n),Et=r,On=i,Et!==null&&(On?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(On?(e=Et,n=n.stateNode,e.nodeType===8?sf(e.parentNode,n):e.nodeType===1&&sf(e,n),Cs(e)):sf(Et,n.stateNode));break;case 4:r=Et,i=On,Et=n.stateNode.containerInfo,On=!0,Or(e,t,n),Et=r,On=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ud(n,t,a),i=i.next}while(i!==r)}Or(e,t,n);break;case 1:if(!Pt&&(Ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){et(n,t,s)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Or(e,t,n),Pt=r):Or(e,t,n);break;default:Or(e,t,n)}}function rv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q2),t.forEach(function(r){var i=sk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Et=s.stateNode,On=!1;break e;case 3:Et=s.stateNode.containerInfo,On=!0;break e;case 4:Et=s.stateNode.containerInfo,On=!0;break e}s=s.return}if(Et===null)throw Error(Q(160));Cw(o,a,i),Et=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Aw(t,e),t=t.sibling}function Aw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Vn(e),r&4){try{hs(3,e,e.return),pc(3,e)}catch(_){et(e,e.return,_)}try{hs(5,e,e.return)}catch(_){et(e,e.return,_)}}break;case 1:Cn(t,e),Vn(e),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(Cn(t,e),Vn(e),r&512&&n!==null&&Ao(n,n.return),e.flags&32){var i=e.stateNode;try{Ss(i,"")}catch(_){et(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Gy(i,o),pd(s,a);var u=pd(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?Xy(i,c):f==="dangerouslySetInnerHTML"?Qy(i,c):f==="children"?Ss(i,c):dp(i,f,c,u)}switch(s){case"input":ud(i,o);break;case"textarea":Yy(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Do(i,!!o.multiple,v,!1):d!==!!o.multiple&&(o.defaultValue!=null?Do(i,!!o.multiple,o.defaultValue,!0):Do(i,!!o.multiple,o.multiple?[]:"",!1))}i[Os]=o}catch(_){et(e,e.return,_)}}break;case 6:if(Cn(t,e),Vn(e),r&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){et(e,e.return,_)}}break;case 3:if(Cn(t,e),Vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(_){et(e,e.return,_)}break;case 4:Cn(t,e),Vn(e);break;case 13:Cn(t,e),Vn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wp=it())),r&4&&rv(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||f,Cn(t,e),Pt=u):Cn(t,e),Vn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ne=e,f=e.child;f!==null;){for(c=ne=f;ne!==null;){switch(d=ne,v=d.child,d.tag){case 0:case 11:case 14:case 15:hs(4,d,d.return);break;case 1:Ao(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){et(r,n,_)}}break;case 5:Ao(d,d.return);break;case 22:if(d.memoizedState!==null){ov(c);continue}}v!==null?(v.return=d,ne=v):ov(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Zy("display",a))}catch(_){et(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){et(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Cn(t,e),Vn(e),r&4&&rv(e);break;case 21:break;default:Cn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kw(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ss(i,""),r.flags&=-33);var o=nv(e);$d(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=nv(e);qd(e,s,a);break;default:throw Error(Q(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X2(e,t,n){ne=e,Rw(e)}function Rw(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Rl;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Pt;s=Rl;var u=Pt;if(Rl=a,(Pt=l)&&!u)for(ne=i;ne!==null;)a=ne,l=a.child,a.tag===22&&a.memoizedState!==null?av(i):l!==null?(l.return=a,ne=l):av(i);for(;o!==null;)ne=o,Rw(o),o=o.sibling;ne=i,Rl=s,Pt=u}iv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):iv(e)}}function iv(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||pc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Rn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Um(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Um(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Cs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Pt||t.flags&512&&Hd(t)}catch(d){et(t,t.return,d)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function ov(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function av(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pc(4,t)}catch(l){et(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){et(t,i,l)}}var o=t.return;try{Hd(t)}catch(l){et(t,o,l)}break;case 5:var a=t.return;try{Hd(t)}catch(l){et(t,a,l)}}}catch(l){et(t,t.return,l)}if(t===e){ne=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ne=s;break}ne=t.return}}var ek=Math.ceil,Ou=kr.ReactCurrentDispatcher,qp=kr.ReactCurrentOwner,vn=kr.ReactCurrentBatchConfig,Ae=0,_t=null,ut=null,Ct=0,Jt=0,Ro=ui(0),gt=0,Bs=null,qi=0,gc=0,$p=0,ps=null,jt=null,Wp=0,na=1/0,cr=null,Pu=!1,Wd=null,Qr=null,Nl=!1,$r=null,Du=0,gs=0,Vd=null,tu=-1,nu=0;function Lt(){return Ae&6?it():tu!==-1?tu:tu=it()}function Zr(e){return e.mode&1?Ae&2&&Ct!==0?Ct&-Ct:B2.transition!==null?(nu===0&&(nu=f1()),nu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:y1(e.type)),e):1}function Bn(e,t,n,r){if(50<gs)throw gs=0,Vd=null,Error(Q(185));Qs(e,n,r),(!(Ae&2)||e!==_t)&&(e===_t&&(!(Ae&2)&&(gc|=n),gt===4&&Ur(e,Ct)),Wt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(na=it()+500,fc&&ci()))}function Wt(e,t){var n=e.callbackNode;Bb(e,t);var r=mu(e,e===_t?Ct:0);if(r===0)n!==null&&gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gm(n),t===1)e.tag===0?L2(sv.bind(null,e)):B1(sv.bind(null,e)),P2(function(){!(Ae&6)&&ci()}),n=null;else{switch(d1(r)){case 1:n=vp;break;case 4:n=u1;break;case 16:n=gu;break;case 536870912:n=c1;break;default:n=gu}n=Lw(n,Nw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nw(e,t){if(tu=-1,nu=0,Ae&6)throw Error(Q(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var r=mu(e,e===_t?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Iu(e,r);else{t=r;var i=Ae;Ae|=2;var o=Ow();(_t!==e||Ct!==t)&&(cr=null,na=it()+500,Pi(e,t));do try{rk();break}catch(s){Tw(e,s)}while(1);Tp(),Ou.current=o,Ae=i,ut!==null?t=0:(_t=null,Ct=0,t=gt)}if(t!==0){if(t===2&&(i=wd(e),i!==0&&(r=i,t=Kd(e,i))),t===1)throw n=Bs,Pi(e,0),Ur(e,r),Wt(e,it()),n;if(t===6)Ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!tk(i)&&(t=Iu(e,r),t===2&&(o=wd(e),o!==0&&(r=o,t=Kd(e,o))),t===1))throw n=Bs,Pi(e,0),Ur(e,r),Wt(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:wi(e,jt,cr);break;case 3:if(Ur(e,r),(r&130023424)===r&&(t=Wp+500-it(),10<t)){if(mu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ad(wi.bind(null,e,jt,cr),t);break}wi(e,jt,cr);break;case 4:if(Ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ln(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ek(r/1960))-r,10<r){e.timeoutHandle=Ad(wi.bind(null,e,jt,cr),r);break}wi(e,jt,cr);break;case 5:wi(e,jt,cr);break;default:throw Error(Q(329))}}}return Wt(e,it()),e.callbackNode===n?Nw.bind(null,e):null}function Kd(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Pi(e,t).flags|=256),e=Iu(e,t),e!==2&&(t=jt,jt=n,t!==null&&Gd(t)),e}function Gd(e){jt===null?jt=e:jt.push.apply(jt,e)}function tk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~$p,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ln(t),r=1<<n;e[n]=-1,t&=~r}}function sv(e){if(Ae&6)throw Error(Q(327));zo();var t=mu(e,0);if(!(t&1))return Wt(e,it()),null;var n=Iu(e,t);if(e.tag!==0&&n===2){var r=wd(e);r!==0&&(t=r,n=Kd(e,r))}if(n===1)throw n=Bs,Pi(e,0),Ur(e,t),Wt(e,it()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,jt,cr),Wt(e,it()),null}function Vp(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(na=it()+500,fc&&ci())}}function $i(e){$r!==null&&$r.tag===0&&!(Ae&6)&&zo();var t=Ae;Ae|=1;var n=vn.transition,r=Me;try{if(vn.transition=null,Me=1,e)return e()}finally{Me=r,vn.transition=n,Ae=t,!(Ae&6)&&ci()}}function Kp(){Jt=Ro.current,Ue(Ro)}function Pi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,O2(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:ea(),Ue(qt),Ue(Dt),Lp();break;case 5:Mp(r);break;case 4:ea();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:Op(r.type._context);break;case 22:case 23:Kp()}n=n.return}if(_t=e,ut=e=Xr(e.current,null),Ct=Jt=t,gt=0,Bs=null,$p=gc=qi=0,jt=ps=null,ki!==null){for(t=0;t<ki.length;t++)if(n=ki[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ki=null}return e}function Tw(e,t){do{var n=ut;try{if(Tp(),Zl.current=Tu,Nu){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nu=!1}if(Hi=0,wt=dt=Qe=null,ds=!1,Is=0,qp.current=null,n===null||n.return===null){gt=1,Bs=t,ut=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ct,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Gm(a);if(v!==null){v.flags&=-257,Ym(v,a,s,o,t),v.mode&1&&Km(o,u,t),t=v,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){Km(o,u,t),Gp();break e}l=Error(Q(426))}}else if($e&&s.mode&1){var x=Gm(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ym(x,a,s,o,t),Rp(ta(l,s));break e}}o=l=ta(l,s),gt!==4&&(gt=2),ps===null?ps=[o]:ps.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=hw(o,l,t);Fm(o,h);break e;case 1:s=l;var m=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var p=pw(o,s,t);Fm(o,p);break e}}o=o.return}while(o!==null)}Dw(n)}catch(w){t=w,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function Ow(){var e=Ou.current;return Ou.current=Tu,e===null?Tu:e}function Gp(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||!(qi&268435455)&&!(gc&268435455)||Ur(_t,Ct)}function Iu(e,t){var n=Ae;Ae|=2;var r=Ow();(_t!==e||Ct!==t)&&(cr=null,Pi(e,t));do try{nk();break}catch(i){Tw(e,i)}while(1);if(Tp(),Ae=n,Ou.current=r,ut!==null)throw Error(Q(261));return _t=null,Ct=0,gt}function nk(){for(;ut!==null;)Pw(ut)}function rk(){for(;ut!==null&&!Rb();)Pw(ut)}function Pw(e){var t=Mw(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?Dw(e):ut=t,qp.current=null}function Dw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=J2(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ut=null;return}}else if(n=Y2(n,t,Jt),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);gt===0&&(gt=5)}function wi(e,t,n){var r=Me,i=vn.transition;try{vn.transition=null,Me=1,ik(e,t,n,r)}finally{vn.transition=i,Me=r}return null}function ik(e,t,n,r){do zo();while($r!==null);if(Ae&6)throw Error(Q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zb(e,o),e===_t&&(ut=_t=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nl||(Nl=!0,Lw(gu,function(){return zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vn.transition,vn.transition=null;var a=Me;Me=1;var s=Ae;Ae|=4,qp.current=null,Z2(e,n),Aw(n,e),b2(kd),vu=!!bd,kd=bd=null,e.current=n,X2(n),Nb(),Ae=s,Me=a,vn.transition=o}else e.current=n;if(Nl&&(Nl=!1,$r=e,Du=i),o=e.pendingLanes,o===0&&(Qr=null),Pb(n.stateNode),Wt(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pu)throw Pu=!1,e=Wd,Wd=null,e;return Du&1&&e.tag!==0&&zo(),o=e.pendingLanes,o&1?e===Vd?gs++:(gs=0,Vd=e):gs=0,ci(),null}function zo(){if($r!==null){var e=d1(Du),t=vn.transition,n=Me;try{if(vn.transition=null,Me=16>e?16:e,$r===null)var r=!1;else{if(e=$r,$r=null,Du=0,Ae&6)throw Error(Q(331));var i=Ae;for(Ae|=4,ne=e.current;ne!==null;){var o=ne,a=o.child;if(ne.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ne=u;ne!==null;){var f=ne;switch(f.tag){case 0:case 11:case 15:hs(8,f,o)}var c=f.child;if(c!==null)c.return=f,ne=c;else for(;ne!==null;){f=ne;var d=f.sibling,v=f.return;if(bw(f),f===u){ne=null;break}if(d!==null){d.return=v,ne=d;break}ne=v}}}var y=o.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ne=a;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hs(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,ne=h;break e}ne=o.return}}var m=e.current;for(ne=m;ne!==null;){a=ne;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,ne=g;else e:for(a=m;ne!==null;){if(s=ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:pc(9,s)}}catch(w){et(s,s.return,w)}if(s===a){ne=null;break e}var p=s.sibling;if(p!==null){p.return=s.return,ne=p;break e}ne=s.return}}if(Ae=i,ci(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(ac,e)}catch{}r=!0}return r}finally{Me=n,vn.transition=t}}return!1}function lv(e,t,n){t=ta(n,t),t=hw(e,t,1),e=Jr(e,t,1),t=Lt(),e!==null&&(Qs(e,1,t),Wt(e,t))}function et(e,t,n){if(e.tag===3)lv(e,e,n);else for(;t!==null;){if(t.tag===3){lv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){e=ta(n,e),e=pw(t,e,1),t=Jr(t,e,1),e=Lt(),t!==null&&(Qs(t,1,e),Wt(t,e));break}}t=t.return}}function ok(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(Ct&n)===n&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>it()-Wp?Pi(e,0):$p|=n),Wt(e,t)}function Iw(e,t){t===0&&(e.mode&1?(t=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):t=1);var n=Lt();e=xr(e,t),e!==null&&(Qs(e,t,n),Wt(e,n))}function ak(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iw(e,n)}function sk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Iw(e,n)}var Mw;Mw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,G2(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,$e&&t.flags&1048576&&z1(t,bu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;eu(e,t),e=t.pendingProps;var i=Qo(t,Dt.current);Bo(t,n),i=zp(null,t,r,e,i,n);var o=jp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(o=!0,Su(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dp(t),i.updater=dc,t.stateNode=i,i._reactInternals=t,Id(t,r,e,n),t=Bd(null,t,r,!0,o,n)):(t.tag=0,$e&&o&&Cp(t),It(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(eu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uk(r),e=Rn(r,e),i){case 0:t=Ld(null,t,r,e,n);break e;case 1:t=Zm(null,t,r,e,n);break e;case 11:t=Jm(null,t,r,e,n);break e;case 14:t=Qm(null,t,r,Rn(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),Ld(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),Zm(e,t,r,i,n);case 3:e:{if(yw(t),e===null)throw Error(Q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,H1(e,t),Au(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ta(Error(Q(423)),t),t=Xm(e,t,r,n,i);break e}else if(r!==i){i=ta(Error(Q(424)),t),t=Xm(e,t,r,n,i);break e}else for(Qt=Yr(t.stateNode.containerInfo.firstChild),Xt=t,$e=!0,In=null,n=V1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),r===i){t=Sr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return K1(t),e===null&&Od(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Cd(r,i)?a=null:o!==null&&Cd(r,o)&&(t.flags|=32),vw(e,t),It(e,t,a,n),t.child;case 6:return e===null&&Od(t),null;case 13:return ww(e,t,n);case 4:return Ip(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xo(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),Jm(e,t,r,i,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ze(ku,r._currentValue),r._currentValue=a,o!==null)if(Fn(o.value,a)){if(o.children===i.children&&!qt.current){t=Sr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=mr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pd(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Pd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}It(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bo(t,n),i=yn(i),r=r(i),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,i=Rn(r,t.pendingProps),i=Rn(r.type,i),Qm(e,t,r,i,n);case 15:return gw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),eu(e,t),t.tag=1,$t(r)?(e=!0,Su(t)):e=!1,Bo(t,n),$1(t,r,i),Id(t,r,i,n),Bd(null,t,r,!0,e,n);case 19:return _w(e,t,n);case 22:return mw(e,t,n)}throw Error(Q(156,t.tag))};function Lw(e,t){return l1(e,t)}function lk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new lk(e,t,n,r)}function Yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uk(e){if(typeof e=="function")return Yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===gp)return 14}return 2}function Xr(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ru(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Yp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case yo:return Di(n.children,i,o,t);case hp:a=8,i|=8;break;case id:return e=gn(12,n,t,i|2),e.elementType=id,e.lanes=o,e;case od:return e=gn(13,n,t,i),e.elementType=od,e.lanes=o,e;case ad:return e=gn(19,n,t,i),e.elementType=ad,e.lanes=o,e;case Wy:return mc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qy:a=10;break e;case $y:a=9;break e;case pp:a=11;break e;case gp:a=14;break e;case Mr:a=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=gn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Di(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function mc(e,t,n,r){return e=gn(22,e,r,t),e.elementType=Wy,e.lanes=n,e.stateNode={isHidden:!1},e}function gf(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function mf(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ck(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jp(e,t,n,r,i,o,a,s,l){return e=new ck(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(o),e}function fk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bw(e){if(!e)return ri;e=e._reactInternals;e:{if(eo(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if($t(n))return L1(e,n,t)}return t}function zw(e,t,n,r,i,o,a,s,l){return e=Jp(n,r,!0,e,i,o,a,s,l),e.context=Bw(null),n=e.current,r=Lt(),i=Zr(n),o=mr(r,i),o.callback=t??null,Jr(n,o,i),e.current.lanes=i,Qs(e,i,r),Wt(e,r),e}function vc(e,t,n,r){var i=t.current,o=Lt(),a=Zr(i);return n=Bw(n),t.context===null?t.context=n:t.pendingContext=n,t=mr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jr(i,t,a),e!==null&&(Bn(e,i,a,o),Ql(e,i,a)),a}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qp(e,t){uv(e,t),(e=e.alternate)&&uv(e,t)}function dk(){return null}var jw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zp(e){this._internalRoot=e}yc.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));vc(e,t,null,null)};yc.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$i(function(){vc(null,e,null,null)}),t[_r]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=g1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fr.length&&t!==0&&t<Fr[n].priority;n++);Fr.splice(n,0,e),n===0&&v1(e)}};function Xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cv(){}function hk(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Mu(a);o.call(u)}}var a=zw(t,r,e,0,null,!1,!1,"",cv);return e._reactRootContainer=a,e[_r]=a.current,Ns(e.nodeType===8?e.parentNode:e),$i(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Mu(l);s.call(u)}}var l=Jp(e,0,!1,null,null,!1,!1,"",cv);return e._reactRootContainer=l,e[_r]=l.current,Ns(e.nodeType===8?e.parentNode:e),$i(function(){vc(t,l,n,r)}),l}function _c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Mu(a);s.call(l)}}vc(t,a,e,i)}else a=hk(n,t,e,i,r);return Mu(a)}h1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Za(t.pendingLanes);n!==0&&(yp(t,n|1),Wt(t,it()),!(Ae&6)&&(na=it()+500,ci()))}break;case 13:$i(function(){var r=xr(e,1);if(r!==null){var i=Lt();Bn(r,e,1,i)}}),Qp(e,1)}};wp=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var n=Lt();Bn(t,e,134217728,n)}Qp(e,134217728)}};p1=function(e){if(e.tag===13){var t=Zr(e),n=xr(e,t);if(n!==null){var r=Lt();Bn(n,e,t,r)}Qp(e,t)}};g1=function(){return Me};m1=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};md=function(e,t,n){switch(t){case"input":if(ud(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cc(r);if(!i)throw Error(Q(90));Ky(r),ud(r,i)}}}break;case"textarea":Yy(e,n);break;case"select":t=n.value,t!=null&&Do(e,!!n.multiple,t,!1)}};n1=Vp;r1=$i;var pk={usingClientEntryPoint:!1,Events:[Xs,So,cc,e1,t1,Vp]},Ma={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gk={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ac=Tl.inject(gk),Xn=Tl}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(t))throw Error(Q(200));return fk(e,t,null,n)};an.createRoot=function(e,t){if(!Xp(e))throw Error(Q(299));var n=!1,r="",i=jw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jp(e,1,!1,null,null,n,!1,r,i),e[_r]=t.current,Ns(e.nodeType===8?e.parentNode:e),new Zp(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=a1(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return $i(e)};an.hydrate=function(e,t,n){if(!wc(t))throw Error(Q(200));return _c(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!Xp(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=jw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=zw(t,null,e,1,n??null,i,!1,o,a),e[_r]=t.current,Ns(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new yc(t)};an.render=function(e,t,n){if(!wc(t))throw Error(Q(200));return _c(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!wc(e))throw Error(Q(40));return e._reactRootContainer?($i(function(){_c(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1};an.unstable_batchedUpdates=Vp;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wc(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return _c(e,t,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=an})(db);const mk=ip(_s);var fv=_s;td.createRoot=fv.createRoot,td.hydrateRoot=fv.hydrateRoot;function Rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Rt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const dv=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const v=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,v))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},u=t=e(r,i,l);return l},eg=e=>e?dv(e):dv;var Yd={},vk={get exports(){return Yd},set exports(e){Yd=e}},Fw={},Jd={},yk={get exports(){return Jd},set exports(e){Jd=e}},Uw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=k;function wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _k=typeof Object.is=="function"?Object.is:wk,xk=ra.useState,Sk=ra.useEffect,Ek=ra.useLayoutEffect,bk=ra.useDebugValue;function kk(e,t){var n=t(),r=xk({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Ek(function(){i.value=n,i.getSnapshot=t,vf(i)&&o({inst:i})},[e,n,t]),Sk(function(){return vf(i)&&o({inst:i}),e(function(){vf(i)&&o({inst:i})})},[e]),bk(n),n}function vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_k(e,n)}catch{return!0}}function Ck(e,t){return t()}var Ak=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ck:kk;Uw.useSyncExternalStore=ra.useSyncExternalStore!==void 0?ra.useSyncExternalStore:Ak;(function(e){e.exports=Uw})(yk);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=k,Rk=Jd;function Nk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tk=typeof Object.is=="function"?Object.is:Nk,Ok=Rk.useSyncExternalStore,Pk=xc.useRef,Dk=xc.useEffect,Ik=xc.useMemo,Mk=xc.useDebugValue;Fw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Pk(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Ik(function(){function l(v){if(!u){if(u=!0,f=v,v=r(v),i!==void 0&&a.hasValue){var y=a.value;if(i(y,v))return c=y}return c=v}if(y=c,Tk(f,v))return y;var _=r(v);return i!==void 0&&i(y,_)?y:(f=v,c=_)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var s=Ok(e,o[0],o[1]);return Dk(function(){a.hasValue=!0,a.value=s},[s]),Mk(s),s};(function(e){e.exports=Fw})(vk);const Lk=ip(Yd),{useDebugValue:Bk}=oe,{useSyncExternalStoreWithSelector:zk}=Lk;const jk=e=>e;function Sc(e,t=jk,n){const r=zk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Bk(r),r}const hv=e=>{const t=typeof e=="function"?eg(e):e,n=(r,i)=>Sc(t,r,i);return Object.assign(n,t),n},va=e=>e?hv(e):hv;var Fk=e=>va(e);const Uk=Object.freeze(Object.defineProperty({__proto__:null,create:va,createStore:eg,default:Fk,useStore:Sc},Symbol.toStringTag,{value:"Module"}));function vt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Hk={value:()=>{}};function Ec(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new iu(n)}function iu(e){this._=e}function qk(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}iu.prototype=Ec.prototype={constructor:iu,on:function(e,t){var n=this._,r=qk(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=$k(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=pv(n[i],e.name,t);else if(t==null)for(i in n)n[i]=pv(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new iu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function $k(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function pv(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Hk,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qd="http://www.w3.org/1999/xhtml";const gv={svg:"http://www.w3.org/2000/svg",xhtml:Qd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),gv.hasOwnProperty(t)?{space:gv[t],local:e}:e}function Wk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qd&&t.documentElement.namespaceURI===Qd?t.createElement(e):t.createElementNS(n,e)}}function Vk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hw(e){var t=bc(e);return(t.local?Vk:Wk)(t)}function Kk(){}function tg(e){return e==null?Kk:function(){return this.querySelector(e)}}function Gk(e){typeof e!="function"&&(e=tg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,f=0;f<a;++f)(l=o[f])&&(u=e.call(l,l.__data__,f,o))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new nn(r,this._parents)}function Yk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Jk(){return[]}function qw(e){return e==null?Jk:function(){return this.querySelectorAll(e)}}function Qk(e){return function(){return Yk(e.apply(this,arguments))}}function Zk(e){typeof e=="function"?e=Qk(e):e=qw(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new nn(r,i)}function $w(e){return function(){return this.matches(e)}}function Ww(e){return function(t){return t.matches(e)}}var Xk=Array.prototype.find;function eC(e){return function(){return Xk.call(this.children,e)}}function tC(){return this.firstElementChild}function nC(e){return this.select(e==null?tC:eC(typeof e=="function"?e:Ww(e)))}var rC=Array.prototype.filter;function iC(){return Array.from(this.children)}function oC(e){return function(){return rC.call(this.children,e)}}function aC(e){return this.selectAll(e==null?iC:oC(typeof e=="function"?e:Ww(e)))}function sC(e){typeof e!="function"&&(e=$w(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new nn(r,this._parents)}function Vw(e){return new Array(e.length)}function lC(){return new nn(this._enter||this._groups.map(Vw),this._parents)}function Lu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lu.prototype={constructor:Lu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uC(e){return function(){return e}}function cC(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Lu(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function fC(e,t,n,r,i,o,a){var s,l,u=new Map,f=t.length,c=o.length,d=new Array(f),v;for(s=0;s<f;++s)(l=t[s])&&(d[s]=v=a.call(l,l.__data__,s,t)+"",u.has(v)?i[s]=l:u.set(v,l));for(s=0;s<c;++s)v=a.call(e,o[s],s,o)+"",(l=u.get(v))?(r[s]=l,l.__data__=o[s],u.delete(v)):n[s]=new Lu(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function dC(e){return e.__data__}function hC(e,t){if(!arguments.length)return Array.from(this,dC);var n=t?fC:cC,r=this._parents,i=this._groups;typeof e!="function"&&(e=uC(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],d=c.length,v=pC(e.call(f,f&&f.__data__,u,r)),y=v.length,_=s[u]=new Array(y),x=a[u]=new Array(y),h=l[u]=new Array(d);n(f,c,_,x,h,v,t);for(var m=0,g=0,p,w;m<y;++m)if(p=_[m]){for(m>=g&&(g=m+1);!(w=x[g])&&++g<y;);p._next=w||null}}return a=new nn(a,r),a._enter=s,a._exit=l,a}function pC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gC(){return new nn(this._exit||this._groups.map(Vw),this._parents)}function mC(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function vC(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],f=r[l],c=u.length,d=s[l]=new Array(c),v,y=0;y<c;++y)(v=u[y]||f[y])&&(d[y]=v);for(;l<i;++l)s[l]=n[l];return new nn(s,this._parents)}function yC(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function wC(e){e||(e=_C);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,f=0;f<s;++f)(u=a[f])&&(l[f]=u);l.sort(t)}return new nn(i,this._parents).order()}function _C(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function SC(){return Array.from(this)}function EC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function bC(){let e=0;for(const t of this)++e;return e}function kC(){return!this.node()}function CC(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function AC(e){return function(){this.removeAttribute(e)}}function RC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NC(e,t){return function(){this.setAttribute(e,t)}}function TC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function PC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function DC(e,t){var n=bc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?RC:AC:typeof t=="function"?n.local?PC:OC:n.local?TC:NC)(n,t))}function Kw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function IC(e){return function(){this.style.removeProperty(e)}}function MC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function LC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function BC(e,t,n){return arguments.length>1?this.each((t==null?IC:typeof t=="function"?LC:MC)(e,t,n??"")):ia(this.node(),e)}function ia(e,t){return e.style.getPropertyValue(t)||Kw(e).getComputedStyle(e,null).getPropertyValue(t)}function zC(e){return function(){delete this[e]}}function jC(e,t){return function(){this[e]=t}}function FC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UC(e,t){return arguments.length>1?this.each((t==null?zC:typeof t=="function"?FC:jC)(e,t)):this.node()[e]}function Gw(e){return e.trim().split(/^|\s+/)}function ng(e){return e.classList||new Yw(e)}function Yw(e){this._node=e,this._names=Gw(e.getAttribute("class")||"")}Yw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Jw(e,t){for(var n=ng(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Qw(e,t){for(var n=ng(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function HC(e){return function(){Jw(this,e)}}function qC(e){return function(){Qw(this,e)}}function $C(e,t){return function(){(t.apply(this,arguments)?Jw:Qw)(this,e)}}function WC(e,t){var n=Gw(e+"");if(arguments.length<2){for(var r=ng(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?$C:t?HC:qC)(n,t))}function VC(){this.textContent=""}function KC(e){return function(){this.textContent=e}}function GC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function YC(e){return arguments.length?this.each(e==null?VC:(typeof e=="function"?GC:KC)(e)):this.node().textContent}function JC(){this.innerHTML=""}function QC(e){return function(){this.innerHTML=e}}function ZC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function XC(e){return arguments.length?this.each(e==null?JC:(typeof e=="function"?ZC:QC)(e)):this.node().innerHTML}function eA(){this.nextSibling&&this.parentNode.appendChild(this)}function tA(){return this.each(eA)}function nA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rA(){return this.each(nA)}function iA(e){var t=typeof e=="function"?e:Hw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oA(){return null}function aA(e,t){var n=typeof e=="function"?e:Hw(e),r=t==null?oA:typeof t=="function"?t:tg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sA(){var e=this.parentNode;e&&e.removeChild(this)}function lA(){return this.each(sA)}function uA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fA(e){return this.select(e?cA:uA)}function dA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hA(e){return function(t){e.call(this,t,this.__data__)}}function pA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mA(e,t,n){return function(){var r=this.__on,i,o=hA(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function vA(e,t,n){var r=pA(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(i=0,f=s[l];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(s=t?mA:gA,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Zw(e,t,n){var r=Kw(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function yA(e,t){return function(){return Zw(this,e,t)}}function wA(e,t){return function(){return Zw(this,e,t.apply(this,arguments))}}function _A(e,t){return this.each((typeof t=="function"?wA:yA)(e,t))}function*xA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Xw=[null];function nn(e,t){this._groups=e,this._parents=t}function tl(){return new nn([[document.documentElement]],Xw)}function SA(){return this}nn.prototype=tl.prototype={constructor:nn,select:Gk,selectAll:Zk,selectChild:nC,selectChildren:aC,filter:sC,data:hC,enter:lC,exit:gC,join:mC,merge:vC,selection:SA,order:yC,sort:wC,call:xC,nodes:SC,node:EC,size:bC,empty:kC,each:CC,attr:DC,style:BC,property:UC,classed:WC,text:YC,html:XC,raise:tA,lower:rA,append:iA,insert:aA,remove:lA,clone:fA,datum:dA,on:vA,dispatch:_A,[Symbol.iterator]:xA};function hn(e){return typeof e=="string"?new nn([[document.querySelector(e)]],[document.documentElement]):new nn([[e]],Xw)}function EA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pn(e,t){if(e=EA(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const bA={passive:!1},zs={capture:!0,passive:!1};function yf(e){e.stopImmediatePropagation()}function jo(e){e.preventDefault(),e.stopImmediatePropagation()}function e_(e){var t=e.document.documentElement,n=hn(e).on("dragstart.drag",jo,zs);"onselectstart"in t?n.on("selectstart.drag",jo,zs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function t_(e,t){var n=e.document.documentElement,r=hn(e).on("dragstart.drag",null);t&&(r.on("click.drag",jo,zs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ol=e=>()=>e;function Zd(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Zd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kA(e){return!e.ctrlKey&&!e.button}function CA(){return this.parentNode}function AA(e,t){return t??{x:e.x,y:e.y}}function RA(){return navigator.maxTouchPoints||"ontouchstart"in this}function NA(){var e=kA,t=CA,n=AA,r=RA,i={},o=Ec("start","drag","end"),a=0,s,l,u,f,c=0;function d(p){p.on("mousedown.drag",v).filter(r).on("touchstart.drag",x).on("touchmove.drag",h,bA).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(p,w){if(!(f||!e.call(this,p,w))){var S=g(this,t.call(this,p,w),p,w,"mouse");S&&(hn(p.view).on("mousemove.drag",y,zs).on("mouseup.drag",_,zs),e_(p.view),yf(p),u=!1,s=p.clientX,l=p.clientY,S("start",p))}}function y(p){if(jo(p),!u){var w=p.clientX-s,S=p.clientY-l;u=w*w+S*S>c}i.mouse("drag",p)}function _(p){hn(p.view).on("mousemove.drag mouseup.drag",null),t_(p.view,u),jo(p),i.mouse("end",p)}function x(p,w){if(e.call(this,p,w)){var S=p.changedTouches,C=t.call(this,p,w),R=S.length,O,B;for(O=0;O<R;++O)(B=g(this,C,p,w,S[O].identifier,S[O]))&&(yf(p),B("start",p,S[O]))}}function h(p){var w=p.changedTouches,S=w.length,C,R;for(C=0;C<S;++C)(R=i[w[C].identifier])&&(jo(p),R("drag",p,w[C]))}function m(p){var w=p.changedTouches,S=w.length,C,R;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),C=0;C<S;++C)(R=i[w[C].identifier])&&(yf(p),R("end",p,w[C]))}function g(p,w,S,C,R,O){var B=o.copy(),F=Pn(O||S,w),L,z,T;if((T=n.call(p,new Zd("beforestart",{sourceEvent:S,target:d,identifier:R,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:B}),C))!=null)return L=T.x-F[0]||0,z=T.y-F[1]||0,function M(D,P,b){var A=F,N;switch(D){case"start":i[R]=M,N=a++;break;case"end":delete i[R],--a;case"drag":F=Pn(b||P,w),N=a;break}B.call(D,p,new Zd(D,{sourceEvent:P,subject:T,target:d,identifier:R,active:N,x:F[0]+L,y:F[1]+z,dx:F[0]-A[0],dy:F[1]-A[1],dispatch:B}),C)}}return d.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Ol(!!p),d):e},d.container=function(p){return arguments.length?(t=typeof p=="function"?p:Ol(p),d):t},d.subject=function(p){return arguments.length?(n=typeof p=="function"?p:Ol(p),d):n},d.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Ol(!!p),d):r},d.on=function(){var p=o.on.apply(o,arguments);return p===o?d:p},d.clickDistance=function(p){return arguments.length?(c=(p=+p)*p,d):Math.sqrt(c)},d}function rg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nl(){}var js=.7,Bu=1/js,Fo="\\s*([+-]?\\d+)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TA=/^#([0-9a-f]{3,8})$/,OA=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),PA=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),DA=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${Fs}\\)$`),IA=new RegExp(`^rgba\\(${tr},${tr},${tr},${Fs}\\)$`),MA=new RegExp(`^hsl\\(${Fs},${tr},${tr}\\)$`),LA=new RegExp(`^hsla\\(${Fs},${tr},${tr},${Fs}\\)$`),mv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rg(nl,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vv,formatHex:vv,formatHex8:BA,formatHsl:zA,formatRgb:yv,toString:yv});function vv(){return this.rgb().formatHex()}function BA(){return this.rgb().formatHex8()}function zA(){return r_(this).formatHsl()}function yv(){return this.rgb().formatRgb()}function Us(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wv(t):n===3?new Ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OA.exec(e))?new Ut(t[1],t[2],t[3],1):(t=PA.exec(e))?new Ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DA.exec(e))?Pl(t[1],t[2],t[3],t[4]):(t=IA.exec(e))?Pl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=MA.exec(e))?Sv(t[1],t[2]/100,t[3]/100,1):(t=LA.exec(e))?Sv(t[1],t[2]/100,t[3]/100,t[4]):mv.hasOwnProperty(e)?wv(mv[e]):e==="transparent"?new Ut(NaN,NaN,NaN,0):null}function wv(e){return new Ut(e>>16&255,e>>8&255,e&255,1)}function Pl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function jA(e){return e instanceof nl||(e=Us(e)),e?(e=e.rgb(),new Ut(e.r,e.g,e.b,e.opacity)):new Ut}function Xd(e,t,n,r){return arguments.length===1?jA(e):new Ut(e,t,n,r??1)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rg(Ut,Xd,n_(nl,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(Ii(this.r),Ii(this.g),Ii(this.b),zu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_v,formatHex:_v,formatHex8:FA,formatRgb:xv,toString:xv}));function _v(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}`}function FA(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}${Ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function xv(){const e=zu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ii(this.r)}, ${Ii(this.g)}, ${Ii(this.b)}${e===1?")":`, ${e})`}`}function zu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ii(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ai(e){return e=Ii(e),(e<16?"0":"")+e.toString(16)}function Sv(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,r)}function r_(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof nl||(e=Us(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Mn(a,s,l,e.opacity)}function UA(e,t,n,r){return arguments.length===1?r_(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rg(Mn,UA,n_(nl,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ut(wf(e>=240?e-240:e+120,i,r),wf(e,i,r),wf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Mn(Ev(this.h),Dl(this.s),Dl(this.l),zu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zu(this.opacity);return`${e===1?"hsl(":"hsla("}${Ev(this.h)}, ${Dl(this.s)*100}%, ${Dl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ev(e){return e=(e||0)%360,e<0?e+360:e}function Dl(e){return Math.max(0,Math.min(1,e||0))}function wf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const i_=e=>()=>e;function HA(e,t){return function(n){return e+n*t}}function qA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $A(e){return(e=+e)==1?o_:function(t,n){return n-t?qA(t,n,e):i_(isNaN(t)?n:t)}}function o_(e,t){var n=t-e;return n?HA(e,n):i_(isNaN(e)?t:e)}const bv=function e(t){var n=$A(t);function r(i,o){var a=n((i=Xd(i)).r,(o=Xd(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=o_(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Br(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_f=new RegExp(eh.source,"g");function WA(e){return function(){return e}}function VA(e){return function(t){return e(t)+""}}function KA(e,t){var n=eh.lastIndex=_f.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=eh.exec(e))&&(i=_f.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Br(r,i)})),n=_f.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?VA(l[0].x):WA(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}var kv=180/Math.PI,th={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a_(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*kv,skewX:Math.atan(l)*kv,scaleX:a,scaleY:s}}var Il;function GA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?th:a_(t.a,t.b,t.c,t.d,t.e,t.f)}function YA(e){return e==null||(Il||(Il=document.createElementNS("http://www.w3.org/2000/svg","g")),Il.setAttribute("transform",e),!(e=Il.transform.baseVal.consolidate()))?th:(e=e.matrix,a_(e.a,e.b,e.c,e.d,e.e,e.f))}function s_(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,d,v,y){if(u!==c||f!==d){var _=v.push("translate(",null,t,null,n);y.push({i:_-4,x:Br(u,c)},{i:_-2,x:Br(f,d)})}else(c||d)&&v.push("translate("+c+t+d+n)}function a(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Br(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function s(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Br(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function l(u,f,c,d,v,y){if(u!==c||f!==d){var _=v.push(i(v)+"scale(",null,",",null,")");y.push({i:_-4,x:Br(u,c)},{i:_-2,x:Br(f,d)})}else(c!==1||d!==1)&&v.push(i(v)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,d),a(u.rotate,f.rotate,c,d),s(u.skewX,f.skewX,c,d),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(v){for(var y=-1,_=d.length,x;++y<_;)c[(x=d[y]).i]=x.x(v);return c.join("")}}}var JA=s_(GA,"px, ","px)","deg)"),QA=s_(YA,", ",")",")"),ZA=1e-12;function Cv(e){return((e=Math.exp(e))+1/e)/2}function XA(e){return((e=Math.exp(e))-1/e)/2}function e3(e){return((e=Math.exp(2*e))-1)/(e+1)}const t3=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],f=a[0],c=a[1],d=a[2],v=f-s,y=c-l,_=v*v+y*y,x,h;if(_<ZA)h=Math.log(d/u)/t,x=function(C){return[s+C*v,l+C*y,u*Math.exp(t*C*h)]};else{var m=Math.sqrt(_),g=(d*d-u*u+r*_)/(2*u*n*m),p=(d*d-u*u-r*_)/(2*d*n*m),w=Math.log(Math.sqrt(g*g+1)-g),S=Math.log(Math.sqrt(p*p+1)-p);h=(S-w)/t,x=function(C){var R=C*h,O=Cv(w),B=u/(n*m)*(O*e3(t*R+w)-XA(w));return[s+B*v,l+B*y,u*O/Cv(t*R+w)]}}return x.duration=h*1e3*t/Math.SQRT2,x}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var oa=0,es=0,La=0,l_=1e3,ju,ts,Fu=0,Wi=0,kc=0,Hs=typeof performance=="object"&&performance.now?performance:Date,u_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ig(){return Wi||(u_(n3),Wi=Hs.now()+kc)}function n3(){Wi=0}function Uu(){this._call=this._time=this._next=null}Uu.prototype=c_.prototype={constructor:Uu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ig():+n)+(t==null?0:+t),!this._next&&ts!==this&&(ts?ts._next=this:ju=this,ts=this),this._call=e,this._time=n,nh()},stop:function(){this._call&&(this._call=null,this._time=1/0,nh())}};function c_(e,t,n){var r=new Uu;return r.restart(e,t,n),r}function r3(){ig(),++oa;for(var e=ju,t;e;)(t=Wi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--oa}function Av(){Wi=(Fu=Hs.now())+kc,oa=es=0;try{r3()}finally{oa=0,o3(),Wi=0}}function i3(){var e=Hs.now(),t=e-Fu;t>l_&&(kc-=t,Fu=e)}function o3(){for(var e,t=ju,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ju=n);ts=e,nh(r)}function nh(e){if(!oa){es&&(es=clearTimeout(es));var t=e-Wi;t>24?(e<1/0&&(es=setTimeout(Av,e-Hs.now()-kc)),La&&(La=clearInterval(La))):(La||(Fu=Hs.now(),La=setInterval(i3,l_)),oa=1,u_(Av))}}function Rv(e,t,n){var r=new Uu;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var a3=Ec("start","end","cancel","interrupt"),s3=[],f_=0,Nv=1,rh=2,ou=3,Tv=4,ih=5,au=6;function Cc(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;l3(e,n,{name:t,index:r,group:i,on:a3,tween:s3,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f_})}function og(e,t){var n=Un(e,t);if(n.state>f_)throw new Error("too late; already scheduled");return n}function rr(e,t){var n=Un(e,t);if(n.state>ou)throw new Error("too late; already running");return n}function Un(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function l3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=c_(o,0,n.time);function o(u){n.state=Nv,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,c,d,v;if(n.state!==Nv)return l();for(f in r)if(v=r[f],v.name===n.name){if(v.state===ou)return Rv(a);v.state===Tv?(v.state=au,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[f]):+f<t&&(v.state=au,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[f])}if(Rv(function(){n.state===ou&&(n.state=Tv,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=rh,n.on.call("start",e,e.__data__,n.index,n.group),n.state===rh){for(n.state=ou,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(v=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=v);i.length=c+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ih,1),c=-1,d=i.length;++c<d;)i[c].call(e,f);n.state===ih&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=au,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function su(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>rh&&r.state<ih,r.state=au,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function u3(e){return this.each(function(){su(this,e)})}function c3(e,t){var n,r;return function(){var i=rr(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function f3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=rr(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function d3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Un(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?c3:f3)(n,e,t))}function ag(e,t,n){var r=e._id;return e.each(function(){var i=rr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Un(i,r).value[t]}}function d_(e,t){var n;return(typeof t=="number"?Br:t instanceof Us?bv:(n=Us(t))?(t=n,bv):KA)(e,t)}function h3(e){return function(){this.removeAttribute(e)}}function p3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g3(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function m3(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function v3(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function y3(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function w3(e,t){var n=bc(e),r=n==="transform"?QA:d_;return this.attrTween(e,typeof t=="function"?(n.local?y3:v3)(n,r,ag(this,"attr."+e,t)):t==null?(n.local?p3:h3)(n):(n.local?m3:g3)(n,r,t))}function _3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function x3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function S3(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&x3(e,o)),n}return i._value=t,i}function E3(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_3(e,o)),n}return i._value=t,i}function b3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=bc(e);return this.tween(n,(r.local?S3:E3)(r,t))}function k3(e,t){return function(){og(this,e).delay=+t.apply(this,arguments)}}function C3(e,t){return t=+t,function(){og(this,e).delay=t}}function A3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k3:C3)(t,e)):Un(this.node(),t).delay}function R3(e,t){return function(){rr(this,e).duration=+t.apply(this,arguments)}}function N3(e,t){return t=+t,function(){rr(this,e).duration=t}}function T3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R3:N3)(t,e)):Un(this.node(),t).duration}function O3(e,t){if(typeof t!="function")throw new Error;return function(){rr(this,e).ease=t}}function P3(e){var t=this._id;return arguments.length?this.each(O3(t,e)):Un(this.node(),t).ease}function D3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rr(this,e).ease=n}}function I3(e){if(typeof e!="function")throw new Error;return this.each(D3(this._id,e))}function M3(e){typeof e!="function"&&(e=$w(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Er(r,this._parents,this._name,this._id)}function L3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],f=l.length,c=a[s]=new Array(f),d,v=0;v<f;++v)(d=l[v]||u[v])&&(c[v]=d);for(;s<r;++s)a[s]=t[s];return new Er(a,this._parents,this._name,this._id)}function B3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function z3(e,t,n){var r,i,o=B3(t)?og:rr;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function j3(e,t){var n=this._id;return arguments.length<2?Un(this.node(),n).on.on(e):this.each(z3(n,e,t))}function F3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function U3(){return this.on("end.remove",F3(this._id))}function H3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=tg(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),f,c,d=0;d<l;++d)(f=s[d])&&(c=e.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Cc(u[d],t,n,d,u,Un(f,n)));return new Er(o,this._parents,t,n)}function q3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qw(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,f,c=0;c<u;++c)if(f=l[c]){for(var d=e.call(f,f.__data__,c,l),v,y=Un(f,n),_=0,x=d.length;_<x;++_)(v=d[_])&&Cc(v,t,n,_,d,y);o.push(d),a.push(f)}return new Er(o,a,t,n)}var $3=tl.prototype.constructor;function W3(){return new $3(this._groups,this._parents)}function V3(e,t){var n,r,i;return function(){var o=ia(this,e),a=(this.style.removeProperty(e),ia(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function h_(e){return function(){this.style.removeProperty(e)}}function K3(e,t,n){var r,i=n+"",o;return function(){var a=ia(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function G3(e,t,n){var r,i,o;return function(){var a=ia(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ia(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function Y3(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=rr(this,e),u=l.on,f=l.value[o]==null?s||(s=h_(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),l.on=r}}function J3(e,t,n){var r=(e+="")=="transform"?JA:d_;return t==null?this.styleTween(e,V3(e,r)).on("end.style."+e,h_(e)):typeof t=="function"?this.styleTween(e,G3(e,r,ag(this,"style."+e,t))).each(Y3(this._id,e)):this.styleTween(e,K3(e,r,t),n).on("end.style."+e,null)}function Q3(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Z3(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Q3(e,a,n)),r}return o._value=t,o}function X3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Z3(e,t,n??""))}function e4(e){return function(){this.textContent=e}}function t4(e){return function(){var t=e(this);this.textContent=t??""}}function n4(e){return this.tween("text",typeof e=="function"?t4(ag(this,"text",e)):e4(e==null?"":e+""))}function r4(e){return function(t){this.textContent=e.call(this,t)}}function i4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&r4(i)),t}return r._value=e,r}function o4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,i4(e))}function a4(){for(var e=this._name,t=this._id,n=p_(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var f=Un(l,t);Cc(l,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Er(r,this._parents,e,n)}function s4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=rr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var l4=0;function Er(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function p_(){return++l4}var ur=tl.prototype;Er.prototype={constructor:Er,select:H3,selectAll:q3,selectChild:ur.selectChild,selectChildren:ur.selectChildren,filter:M3,merge:L3,selection:W3,transition:a4,call:ur.call,nodes:ur.nodes,node:ur.node,size:ur.size,empty:ur.empty,each:ur.each,on:j3,attr:w3,attrTween:b3,style:J3,styleTween:X3,text:n4,textTween:o4,remove:U3,tween:d3,delay:A3,duration:T3,ease:P3,easeVarying:I3,end:s4,[Symbol.iterator]:ur[Symbol.iterator]};function u4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var c4={time:null,delay:0,duration:250,ease:u4};function f4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function d4(e){var t,n;e instanceof Er?(t=e._id,e=e._name):(t=p_(),(n=c4).time=ig(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Cc(l,e,t,u,a,n||f4(l,t));return new Er(r,this._parents,e,t)}tl.prototype.interrupt=u3;tl.prototype.transition=d4;const Ml=e=>()=>e;function h4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pr(e,t,n){this.k=e,this.x=t,this.y=n}pr.prototype={constructor:pr,scale:function(e){return e===1?this:new pr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vr=new pr(1,0,0);pr.prototype;function xf(e){e.stopImmediatePropagation()}function Ba(e){e.preventDefault(),e.stopImmediatePropagation()}function p4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function g4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ov(){return this.__zoom||vr}function m4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function v4(){return navigator.maxTouchPoints||"ontouchstart"in this}function y4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function g_(){var e=p4,t=g4,n=y4,r=m4,i=v4,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=t3,u=Ec("start","zoom","end"),f,c,d,v=500,y=150,_=0,x=10;function h(T){T.property("__zoom",Ov).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(T,M,D,P){var b=T.selection?T.selection():T;b.property("__zoom",Ov),T!==b?w(T,M,D,P):b.interrupt().each(function(){S(this,arguments).event(P).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},h.scaleBy=function(T,M,D,P){h.scaleTo(T,function(){var b=this.__zoom.k,A=typeof M=="function"?M.apply(this,arguments):M;return b*A},D,P)},h.scaleTo=function(T,M,D,P){h.transform(T,function(){var b=t.apply(this,arguments),A=this.__zoom,N=D==null?p(b):typeof D=="function"?D.apply(this,arguments):D,I=A.invert(N),U=typeof M=="function"?M.apply(this,arguments):M;return n(g(m(A,U),N,I),b,a)},D,P)},h.translateBy=function(T,M,D,P){h.transform(T,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,P)},h.translateTo=function(T,M,D,P,b){h.transform(T,function(){var A=t.apply(this,arguments),N=this.__zoom,I=P==null?p(A):typeof P=="function"?P.apply(this,arguments):P;return n(vr.translate(I[0],I[1]).scale(N.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof D=="function"?-D.apply(this,arguments):-D),A,a)},P,b)};function m(T,M){return M=Math.max(o[0],Math.min(o[1],M)),M===T.k?T:new pr(M,T.x,T.y)}function g(T,M,D){var P=M[0]-D[0]*T.k,b=M[1]-D[1]*T.k;return P===T.x&&b===T.y?T:new pr(T.k,P,b)}function p(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function w(T,M,D,P){T.on("start.zoom",function(){S(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(P).end()}).tween("zoom",function(){var b=this,A=arguments,N=S(b,A).event(P),I=t.apply(b,A),U=D==null?p(I):typeof D=="function"?D.apply(b,A):D,Y=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),V=b.__zoom,K=typeof M=="function"?M.apply(b,A):M,j=l(V.invert(U).concat(Y/V.k),K.invert(U).concat(Y/K.k));return function(H){if(H===1)H=K;else{var G=j(H),Z=Y/G[2];H=new pr(Z,U[0]-G[0]*Z,U[1]-G[1]*Z)}N.zoom(null,H)}})}function S(T,M,D){return!D&&T.__zooming||new C(T,M)}function C(T,M){this.that=T,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,M),this.taps=0}C.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,M){return this.mouse&&T!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var M=hn(this.that).datum();u.call(T,this.that,new h4(T,{sourceEvent:this.sourceEvent,target:h,type:T,transform:this.that.__zoom,dispatch:u}),M)}};function R(T,...M){if(!e.apply(this,arguments))return;var D=S(this,M).event(T),P=this.__zoom,b=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),A=Pn(T);if(D.wheel)(D.mouse[0][0]!==A[0]||D.mouse[0][1]!==A[1])&&(D.mouse[1]=P.invert(D.mouse[0]=A)),clearTimeout(D.wheel);else{if(P.k===b)return;D.mouse=[A,P.invert(A)],su(this),D.start()}Ba(T),D.wheel=setTimeout(N,y),D.zoom("mouse",n(g(m(P,b),D.mouse[0],D.mouse[1]),D.extent,a));function N(){D.wheel=null,D.end()}}function O(T,...M){if(d||!e.apply(this,arguments))return;var D=T.currentTarget,P=S(this,M,!0).event(T),b=hn(T.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Y,!0),A=Pn(T,D),N=T.clientX,I=T.clientY;e_(T.view),xf(T),P.mouse=[A,this.__zoom.invert(A)],su(this),P.start();function U(V){if(Ba(V),!P.moved){var K=V.clientX-N,j=V.clientY-I;P.moved=K*K+j*j>_}P.event(V).zoom("mouse",n(g(P.that.__zoom,P.mouse[0]=Pn(V,D),P.mouse[1]),P.extent,a))}function Y(V){b.on("mousemove.zoom mouseup.zoom",null),t_(V.view,P.moved),Ba(V),P.event(V).end()}}function B(T,...M){if(e.apply(this,arguments)){var D=this.__zoom,P=Pn(T.changedTouches?T.changedTouches[0]:T,this),b=D.invert(P),A=D.k*(T.shiftKey?.5:2),N=n(g(m(D,A),P,b),t.apply(this,M),a);Ba(T),s>0?hn(this).transition().duration(s).call(w,N,P,T):hn(this).call(h.transform,N,P,T)}}function F(T,...M){if(e.apply(this,arguments)){var D=T.touches,P=D.length,b=S(this,M,T.changedTouches.length===P).event(T),A,N,I,U;for(xf(T),N=0;N<P;++N)I=D[N],U=Pn(I,this),U=[U,this.__zoom.invert(U),I.identifier],b.touch0?!b.touch1&&b.touch0[2]!==U[2]&&(b.touch1=U,b.taps=0):(b.touch0=U,A=!0,b.taps=1+!!f);f&&(f=clearTimeout(f)),A&&(b.taps<2&&(c=U[0],f=setTimeout(function(){f=null},v)),su(this),b.start())}}function L(T,...M){if(this.__zooming){var D=S(this,M).event(T),P=T.changedTouches,b=P.length,A,N,I,U;for(Ba(T),A=0;A<b;++A)N=P[A],I=Pn(N,this),D.touch0&&D.touch0[2]===N.identifier?D.touch0[0]=I:D.touch1&&D.touch1[2]===N.identifier&&(D.touch1[0]=I);if(N=D.that.__zoom,D.touch1){var Y=D.touch0[0],V=D.touch0[1],K=D.touch1[0],j=D.touch1[1],H=(H=K[0]-Y[0])*H+(H=K[1]-Y[1])*H,G=(G=j[0]-V[0])*G+(G=j[1]-V[1])*G;N=m(N,Math.sqrt(H/G)),I=[(Y[0]+K[0])/2,(Y[1]+K[1])/2],U=[(V[0]+j[0])/2,(V[1]+j[1])/2]}else if(D.touch0)I=D.touch0[0],U=D.touch0[1];else return;D.zoom("touch",n(g(N,I,U),D.extent,a))}}function z(T,...M){if(this.__zooming){var D=S(this,M).event(T),P=T.changedTouches,b=P.length,A,N;for(xf(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},v),A=0;A<b;++A)N=P[A],D.touch0&&D.touch0[2]===N.identifier?delete D.touch0:D.touch1&&D.touch1[2]===N.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(N=Pn(N,this),Math.hypot(c[0]-N[0],c[1]-N[1])<x)){var I=hn(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return h.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:Ml(+T),h):r},h.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Ml(!!T),h):e},h.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:Ml(!!T),h):i},h.extent=function(T){return arguments.length?(t=typeof T=="function"?T:Ml([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),h):t},h.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],h):[o[0],o[1]]},h.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],h):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},h.constrain=function(T){return arguments.length?(n=T,h):n},h.duration=function(T){return arguments.length?(s=+T,h):s},h.interpolate=function(T){return arguments.length?(l=T,h):l},h.on=function(){var T=u.on.apply(u,arguments);return T===u?h:T},h.clickDistance=function(T){return arguments.length?(_=(T=+T)*T,h):Math.sqrt(_)},h.tapDistance=function(T){return arguments.length?(x=+T,h):x},h}const Ac=k.createContext(null),w4=Ac.Provider,ii={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},m_=ii.error001();function Be(e,t){const n=k.useContext(Ac);if(n===null)throw new Error(m_);return Sc(n,e,t)}const ct=()=>{const e=k.useContext(Ac);if(e===null)throw new Error(m_);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},_4=e=>e.userSelectionActive?"none":"all";function aa({position:e,children:t,className:n,style:r,...i}){const o=Be(_4),a=`${e}`.split("-");return E("div",{className:Rt(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},...i,children:t})}function x4({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:E(aa,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:E("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const S4=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...f})=>{const c=k.useRef(null),[d,v]=k.useState({x:0,y:0,width:0,height:0}),y=Rt(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(c.current){const _=c.current.getBBox();v({x:_.x,y:_.y,width:_.width,height:_.height})}},[n]),typeof n>"u"||!n?null:q("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:y,visibility:d.width?"visible":"hidden",...f,children:[i&&E("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),E("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:c,style:r,children:n}),l]})};var E4=k.memo(S4);const sg=e=>({width:e.offsetWidth,height:e.offsetHeight}),sa=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),lg=(e={x:0,y:0},t)=>({x:sa(e.x,t[0][0],t[1][0]),y:sa(e.y,t[0][1],t[1][1])}),Pv=(e,t,n)=>e<t?sa(Math.abs(e-t),1,50)/50:e>n?-sa(Math.abs(e-n),1,50)/50:0,v_=(e,t)=>{const n=Pv(e.x,35,t.width-35)*20,r=Pv(e.y,35,t.height-35)*20;return[n,r]},y_=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},w_=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),__=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Dv=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),b4=(e,t)=>__(w_(Hu(e),Hu(t))),oh=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},k4=e=>mn(e.width)&&mn(e.height)&&mn(e.x)&&mn(e.y),mn=e=>!isNaN(e)&&isFinite(e),mt=Symbol.for("internals"),x_=["Enter"," ","Escape"],C4=(e,t)=>{},A4=e=>"nativeEvent"in e;function ah(e){var i,o;const t=A4(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const S_=e=>"clientX"in e,ei=(e,t)=>{var o,a;const n=S_(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},ya=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:c,markerStart:d,interactionWidth:v=20})=>q(De,{children:[E("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:d}),v&&E("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:v,className:"react-flow__edge-interaction"}),i&&mn(n)&&mn(r)?E(E4,{x:n,y:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u}):null]});ya.displayName="BaseEdge";const R4=(e,t)=>typeof t<"u"&&t?`url(#${t})`:typeof e<"u"?`url(#react-flow__${e})`:"none";function za(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function E_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function b_({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,f=Math.abs(l-e),c=Math.abs(u-t);return[l,u,f,c]}var oi;(function(e){e.Strict="strict",e.Loose="loose"})(oi||(oi={}));var Uo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Uo||(Uo={}));var la;(function(e){e.Partial="partial",e.Full="full"})(la||(la={}));var Hr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Hr||(Hr={}));var Mi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Mi||(Mi={}));var re;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(re||(re={}));function Iv({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===re.Left||e===re.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function k_({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:i,targetPosition:o=re.Top}){const[a,s]=Iv({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Iv({pos:o,x1:r,y1:i,x2:e,y2:t}),[f,c,d,v]=b_({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${i}`,f,c,d,v]}const ug=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=re.Bottom,targetPosition:o=re.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:v,markerStart:y,interactionWidth:_})=>{const[x,h,m]=k_({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return E(ya,{path:x,labelX:h,labelY:m,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:v,markerStart:y,interactionWidth:_})});ug.displayName="SimpleBezierEdge";const Mv={[re.Left]:{x:-1,y:0},[re.Right]:{x:1,y:0},[re.Top]:{x:0,y:-1},[re.Bottom]:{x:0,y:1}},N4=({source:e,sourcePosition:t=re.Bottom,target:n})=>t===re.Left||t===re.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Lv=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function T4({source:e,sourcePosition:t=re.Bottom,target:n,targetPosition:r=re.Top,center:i,offset:o}){const a=Mv[t],s=Mv[r],l={x:e.x+a.x*o,y:e.y+a.y*o},u={x:n.x+s.x*o,y:n.y+s.y*o},f=N4({source:l,sourcePosition:t,target:u}),c=f.x!==0?"x":"y",d=f[c];let v=[],y,_;const[x,h,m,g]=E_({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[c]*s[c]===-1){y=i.x||x,_=i.y||h;const w=[{x:y,y:l.y},{x:y,y:u.y}],S=[{x:l.x,y:_},{x:u.x,y:_}];a[c]===d?v=c==="x"?w:S:v=c==="x"?S:w}else{const w=[{x:l.x,y:u.y}],S=[{x:u.x,y:l.y}];if(c==="x"?v=a.x===d?S:w:v=a.y===d?w:S,t!==r){const C=c==="x"?"y":"x",R=a[c]===s[C],O=l[C]>u[C],B=l[C]<u[C];(a[c]===1&&(!R&&O||R&&B)||a[c]!==1&&(!R&&B||R&&O))&&(v=c==="x"?w:S)}y=v[0].x,_=v[0].y}return[[e,l,...v,u,n],y,_,m,g]}function O4(e,t,n,r){const i=Math.min(Lv(e,t)/2,Lv(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*f}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function sh({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:i,targetPosition:o=re.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20}){const[f,c,d,v,y]=T4({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u});return[f.reduce((x,h,m)=>{let g="";return m>0&&m<f.length-1?g=O4(f[m-1],h,f[m+1],a):g=`${m===0?"M":"L"}${h.x} ${h.y}`,x+=g,x},""),c,d,v,y]}const Rc=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:f,sourcePosition:c=re.Bottom,targetPosition:d=re.Top,markerEnd:v,markerStart:y,pathOptions:_,interactionWidth:x})=>{const[h,m,g]=sh({sourceX:e,sourceY:t,sourcePosition:c,targetX:n,targetY:r,targetPosition:d,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset});return E(ya,{path:h,labelX:m,labelY:g,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:v,markerStart:y,interactionWidth:x})});Rc.displayName="SmoothStepEdge";const cg=k.memo(e=>{var t;return E(Rc,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});cg.displayName="StepEdge";function P4({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=E_({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const fg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:c,markerStart:d,interactionWidth:v})=>{const[y,_,x]=P4({sourceX:e,sourceY:t,targetX:n,targetY:r});return E(ya,{path:y,labelX:_,labelY:x,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:c,markerStart:d,interactionWidth:v})});fg.displayName="StraightEdge";function Ll(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Bv({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case re.Left:return[t-Ll(t-r,o),n];case re.Right:return[t+Ll(r-t,o),n];case re.Top:return[t,n-Ll(n-i,o)];case re.Bottom:return[t,n+Ll(i-n,o)]}}function dg({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:i,targetPosition:o=re.Top,curvature:a=.25}){const[s,l]=Bv({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,f]=Bv({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[c,d,v,y]=b_({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${e},${t} C${s},${l} ${u},${f} ${r},${i}`,c,d,v,y]}const qu=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=re.Bottom,targetPosition:o=re.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:v,markerStart:y,pathOptions:_,interactionWidth:x})=>{const[h,m,g]=dg({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:_==null?void 0:_.curvature});return E(ya,{path:h,labelX:m,labelY:g,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:v,markerStart:y,interactionWidth:x})});qu.displayName="BezierEdge";const hg=k.createContext(null),D4=hg.Provider;hg.Consumer;const I4=()=>k.useContext(hg),M4=e=>"id"in e&&"source"in e&&"target"in e,L4=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,lh=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,B4=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),pg=(e,t)=>{if(!e.source||!e.target)return t;let n;return M4(e)?n={...e}:n={...e,id:L4(e)},B4(n,t)?t:t.concat(n)},C_=({x:e,y:t},[n,r,i],o,[a,s])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},z4=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Li=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},gg=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:a}=Li(i,t).positionAbsolute;return w_(r,Hu({x:o,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return __(n)},A_=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1,s=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(f=>{const{width:c,height:d,selectable:v=!0,hidden:y=!1}=f;if(a&&!v||y)return!1;const{positionAbsolute:_}=Li(f,s),x={x:_.x,y:_.y,width:c||0,height:d||0},h=oh(l,x),m=typeof c>"u"||typeof d>"u"||c===null||d===null,g=o&&h>0,p=(c||0)*(d||0);(m||g||h>=p||f.dragging)&&u.push(f)}),u},R_=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},N_=(e,t,n,r,i,o=.1)=>{const a=t/(e.width*(1+o)),s=n/(e.height*(1+o)),l=Math.min(a,s),u=sa(l,r,i),f=e.x+e.width/2,c=e.y+e.height/2,d=t/2-f*u,v=n/2-c*u;return[d,v,u]},_i=(e,t=0)=>e.transition().duration(t);function zv(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var a,s;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+o.x+o.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+o.y+o.height/2}),i},[])}function j4(e,t,n,r,i,o){const{x:a,y:s}=ei(e),u=t.elementsFromPoint(a,s).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const _=mg(void 0,u),x=u.getAttribute("data-handleid"),h=o({nodeId:y,id:x,type:_});if(h)return{handle:{id:x,type:_,nodeId:y,x:n.x,y:n.y},validHandleResult:h}}}let f=[],c=1/0;if(i.forEach(y=>{const _=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(_<=r){const x=o(y);_<=c&&(_<c?f=[{handle:y,validHandleResult:x}]:_===c&&f.push({handle:y,validHandleResult:x}),c=_)}}),!f.length)return{handle:null,validHandleResult:T_()};if(f.length===1)return f[0];const d=f.some(({validHandleResult:y})=>y.isValid),v=f.some(({handle:y})=>y.type==="target");return f.find(({handle:y,validHandleResult:_})=>v?y.type==="target":d?_.isValid:!0)||f[0]}const F4={source:null,target:null,sourceHandle:null,targetHandle:null},T_=()=>({handleDomNode:null,isValid:!1,connection:F4,endHandle:null});function O_(e,t,n,r,i,o,a){const s=i==="target",l=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...T_(),handleDomNode:l};if(l){const f=mg(void 0,l),c=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),v=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),_={source:s?c:n,sourceHandle:s?d:r,target:s?n:c,targetHandle:s?r:d};u.connection=_,v&&y&&(t===oi.Strict?s&&f==="source"||!s&&f==="target":c!==n||d!==r)&&(u.endHandle={nodeId:c,handleId:d,type:f},u.isValid=o(_))}return u}function U4({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[mt]){const{handleBounds:a}=o[mt];let s=[],l=[];a&&(s=zv(o,a,"source",`${t}-${n}-${r}`),l=zv(o,a,"target",`${t}-${n}-${r}`)),i.push(...s,...l)}return i},[])}function mg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Sf(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function H4(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function P_({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:a,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:u}){const f=y_(e.target),{connectionMode:c,domNode:d,autoPanOnConnect:v,connectionRadius:y,onConnectStart:_,panBy:x,getNodes:h,cancelConnection:m}=o();let g=0,p;const{x:w,y:S}=ei(e),C=f==null?void 0:f.elementFromPoint(w,S),R=mg(l,C),O=d==null?void 0:d.getBoundingClientRect();if(!O||!R)return;let B,F=ei(e,O),L=!1,z=null,T=!1,M=null;const D=U4({nodes:h(),nodeId:n,handleId:t,handleType:R}),P=()=>{if(!v)return;const[N,I]=v_(F,O);x({x:N,y:I}),g=requestAnimationFrame(P)};a({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),_==null||_(e,{nodeId:n,handleId:t,handleType:R});function b(N){const{transform:I}=o();F=ei(N,O);const{handle:U,validHandleResult:Y}=j4(N,f,C_(F,I,!1,[1,1]),y,D,V=>O_(V,c,n,t,i?"target":"source",s,f));if(p=U,L||(P(),L=!0),M=Y.handleDomNode,z=Y.connection,T=Y.isValid,a({connectionPosition:p&&T?z4({x:p.x,y:p.y},I):F,connectionStatus:H4(!!p,T),connectionEndHandle:Y.endHandle}),!p&&!T&&!M)return Sf(B);z.source!==z.target&&M&&(Sf(B),B=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",T),M.classList.toggle("react-flow__handle-valid",T))}function A(N){var I,U;(p||M)&&z&&T&&(r==null||r(z)),(U=(I=o()).onConnectEnd)==null||U.call(I,N),l&&(u==null||u(N)),Sf(B),m(),cancelAnimationFrame(g),L=!1,T=!1,z=null,M=null,f.removeEventListener("mousemove",b),f.removeEventListener("mouseup",A),f.removeEventListener("touchmove",b),f.removeEventListener("touchend",A)}f.addEventListener("mousemove",b),f.addEventListener("mouseup",A),f.addEventListener("touchmove",b),f.addEventListener("touchend",A)}const jv=()=>!0,q4=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$4=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:a}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},D_=k.forwardRef(({type:e="source",position:t=re.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:f,onTouchStart:c,...d},v)=>{var O,B;const y=a||null,_=e==="target",x=ct(),h=I4(),{connectOnClick:m,noPanClassName:g}=Be(q4,vt),{connecting:p,clickConnecting:w}=Be($4(h,y,e),vt);h||(B=(O=x.getState()).onError)==null||B.call(O,"010",ii.error010());const S=F=>{const{defaultEdgeOptions:L,onConnect:z,hasDefaultEdges:T}=x.getState(),M={...L,...F};if(T){const{edges:D,setEdges:P}=x.getState();P(pg(M,D))}z==null||z(M),s==null||s(M)},C=F=>{if(!h)return;const L=S_(F);i&&(L&&F.button===0||!L)&&P_({event:F,handleId:y,nodeId:h,onConnect:S,isTarget:_,getState:x.getState,setState:x.setState,isValidConnection:n||x.getState().isValidConnection||jv}),L?f==null||f(F):c==null||c(F)},R=F=>{const{onClickConnectStart:L,onClickConnectEnd:z,connectionClickStartHandle:T,connectionMode:M,isValidConnection:D}=x.getState();if(!h||!T&&!i)return;if(!T){L==null||L(F,{nodeId:h,handleId:y,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:y}});return}const P=y_(F.target),b=n||D||jv,{connection:A,isValid:N}=O_({nodeId:h,id:y,type:e},M,T.nodeId,T.handleId||null,T.type,b,P);N&&S(A),z==null||z(F),x.setState({connectionClickStartHandle:null})};return E("div",{"data-handleid":y,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${y}-${e}`,className:Rt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!_,target:_,connectable:r,connectablestart:i,connectableend:o,connecting:w,connectionindicator:r&&(i&&!p||o&&p)}]),onMouseDown:C,onTouchStart:C,onClick:m?R:void 0,ref:v,...d,children:l})});D_.displayName="Handle";var qs=k.memo(D_);const I_=({data:e,isConnectable:t,targetPosition:n=re.Top,sourcePosition:r=re.Bottom})=>q(De,{children:[E(qs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,E(qs,{type:"source",position:r,isConnectable:t})]});I_.displayName="DefaultNode";var uh=k.memo(I_);const M_=({data:e,isConnectable:t,sourcePosition:n=re.Bottom})=>q(De,{children:[e==null?void 0:e.label,E(qs,{type:"source",position:n,isConnectable:t})]});M_.displayName="InputNode";var L_=k.memo(M_);const B_=({data:e,isConnectable:t,targetPosition:n=re.Top})=>q(De,{children:[E(qs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});B_.displayName="OutputNode";var z_=k.memo(B_);const vg=()=>null;vg.displayName="GroupNode";const W4=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Bl=e=>e.id;function V4(e,t){return vt(e.selectedNodes.map(Bl),t.selectedNodes.map(Bl))&&vt(e.selectedEdges.map(Bl),t.selectedEdges.map(Bl))}const j_=k.memo(({onSelectionChange:e})=>{const t=ct(),{selectedNodes:n,selectedEdges:r}=Be(W4,V4);return k.useEffect(()=>{var o,a;const i={nodes:n,edges:r};e==null||e(i),(a=(o=t.getState()).onSelectionChange)==null||a.call(o,i)},[n,r,e]),null});j_.displayName="SelectionListener";const K4=e=>!!e.onSelectionChange;function G4({onSelectionChange:e}){const t=Be(K4);return e||t?E(j_,{onSelectionChange:e}):null}const Y4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ao(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function xe(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const J4=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:f,nodesFocusable:c,edgesFocusable:d,edgesUpdatable:v,elevateNodesOnSelect:y,minZoom:_,maxZoom:x,nodeExtent:h,onNodesChange:m,onEdgesChange:g,elementsSelectable:p,connectionMode:w,snapGrid:S,snapToGrid:C,translateExtent:R,connectOnClick:O,defaultEdgeOptions:B,fitView:F,fitViewOptions:L,onNodesDelete:z,onEdgesDelete:T,onNodeDrag:M,onNodeDragStart:D,onNodeDragStop:P,onSelectionDrag:b,onSelectionDragStart:A,onSelectionDragStop:N,noPanClassName:I,nodeOrigin:U,rfId:Y,autoPanOnConnect:V,autoPanOnNodeDrag:K,onError:j,connectionRadius:H,isValidConnection:G})=>{const{setNodes:Z,setEdges:ee,setDefaultNodesAndEdges:se,setMinZoom:ge,setMaxZoom:_e,setTranslateExtent:we,setNodeExtent:he,reset:ae}=Be(Y4,vt),X=ct();return k.useEffect(()=>{const ye=r==null?void 0:r.map(ke=>({...ke,...B}));return se(n,ye),()=>{ae()}},[]),xe("defaultEdgeOptions",B,X.setState),xe("connectionMode",w,X.setState),xe("onConnect",i,X.setState),xe("onConnectStart",o,X.setState),xe("onConnectEnd",a,X.setState),xe("onClickConnectStart",s,X.setState),xe("onClickConnectEnd",l,X.setState),xe("nodesDraggable",u,X.setState),xe("nodesConnectable",f,X.setState),xe("nodesFocusable",c,X.setState),xe("edgesFocusable",d,X.setState),xe("edgesUpdatable",v,X.setState),xe("elementsSelectable",p,X.setState),xe("elevateNodesOnSelect",y,X.setState),xe("snapToGrid",C,X.setState),xe("snapGrid",S,X.setState),xe("onNodesChange",m,X.setState),xe("onEdgesChange",g,X.setState),xe("connectOnClick",O,X.setState),xe("fitViewOnInit",F,X.setState),xe("fitViewOnInitOptions",L,X.setState),xe("onNodesDelete",z,X.setState),xe("onEdgesDelete",T,X.setState),xe("onNodeDrag",M,X.setState),xe("onNodeDragStart",D,X.setState),xe("onNodeDragStop",P,X.setState),xe("onSelectionDrag",b,X.setState),xe("onSelectionDragStart",A,X.setState),xe("onSelectionDragStop",N,X.setState),xe("noPanClassName",I,X.setState),xe("nodeOrigin",U,X.setState),xe("rfId",Y,X.setState),xe("autoPanOnConnect",V,X.setState),xe("autoPanOnNodeDrag",K,X.setState),xe("onError",j,X.setState),xe("connectionRadius",H,X.setState),xe("isValidConnection",G,X.setState),ao(e,Z),ao(t,ee),ao(_,ge),ao(x,_e),ao(R,we),ao(h,he),null},Fv={display:"none"},Q4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},F_="react-flow__node-desc",U_="react-flow__edge-desc",Z4="react-flow__aria-live",X4=e=>e.ariaLiveMessage;function eR({rfId:e}){const t=Be(X4);return E("div",{id:`${Z4}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Q4,children:t})}function tR({rfId:e,disableKeyboardA11y:t}){return q(De,{children:[q("div",{id:`${F_}-${e}`,style:Fv,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),E("div",{id:`${U_}-${e}`,style:Fv,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&E(eR,{rfId:e})]})}const nR=(e,t,n)=>n===re.Left?e-t:n===re.Right?e+t:e,rR=(e,t,n)=>n===re.Top?e-t:n===re.Bottom?e+t:e,Uv="react-flow__edgeupdater",Hv=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s})=>E("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Rt([Uv,`${Uv}-${s}`]),cx:nR(t,r,e),cy:rR(n,r,e),r,stroke:"transparent",fill:"transparent"}),iR=()=>!0;var so=e=>{const t=({id:n,className:r,type:i,data:o,onClick:a,onEdgeDoubleClick:s,selected:l,animated:u,label:f,labelStyle:c,labelShowBg:d,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:_,style:x,source:h,target:m,sourceX:g,sourceY:p,targetX:w,targetY:S,sourcePosition:C,targetPosition:R,elementsSelectable:O,hidden:B,sourceHandleId:F,targetHandleId:L,onContextMenu:z,onMouseEnter:T,onMouseMove:M,onMouseLeave:D,edgeUpdaterRadius:P,onEdgeUpdate:b,onEdgeUpdateStart:A,onEdgeUpdateEnd:N,markerEnd:I,markerStart:U,rfId:Y,ariaLabel:V,isFocusable:K,isUpdatable:j,pathOptions:H,interactionWidth:G})=>{const Z=k.useRef(null),[ee,se]=k.useState(!1),[ge,_e]=k.useState(!1),we=ct(),he=k.useMemo(()=>`url(#${lh(U,Y)})`,[U,Y]),ae=k.useMemo(()=>`url(#${lh(I,Y)})`,[I,Y]);if(B)return null;const X=xt=>{const{edges:Gt,addSelectedEdges:$n}=we.getState();if(O&&(we.setState({nodesSelectionActive:!1}),$n([n])),a){const ar=Gt.find($=>$.id===n);a(xt,ar)}},ye=za(n,we.getState,s),ke=za(n,we.getState,z),Ee=za(n,we.getState,T),Ne=za(n,we.getState,M),Vt=za(n,we.getState,D),Nt=(xt,Gt)=>{if(xt.button!==0)return;const{edges:$n,isValidConnection:ar}=we.getState(),$=Gt?m:h,W=(Gt?L:F)||null,J=Gt?"target":"source",te=ar||iR,ce=Gt,ue=$n.find(ie=>ie.id===n);_e(!0),A==null||A(xt,ue,J);const de=ie=>{_e(!1),N==null||N(ie,ue,J)};P_({event:xt,handleId:W,nodeId:$,onConnect:ie=>b==null?void 0:b(ue,ie),isTarget:ce,getState:we.getState,setState:we.setState,isValidConnection:te,edgeUpdaterType:J,onEdgeUpdateEnd:de})},Hn=xt=>Nt(xt,!0),ir=xt=>Nt(xt,!1),Kt=()=>se(!0),qn=()=>se(!1),or=!O&&!a,Tr=xt=>{var Gt;if(x_.includes(xt.key)&&O){const{unselectNodesAndEdges:$n,addSelectedEdges:ar,edges:$}=we.getState();xt.key==="Escape"?((Gt=Z.current)==null||Gt.blur(),$n({edges:[$.find(J=>J.id===n)]})):ar([n])}};return q("g",{className:Rt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:or,updating:ee}]),onClick:X,onDoubleClick:ye,onContextMenu:ke,onMouseEnter:Ee,onMouseMove:Ne,onMouseLeave:Vt,onKeyDown:K?Tr:void 0,tabIndex:K?0:void 0,role:K?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${h} to ${m}`,"aria-describedby":K?`${U_}-${Y}`:void 0,ref:Z,children:[!ge&&E(e,{id:n,source:h,target:m,selected:l,animated:u,label:f,labelStyle:c,labelShowBg:d,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:_,data:o,style:x,sourceX:g,sourceY:p,targetX:w,targetY:S,sourcePosition:C,targetPosition:R,sourceHandleId:F,targetHandleId:L,markerStart:he,markerEnd:ae,pathOptions:H,interactionWidth:G}),j&&q(De,{children:[(j==="source"||j===!0)&&E(Hv,{position:C,centerX:g,centerY:p,radius:P,onMouseDown:Hn,onMouseEnter:Kt,onMouseOut:qn,type:"source"}),(j==="target"||j===!0)&&E(Hv,{position:R,centerX:w,centerY:S,radius:P,onMouseDown:ir,onMouseEnter:Kt,onMouseOut:qn,type:"target"})]})]})};return t.displayName="EdgeWrapper",k.memo(t)};function oR(e){const t={default:so(e.default||qu),straight:so(e.bezier||fg),step:so(e.step||cg),smoothstep:so(e.step||Rc),simplebezier:so(e.simplebezier||ug)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=so(e[o]||qu),i),n);return{...t,...r}}function qv(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case re.Top:return{x:r+o/2,y:i};case re.Right:return{x:r+o,y:i+a/2};case re.Bottom:return{x:r+o/2,y:i+a};case re.Left:return{x:r,y:i+a/2}}}function $v(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const aR=(e,t,n,r,i,o)=>{const a=qv(n,e,t),s=qv(o,r,i);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function sR({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=Hu({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]}),c=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),d=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(c*d)>0}function Wv(e){var r,i,o,a,s;const t=((r=e==null?void 0:e[mt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function H_(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:H_(n,t):!1}function Vv(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function lR(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!H_(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height}})}function uR(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function q_(e,t,n,r,i=[0,0],o){const a=uR(e,e.extent||r);let s=a;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const f=n.get(e.parentNode),{x:c,y:d}=Li(f,i).positionAbsolute;s=f&&mn(c)&&mn(d)&&mn(f.width)&&mn(f.height)?[[c+e.width*i[0],d+e.height*i[1]],[c+f.width-e.width+e.width*i[0],d+f.height-e.height+e.height*i[1]]]:s}else o==null||o("005",ii.error005()),s=a;else if(e.extent&&e.parentNode){const f=n.get(e.parentNode),{x:c,y:d}=Li(f,i).positionAbsolute;s=[[e.extent[0][0]+c,e.extent[0][1]+d],[e.extent[1][0]+c,e.extent[1][1]+d]]}let l={x:0,y:0};if(e.parentNode){const f=n.get(e.parentNode);l=Li(f,i).positionAbsolute}const u=s?lg(t,s):t;return{position:{x:u.x-l.x,y:u.y-l.y},positionAbsolute:u}}function Ef({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Kv=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),a=t.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-a.left-s.x)/n,y:(u.top-a.top-s.y)/n,...sg(l)}})};function ja(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);n(r,{...i})}}function ch({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&a)&&(o({nodes:[l]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([e])}function cR(){const e=ct();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function bf(e){return(t,n,r)=>e==null?void 0:e(t,r)}function $_({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:a}){const s=ct(),[l,u]=k.useState(!1),f=k.useRef([]),c=k.useRef({x:null,y:null}),d=k.useRef(0),v=k.useRef(null),y=k.useRef({x:0,y:0}),_=k.useRef(null),x=k.useRef(!1),h=cR();return k.useEffect(()=>{if(e!=null&&e.current){const m=hn(e.current),g=({x:w,y:S})=>{const{nodeInternals:C,onNodeDrag:R,onSelectionDrag:O,updateNodePositions:B,nodeExtent:F,snapGrid:L,snapToGrid:z,nodeOrigin:T,onError:M}=s.getState();c.current={x:w,y:S};let D=!1;if(f.current=f.current.map(b=>{const A={x:w-b.distance.x,y:S-b.distance.y};z&&(A.x=L[0]*Math.round(A.x/L[0]),A.y=L[1]*Math.round(A.y/L[1]));const N=q_(b,A,C,F,T,M);return D=D||b.position.x!==N.position.x||b.position.y!==N.position.y,b.position=N.position,b.positionAbsolute=N.positionAbsolute,b}),!D)return;B(f.current,!0,!0),u(!0);const P=i?R:bf(O);if(P&&_.current){const[b,A]=Ef({nodeId:i,dragItems:f.current,nodeInternals:C});P(_.current,b,A)}},p=()=>{if(!v.current)return;const[w,S]=v_(y.current,v.current);if(w!==0||S!==0){const{transform:C,panBy:R}=s.getState();c.current.x=(c.current.x??0)-w/C[2],c.current.y=(c.current.y??0)-S/C[2],R({x:w,y:S})&&g(c.current)}d.current=requestAnimationFrame(p)};if(t)m.on(".drag",null);else{const w=NA().on("start",S=>{var D;const{nodeInternals:C,multiSelectionActive:R,domNode:O,nodesDraggable:B,unselectNodesAndEdges:F,onNodeDragStart:L,onSelectionDragStart:z}=s.getState(),T=i?L:bf(z);!a&&!R&&i&&((D=C.get(i))!=null&&D.selected||F()),i&&o&&a&&ch({id:i,store:s,nodeRef:e});const M=h(S);if(c.current=M,f.current=lR(C,B,M,i),T&&f.current){const[P,b]=Ef({nodeId:i,dragItems:f.current,nodeInternals:C});T(S.sourceEvent,P,b)}v.current=(O==null?void 0:O.getBoundingClientRect())||null,y.current=ei(S.sourceEvent,v.current)}).on("drag",S=>{const C=h(S),{autoPanOnNodeDrag:R}=s.getState();!x.current&&R&&(x.current=!0,p()),(c.current.x!==C.xSnapped||c.current.y!==C.ySnapped)&&f.current&&(_.current=S.sourceEvent,y.current=ei(S.sourceEvent,v.current),g(C))}).on("end",S=>{if(u(!1),x.current=!1,cancelAnimationFrame(d.current),f.current){const{updateNodePositions:C,nodeInternals:R,onNodeDragStop:O,onSelectionDragStop:B}=s.getState(),F=i?O:bf(B);if(C(f.current,!1,!1),F){const[L,z]=Ef({nodeId:i,dragItems:f.current,nodeInternals:R});F(S.sourceEvent,L,z)}}}).filter(S=>{const C=S.target;return!S.button&&(!n||!Vv(C,`.${n}`,e))&&(!r||Vv(C,r,e))});return m.call(w),()=>{m.on(".drag",null)}}}},[e,t,n,r,o,s,i,a,h]),l}function W_(){const e=ct();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:a,snapToGrid:s,snapGrid:l,onError:u,nodesDraggable:f}=e.getState(),c=a().filter(m=>m.selected&&(m.draggable||f&&typeof m.draggable>"u")),d=s?l[0]:5,v=s?l[1]:5,y=n.isShiftPressed?4:1,_=n.x*d*y,x=n.y*v*y,h=c.map(m=>{if(m.positionAbsolute){const g={x:m.positionAbsolute.x+_,y:m.positionAbsolute.y+x};s&&(g.x=l[0]*Math.round(g.x/l[0]),g.y=l[1]*Math.round(g.y/l[1]));const{positionAbsolute:p,position:w}=q_(m,g,r,i,void 0,u);m.position=w,m.positionAbsolute=p}return m});o(h,!0,!1)},[])}const Ho={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Fa=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:a,xPosOrigin:s,yPosOrigin:l,selected:u,onClick:f,onMouseEnter:c,onMouseMove:d,onMouseLeave:v,onContextMenu:y,onDoubleClick:_,style:x,className:h,isDraggable:m,isSelectable:g,isConnectable:p,isFocusable:w,selectNodesOnDrag:S,sourcePosition:C,targetPosition:R,hidden:O,resizeObserver:B,dragHandle:F,zIndex:L,isParent:z,noDragClassName:T,noPanClassName:M,initialized:D,disableKeyboardA11y:P,ariaLabel:b,rfId:A})=>{const N=ct(),I=k.useRef(null),U=k.useRef(C),Y=k.useRef(R),V=k.useRef(r),K=g||m||f||c||d||v,j=W_(),H=ja(n,N.getState,c),G=ja(n,N.getState,d),Z=ja(n,N.getState,v),ee=ja(n,N.getState,y),se=ja(n,N.getState,_),ge=he=>{if(g&&(!S||!m)&&ch({id:n,store:N,nodeRef:I}),f){const ae=N.getState().nodeInternals.get(n);f(he,{...ae})}},_e=he=>{if(!ah(he))if(x_.includes(he.key)&&g){const ae=he.key==="Escape";ch({id:n,store:N,unselect:ae,nodeRef:I})}else!P&&m&&u&&Object.prototype.hasOwnProperty.call(Ho,he.key)&&(N.setState({ariaLiveMessage:`Moved selected node ${he.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~a}`}),j({x:Ho[he.key].x,y:Ho[he.key].y,isShiftPressed:he.shiftKey}))};k.useEffect(()=>{if(I.current&&!O){const he=I.current;return B==null||B.observe(he),()=>B==null?void 0:B.unobserve(he)}},[O]),k.useEffect(()=>{const he=V.current!==r,ae=U.current!==C,X=Y.current!==R;I.current&&(he||ae||X)&&(he&&(V.current=r),ae&&(U.current=C),X&&(Y.current=R),N.getState().updateNodeDimensions([{id:n,nodeElement:I.current,forceUpdate:!0}]))},[n,r,C,R]);const we=$_({nodeRef:I,disabled:O||!m,noDragClassName:T,handleSelector:F,nodeId:n,isSelectable:g,selectNodesOnDrag:S});return O?null:E("div",{className:Rt(["react-flow__node",`react-flow__node-${r}`,{[M]:m},h,{selected:u,selectable:g,parent:z,dragging:we}]),ref:I,style:{zIndex:L,transform:`translate(${s}px,${l}px)`,pointerEvents:K?"all":"none",visibility:D?"visible":"hidden",...x},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:H,onMouseMove:G,onMouseLeave:Z,onContextMenu:ee,onClick:ge,onDoubleClick:se,onKeyDown:w?_e:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":P?void 0:`${F_}-${A}`,"aria-label":b,children:E(D4,{value:n,children:E(e,{id:n,data:i,type:r,xPos:o,yPos:a,selected:u,isConnectable:p,sourcePosition:C,targetPosition:R,dragging:we,dragHandle:F,zIndex:L})})})};return t.displayName="NodeWrapper",k.memo(t)};function fR(e){const t={input:Fa(e.input||L_),default:Fa(e.default||uh),output:Fa(e.output||z_),group:Fa(e.group||vg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Fa(e[o]||uh),i),n);return{...t,...r}}const dR=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},hR=typeof document<"u"?document:null;var $s=(e=null,t={target:hR})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[a,s]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.split("+")),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return k.useEffect(()=>{var l,u;if(e!==null){const f=v=>{if(i.current=v.ctrlKey||v.metaKey||v.shiftKey,!i.current&&ah(v))return!1;const y=Yv(v.code,s);o.current.add(v[y]),Gv(a,o.current,!1)&&(v.preventDefault(),r(!0))},c=v=>{if(!i.current&&ah(v))return!1;const y=Yv(v.code,s);Gv(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(v[y]),i.current=!1},d=()=>{o.current.clear(),r(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",f),(u=t==null?void 0:t.target)==null||u.addEventListener("keyup",c),window.addEventListener("blur",d),()=>{var v,y;(v=t==null?void 0:t.target)==null||v.removeEventListener("keydown",f),(y=t==null?void 0:t.target)==null||y.removeEventListener("keyup",c),window.removeEventListener("blur",d)}}},[e,r]),n};function Gv(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Yv(e,t){return t.includes(e)?"code":"key"}function V_(e,t,n,r){var a,s;if(!e.parentNode)return n;const i=t.get(e.parentNode),o=Li(i,r);return V_(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[mt])==null?void 0:a.z)??0)>(n.z??0)?((s=i[mt])==null?void 0:s.z)??0:n.z??0},r)}function K_(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:o,y:a,z:s}=V_(r,e,{...r.position,z:((i=r[mt])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:a},r[mt].z=s,n!=null&&n[r.id]&&(r[mt].isParent=!0)}})}function kf(e,t,n,r){const i=new Map,o={},a=r?1e3:0;return e.forEach(s=>{var c;const l=(mn(s.zIndex)?s.zIndex:0)+(s.selected?a:0),u=t.get(s.id),f={width:u==null?void 0:u.width,height:u==null?void 0:u.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(f.parentNode=s.parentNode,o[s.parentNode]=!0),Object.defineProperty(f,mt,{enumerable:!1,value:{handleBounds:(c=u==null?void 0:u[mt])==null?void 0:c.handleBounds,z:l}}),i.set(s.id,f)}),K_(i,n,o),i}function G_(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:c}=e(),d=t.initial&&!u&&f;if(s&&l&&(d||!t.initial)){const y=n().filter(x=>{var m;const h=t.includeHiddenNodes?x.width&&x.height:!x.hidden;return(m=t.nodes)!=null&&m.length?h&&t.nodes.some(g=>g.id===x.id):h}),_=y.every(x=>x.width&&x.height);if(y.length>0&&_){const x=gg(y,c),[h,m,g]=N_(x,r,i,t.minZoom??o,t.maxZoom??a,t.padding??.1),p=vr.translate(h,m).scale(g);return typeof t.duration=="number"&&t.duration>0?s.transform(_i(l,t.duration),p):s.transform(l,p),!0}}return!1}function pR(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[mt]:r[mt],selected:n.selected})}),new Map(t)}function gR(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function zl({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:pR(e,i)}),a==null||a(e)),t!=null&&t.length&&(u&&r({edges:gR(t,o)}),s==null||s(t))}const lo=()=>{},mR={zoomIn:lo,zoomOut:lo,zoomTo:lo,getZoom:()=>1,setViewport:lo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:lo,fitBounds:lo,project:e=>e,viewportInitialized:!1},vR=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),yR=()=>{const e=ct(),{d3Zoom:t,d3Selection:n}=Be(vR,vt);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(_i(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(_i(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(_i(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[a,s,l]=e.getState().transform,u=vr.translate(i.x??a,i.y??s).scale(i.zoom??l);t.transform(_i(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,a]=e.getState().transform;return{x:i,y:o,zoom:a}},fitView:i=>G_(e.getState,i),setCenter:(i,o,a)=>{const{width:s,height:l,maxZoom:u}=e.getState(),f=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,c=s/2-i*f,d=l/2-o*f,v=vr.translate(c,d).scale(f);t.transform(_i(n,a==null?void 0:a.duration),v)},fitBounds:(i,o)=>{const{width:a,height:s,minZoom:l,maxZoom:u}=e.getState(),[f,c,d]=N_(i,a,s,l,u,(o==null?void 0:o.padding)??.1),v=vr.translate(f,c).scale(d);t.transform(_i(n,o==null?void 0:o.duration),v)},project:i=>{const{transform:o,snapToGrid:a,snapGrid:s}=e.getState();return C_(i,o,a,s)},viewportInitialized:!0}:mR,[t,n])};function wa(){const e=yR(),t=ct(),n=k.useCallback(()=>t.getState().getNodes().map(_=>({..._})),[]),r=k.useCallback(_=>t.getState().nodeInternals.get(_),[]),i=k.useCallback(()=>{const{edges:_=[]}=t.getState();return _.map(x=>({...x}))},[]),o=k.useCallback(_=>{const{edges:x=[]}=t.getState();return x.find(h=>h.id===_)},[]),a=k.useCallback(_=>{const{getNodes:x,setNodes:h,hasDefaultNodes:m,onNodesChange:g}=t.getState(),p=x(),w=typeof _=="function"?_(p):_;if(m)h(w);else if(g){const S=w.length===0?p.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));g(S)}},[]),s=k.useCallback(_=>{const{edges:x=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:g}=t.getState(),p=typeof _=="function"?_(x):_;if(m)h(p);else if(g){const w=p.length===0?x.map(S=>({type:"remove",id:S.id})):p.map(S=>({item:S,type:"reset"}));g(w)}},[]),l=k.useCallback(_=>{const x=Array.isArray(_)?_:[_],{getNodes:h,setNodes:m,hasDefaultNodes:g,onNodesChange:p}=t.getState();if(g){const S=[...h(),...x];m(S)}else if(p){const w=x.map(S=>({item:S,type:"add"}));p(w)}},[]),u=k.useCallback(_=>{const x=Array.isArray(_)?_:[_],{edges:h=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:p}=t.getState();if(g)m([...h,...x]);else if(p){const w=x.map(S=>({item:S,type:"add"}));p(w)}},[]),f=k.useCallback(()=>{const{getNodes:_,edges:x=[],transform:h}=t.getState(),[m,g,p]=h;return{nodes:_().map(w=>({...w})),edges:x.map(w=>({...w})),viewport:{x:m,y:g,zoom:p}}},[]),c=k.useCallback(({nodes:_,edges:x})=>{const{nodeInternals:h,getNodes:m,edges:g,hasDefaultNodes:p,hasDefaultEdges:w,onNodesDelete:S,onEdgesDelete:C,onNodesChange:R,onEdgesChange:O}=t.getState(),B=(_||[]).map(M=>M.id),F=(x||[]).map(M=>M.id),L=m().reduce((M,D)=>{const P=!B.includes(D.id)&&D.parentNode&&M.find(A=>A.id===D.parentNode);return(typeof D.deletable=="boolean"?D.deletable:!0)&&(B.includes(D.id)||P)&&M.push(D),M},[]),z=g.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),T=z.filter(M=>F.includes(M.id));if(L||T){const M=R_(L,z),D=[...T,...M],P=D.reduce((b,A)=>(b.includes(A.id)||b.push(A.id),b),[]);if((w||p)&&(w&&t.setState({edges:g.filter(b=>!P.includes(b.id))}),p&&(L.forEach(b=>{h.delete(b.id)}),t.setState({nodeInternals:new Map(h)}))),P.length>0&&(C==null||C(D),O&&O(P.map(b=>({id:b,type:"remove"})))),L.length>0&&(S==null||S(L),R)){const b=L.map(A=>({id:A.id,type:"remove"}));R(b)}}},[]),d=k.useCallback(_=>{const x=k4(_),h=x?null:t.getState().nodeInternals.get(_.id);return[x?_:Dv(h),h,x]},[]),v=k.useCallback((_,x=!0,h)=>{const[m,g,p]=d(_);return m?(h||t.getState().getNodes()).filter(w=>{if(!p&&(w.id===g.id||!w.positionAbsolute))return!1;const S=Dv(w),C=oh(S,m);return x&&C>0||C>=_.width*_.height}):[]},[]),y=k.useCallback((_,x,h=!0)=>{const[m]=d(_);if(!m)return!1;const g=oh(m,x);return h&&g>0||g>=_.width*_.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:a,setEdges:s,addNodes:l,addEdges:u,toObject:f,deleteElements:c,getIntersectingNodes:v,isNodeIntersecting:y}),[e,n,r,i,o,a,s,l,u,f,c,v,y])}var wR=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ct(),{deleteElements:r}=wa(),i=$s(e),o=$s(t);k.useEffect(()=>{if(i){const{edges:a,getNodes:s}=n.getState(),l=s().filter(f=>f.selected),u=a.filter(f=>f.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function _R(e){const t=ct();k.useEffect(()=>{let n;const r=()=>{var o,a;if(!e.current)return;const i=sg(e.current);(i.height===0||i.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",ii.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const yg={position:"absolute",width:"100%",height:"100%",top:0,left:0},xR=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Cf=e=>({x:e.x,y:e.y,zoom:e.k}),uo=(e,t)=>e.target.closest(`.${t}`),Jv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),SR=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),ER=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Uo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:c=!0,defaultViewport:d,translateExtent:v,minZoom:y,maxZoom:_,zoomActivationKeyCode:x,preventScrolling:h=!0,children:m,noWheelClassName:g,noPanClassName:p})=>{const w=k.useRef(),S=ct(),C=k.useRef(!1),R=k.useRef(!1),O=k.useRef(null),B=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:L,d3ZoomHandler:z,userSelectionActive:T}=Be(SR,vt),M=$s(x),D=k.useRef(0);return _R(O),k.useEffect(()=>{if(O.current){const P=O.current.getBoundingClientRect(),b=g_().scaleExtent([y,_]).translateExtent(v),A=hn(O.current).call(b),N=vr.translate(d.x,d.y).scale(sa(d.zoom,y,_)),I=[[0,0],[P.width,P.height]],U=b.constrain()(N,I,v);b.transform(A,U),S.setState({d3Zoom:b,d3Selection:A,d3ZoomHandler:A.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:O.current.closest(".react-flow")})}},[]),k.useEffect(()=>{L&&F&&(a&&!M&&!T?L.on("wheel.zoom",P=>{if(uo(P,g))return!1;P.preventDefault(),P.stopImmediatePropagation();const b=L.property("__zoom").k||1;if(P.ctrlKey&&o){const U=Pn(P),Y=-P.deltaY*(P.deltaMode===1?.05:P.deltaMode?1:.002)*10,V=b*Math.pow(2,Y);F.scaleTo(L,V,U);return}const A=P.deltaMode===1?20:1,N=l===Uo.Vertical?0:P.deltaX*A,I=l===Uo.Horizontal?0:P.deltaY*A;F.translateBy(L,-(N/b)*s,-(I/b)*s)},{passive:!1}):typeof z<"u"&&L.on("wheel.zoom",function(P,b){if(!h||uo(P,g))return null;P.preventDefault(),z.call(this,P,b)},{passive:!1}))},[T,a,l,L,F,z,M,o,h,g]),k.useEffect(()=>{F&&F.on("start",P=>{var A;if(!P.sourceEvent)return null;D.current=P.sourceEvent.button;const{onViewportChangeStart:b}=S.getState();if(C.current=!0,((A=P.sourceEvent)==null?void 0:A.type)==="mousedown"&&S.setState({paneDragging:!0}),t||b){const N=Cf(P.transform);B.current=N,b==null||b(N),t==null||t(P.sourceEvent,N)}})},[F,t]),k.useEffect(()=>{F&&(T&&!C.current?F.on("zoom",null):T||F.on("zoom",P=>{const{onViewportChange:b}=S.getState();if(S.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),R.current=!!(r&&Jv(c,D.current??0)),e||b){const A=Cf(P.transform);b==null||b(A),e==null||e(P.sourceEvent,A)}}))},[T,F,e,c,r]),k.useEffect(()=>{F&&F.on("end",P=>{if(!P.sourceEvent)return null;const{onViewportChangeEnd:b}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),r&&Jv(c,D.current??0)&&!R.current&&r(P.sourceEvent),R.current=!1,(n||b)&&xR(B.current,P.transform)){const A=Cf(P.transform);B.current=A,clearTimeout(w.current),w.current=setTimeout(()=>{b==null||b(A),n==null||n(P.sourceEvent,A)},a?150:0)}})},[F,a,c,n,r]),k.useEffect(()=>{F&&F.filter(P=>{const b=M||i,A=o&&P.ctrlKey;if(P.button===1&&P.type==="mousedown"&&(uo(P,"react-flow__node")||uo(P,"react-flow__edge")))return!0;if(!c&&!b&&!a&&!u&&!o||T||!u&&P.type==="dblclick"||uo(P,g)&&P.type==="wheel"||uo(P,p)&&P.type!=="wheel"||!o&&P.ctrlKey&&P.type==="wheel"||!b&&!a&&!A&&P.type==="wheel"||!c&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(c)&&!c.includes(P.button)&&(P.type==="mousedown"||P.type==="touchstart"))return!1;const N=Array.isArray(c)&&c.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&N})},[T,F,i,o,a,u,c,f,M]),E("div",{className:"react-flow__renderer",ref:O,style:yg,children:m})},bR=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function kR(){const{userSelectionActive:e,userSelectionRect:t}=Be(bR,vt);return e&&t?E("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Qv(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Y_(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(s=>s.id===i.id);if(o.length===0)return r.push(i),r;const a={...i};for(const s of o)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&Qv(r,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&Qv(r,a);break}case"remove":return r}return r.push(a),r},n)}function J_(e,t){return Y_(e,t)}function CR(e,t){return Y_(e,t)}const zr=(e,t)=>({id:e,type:"select",selected:t});function No(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(zr(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(zr(r.id,!1))),n},[])}const Af=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},AR=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Q_=k.memo(({isSelecting:e,selectionMode:t=la.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:f,children:c})=>{const d=k.useRef(null),v=ct(),y=k.useRef(0),_=k.useRef(0),x=k.useRef(),{userSelectionActive:h,elementsSelectable:m,dragging:g}=Be(AR,vt),p=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,_.current=0},w=z=>{o==null||o(z),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},S=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}a==null||a(z)},C=s?z=>s(z):void 0,R=z=>{const{resetSelectedElements:T,domNode:M}=v.getState();if(x.current=M==null?void 0:M.getBoundingClientRect(),!m||!e||z.button!==0||z.target!==d.current||!x.current)return;const{x:D,y:P}=ei(z,x.current);T(),v.setState({userSelectionRect:{width:0,height:0,startX:D,startY:P,x:D,y:P}}),r==null||r(z)},O=z=>{const{userSelectionRect:T,nodeInternals:M,edges:D,transform:P,onNodesChange:b,onEdgesChange:A,nodeOrigin:N,getNodes:I}=v.getState();if(!e||!x.current||!T)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=ei(z,x.current),Y=T.startX??0,V=T.startY??0,K={...T,x:U.x<Y?U.x:Y,y:U.y<V?U.y:V,width:Math.abs(U.x-Y),height:Math.abs(U.y-V)},j=I(),H=A_(M,K,P,t===la.Partial,!0,N),G=R_(H,D).map(ee=>ee.id),Z=H.map(ee=>ee.id);if(y.current!==Z.length){y.current=Z.length;const ee=No(j,Z);ee.length&&(b==null||b(ee))}if(_.current!==G.length){_.current=G.length;const ee=No(D,G);ee.length&&(A==null||A(ee))}v.setState({userSelectionRect:K})},B=z=>{if(z.button!==0)return;const{userSelectionRect:T}=v.getState();!h&&T&&z.target===d.current&&(w==null||w(z)),v.setState({nodesSelectionActive:y.current>0}),p(),i==null||i(z)},F=z=>{h&&(v.setState({nodesSelectionActive:y.current>0}),i==null||i(z)),p()},L=m&&(e||h);return q("div",{className:Rt(["react-flow__pane",{dragging:g,selection:e}]),onClick:L?void 0:Af(w,d),onContextMenu:Af(S,d),onWheel:Af(C,d),onMouseEnter:L?void 0:l,onMouseDown:L?R:void 0,onMouseMove:L?O:u,onMouseUp:L?B:void 0,onMouseLeave:L?F:f,ref:d,style:yg,children:[c,E(kR,{})]})});Q_.displayName="Pane";const RR=e=>{const t=e.getNodes().filter(n=>n.selected);return{...gg(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function NR({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ct(),{width:i,height:o,x:a,y:s,transformString:l,userSelectionActive:u}=Be(RR,vt),f=W_(),c=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=c.current)==null||y.focus({preventScroll:!0})},[n]),$_({nodeRef:c}),u||!i||!o)return null;const d=e?y=>{const _=r.getState().getNodes().filter(x=>x.selected);e(y,_)}:void 0,v=y=>{Object.prototype.hasOwnProperty.call(Ho,y.key)&&f({x:Ho[y.key].x,y:Ho[y.key].y,isShiftPressed:y.shiftKey})};return E("div",{className:Rt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:E("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:v,style:{width:i,height:o,top:s,left:a}})})}var TR=k.memo(NR);const OR=e=>e.nodesSelectionActive,Z_=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:s,onMove:l,onMoveStart:u,onMoveEnd:f,selectionKeyCode:c,selectionOnDrag:d,selectionMode:v,onSelectionStart:y,onSelectionEnd:_,multiSelectionKeyCode:x,panActivationKeyCode:h,zoomActivationKeyCode:m,elementsSelectable:g,zoomOnScroll:p,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:R,zoomOnDoubleClick:O,panOnDrag:B,defaultViewport:F,translateExtent:L,minZoom:z,maxZoom:T,preventScrolling:M,onSelectionContextMenu:D,noWheelClassName:P,noPanClassName:b,disableKeyboardA11y:A})=>{const N=Be(OR),I=$s(c),Y=$s(h)||B,V=I||d&&Y!==!0;return wR({deleteKeyCode:s,multiSelectionKeyCode:x}),E(ER,{onMove:l,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:p,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:R,zoomOnDoubleClick:O,panOnDrag:!I&&Y,defaultViewport:F,translateExtent:L,minZoom:z,maxZoom:T,zoomActivationKeyCode:m,preventScrolling:M,noWheelClassName:P,noPanClassName:b,children:q(Q_,{onSelectionStart:y,onSelectionEnd:_,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:Y,isSelecting:!!V,selectionMode:v,children:[e,N&&E(TR,{onSelectionContextMenu:D,noPanClassName:b,disableKeyboardA11y:A})]})})};Z_.displayName="FlowRenderer";var PR=k.memo(Z_);function DR(e){return Be(k.useCallback(n=>e?A_(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const IR=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),X_=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:a}=Be(IR,vt),s=DR(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(c=>{const d=c.map(v=>({id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}));o(d)});return l.current=f,f},[]);return k.useEffect(()=>()=>{var f;(f=l==null?void 0:l.current)==null||f.disconnect()},[]),E("div",{className:"react-flow__nodes",style:yg,children:s.map(f=>{var w,S;let c=f.type||"default";e.nodeTypes[c]||(a==null||a("003",ii.error003(c)),c="default");const d=e.nodeTypes[c]||e.nodeTypes.default,v=!!(f.draggable||t&&typeof f.draggable>"u"),y=!!(f.selectable||i&&typeof f.selectable>"u"),_=!!(f.connectable||n&&typeof f.connectable>"u"),x=!!(f.focusable||r&&typeof f.focusable>"u"),h=e.nodeExtent?lg(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,m=(h==null?void 0:h.x)??0,g=(h==null?void 0:h.y)??0,p=dR({x:m,y:g,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return E(d,{id:f.id,className:f.className,style:f.style,type:c,data:f.data,sourcePosition:f.sourcePosition||re.Bottom,targetPosition:f.targetPosition||re.Top,hidden:f.hidden,xPos:m,yPos:g,xPosOrigin:p.x,yPosOrigin:p.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:v,isSelectable:y,isConnectable:_,isFocusable:x,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((w=f[mt])==null?void 0:w.z)??0,isParent:!!((S=f[mt])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel},f.id)})})};X_.displayName="NodeRenderer";var MR=k.memo(X_);const LR=[{level:0,isMaxLevel:!0,edges:[]}];function BR(e,t,n=!1){let r=-1;const i=e.reduce((a,s)=>{var f,c;const l=mn(s.zIndex);let u=l?s.zIndex:0;if(n){const d=t.get(s.target),v=t.get(s.source),y=s.selected||(d==null?void 0:d.selected)||(v==null?void 0:v.selected),_=Math.max(((f=v==null?void 0:v[mt])==null?void 0:f.z)||0,((c=d==null?void 0:d[mt])==null?void 0:c.z)||0,1e3);u=(l?s.zIndex:0)+(y?_:0)}return a[u]?a[u].push(s):a[u]=[s],r=u>r?u:r,a},{}),o=Object.entries(i).map(([a,s])=>{const l=+a;return{edges:s,level:l,isMaxLevel:l===r}});return o.length===0?LR:o}function zR(e,t,n){const r=Be(k.useCallback(i=>e?i.edges.filter(o=>{const a=t.get(o.source),s=t.get(o.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&sR({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return BR(r,t,n)}const jR=({color:e="none",strokeWidth:t=1})=>E("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),FR=({color:e="none",strokeWidth:t=1})=>E("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),Zv={[Mi.Arrow]:jR,[Mi.ArrowClosed]:FR};function UR(e){const t=ct();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Zv,e)?Zv[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",ii.error009(e)),null)},[e])}const HR=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=UR(t);return l?E("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:E(l,{color:n,strokeWidth:a})}):null},qR=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const s=lh(a,t);r.includes(s)||(i.push({id:s,color:a.color||e,...a}),r.push(s))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},ex=({defaultColor:e,rfId:t})=>{const n=Be(k.useCallback(qR({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,a)=>o.id!==i[a].id)));return E("defs",{children:n.map(r=>E(HR,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};ex.displayName="MarkerDefinitions";var $R=k.memo(ex);const WR=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),tx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeUpdate:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:f,onEdgeClick:c,edgeUpdaterRadius:d,onEdgeDoubleClick:v,onEdgeUpdateStart:y,onEdgeUpdateEnd:_,children:x})=>{const{edgesFocusable:h,edgesUpdatable:m,elementsSelectable:g,width:p,height:w,connectionMode:S,nodeInternals:C,onError:R}=Be(WR,vt),O=zR(t,C,n);return p?q(De,{children:[O.map(({level:B,edges:F,isMaxLevel:L})=>q("svg",{style:{zIndex:B},width:p,height:w,className:"react-flow__edges react-flow__container",children:[L&&E($R,{defaultColor:e,rfId:r}),E("g",{children:F.map(z=>{const[T,M,D]=Wv(C.get(z.source)),[P,b,A]=Wv(C.get(z.target));if(!D||!A)return null;let N=z.type||"default";i[N]||(R==null||R("011",ii.error011(N)),N="default");const I=i[N]||i.default,U=S===oi.Strict?b.target:(b.target??[]).concat(b.source??[]),Y=$v(M.source,z.sourceHandle),V=$v(U,z.targetHandle),K=(Y==null?void 0:Y.position)||re.Bottom,j=(V==null?void 0:V.position)||re.Top,H=!!(z.focusable||h&&typeof z.focusable>"u"),G=typeof a<"u"&&(z.updatable||m&&typeof z.updatable>"u");if(!Y||!V)return R==null||R("008",ii.error008(Y,z)),null;const{sourceX:Z,sourceY:ee,targetX:se,targetY:ge}=aR(T,Y,K,P,V,j);return E(I,{id:z.id,className:Rt([z.className,o]),type:N,data:z.data,selected:!!z.selected,animated:!!z.animated,hidden:!!z.hidden,label:z.label,labelStyle:z.labelStyle,labelShowBg:z.labelShowBg,labelBgStyle:z.labelBgStyle,labelBgPadding:z.labelBgPadding,labelBgBorderRadius:z.labelBgBorderRadius,style:z.style,source:z.source,target:z.target,sourceHandleId:z.sourceHandle,targetHandleId:z.targetHandle,markerEnd:z.markerEnd,markerStart:z.markerStart,sourceX:Z,sourceY:ee,targetX:se,targetY:ge,sourcePosition:K,targetPosition:j,elementsSelectable:g,onEdgeUpdate:a,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:f,onClick:c,edgeUpdaterRadius:d,onEdgeDoubleClick:v,onEdgeUpdateStart:y,onEdgeUpdateEnd:_,rfId:r,ariaLabel:z.ariaLabel,isFocusable:H,isUpdatable:G,pathOptions:"pathOptions"in z?z.pathOptions:void 0,interactionWidth:z.interactionWidth},z.id)})})]},B)),x]}):null};tx.displayName="EdgeRenderer";var VR=k.memo(tx);const KR=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function GR({children:e}){const t=Be(KR);return E("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function YR(e){const t=wa(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const JR={[re.Left]:re.Right,[re.Right]:re.Left,[re.Top]:re.Bottom,[re.Bottom]:re.Top},nx=({nodeId:e,handleType:t,style:n,type:r=Hr.Bezier,CustomComponent:i,connectionStatus:o})=>{var S,C,R;const{fromNode:a,handleId:s,toX:l,toY:u,connectionMode:f}=Be(k.useCallback(O=>({fromNode:O.nodeInternals.get(e),handleId:O.connectionHandleId,toX:(O.connectionPosition.x-O.transform[0])/O.transform[2],toY:(O.connectionPosition.y-O.transform[1])/O.transform[2],connectionMode:O.connectionMode}),[e]),vt),c=(S=a==null?void 0:a[mt])==null?void 0:S.handleBounds;let d=c==null?void 0:c[t];if(f===oi.Loose&&(d=d||(c==null?void 0:c[t==="source"?"target":"source"])),!a||!d)return null;const v=s?d.find(O=>O.id===s):d[0],y=v?v.x+v.width/2:(a.width??0)/2,_=v?v.y+v.height/2:a.height??0,x=(((C=a.positionAbsolute)==null?void 0:C.x)??0)+y,h=(((R=a.positionAbsolute)==null?void 0:R.y)??0)+_,m=v==null?void 0:v.position,g=m?JR[m]:null;if(!m||!g)return null;if(i)return E(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:v,fromX:x,fromY:h,toX:l,toY:u,fromPosition:m,toPosition:g,connectionStatus:o});let p="";const w={sourceX:x,sourceY:h,sourcePosition:m,targetX:l,targetY:u,targetPosition:g};return r===Hr.Bezier?[p]=dg(w):r===Hr.Step?[p]=sh({...w,borderRadius:0}):r===Hr.SmoothStep?[p]=sh(w):r===Hr.SimpleBezier?[p]=k_(w):p=`M${x},${h} ${l},${u}`,E("path",{d:p,fill:"none",className:"react-flow__connection-path",style:n})};nx.displayName="ConnectionLine";const QR=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ZR({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:a,width:s,height:l,connectionStatus:u}=Be(QR,vt);return!(i&&o&&s&&a)?null:E("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:E("g",{className:Rt(["react-flow__connection",u]),children:E(nx,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})})})}const rx=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:v,onSelectionContextMenu:y,onSelectionStart:_,onSelectionEnd:x,connectionLineType:h,connectionLineStyle:m,connectionLineComponent:g,connectionLineContainerStyle:p,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:R,panActivationKeyCode:O,zoomActivationKeyCode:B,deleteKeyCode:F,onlyRenderVisibleElements:L,elementsSelectable:z,selectNodesOnDrag:T,defaultViewport:M,translateExtent:D,minZoom:P,maxZoom:b,preventScrolling:A,defaultMarkerColor:N,zoomOnScroll:I,zoomOnPinch:U,panOnScroll:Y,panOnScrollSpeed:V,panOnScrollMode:K,zoomOnDoubleClick:j,panOnDrag:H,onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:ee,onPaneMouseLeave:se,onPaneScroll:ge,onPaneContextMenu:_e,onEdgeUpdate:we,onEdgeContextMenu:he,onEdgeMouseEnter:ae,onEdgeMouseMove:X,onEdgeMouseLeave:ye,edgeUpdaterRadius:ke,onEdgeUpdateStart:Ee,onEdgeUpdateEnd:Ne,noDragClassName:Vt,noWheelClassName:Nt,noPanClassName:Hn,elevateEdgesOnSelect:ir,disableKeyboardA11y:Kt,nodeOrigin:qn,nodeExtent:or,rfId:Tr})=>(YR(o),E(PR,{onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:ee,onPaneMouseLeave:se,onPaneContextMenu:_e,onPaneScroll:ge,deleteKeyCode:F,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:_,onSelectionEnd:x,multiSelectionKeyCode:R,panActivationKeyCode:O,zoomActivationKeyCode:B,elementsSelectable:z,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:I,zoomOnPinch:U,zoomOnDoubleClick:j,panOnScroll:Y,panOnScrollSpeed:V,panOnScrollMode:K,panOnDrag:H,defaultViewport:M,translateExtent:D,minZoom:P,maxZoom:b,onSelectionContextMenu:y,preventScrolling:A,noDragClassName:Vt,noWheelClassName:Nt,noPanClassName:Hn,disableKeyboardA11y:Kt,children:q(GR,{children:[E(VR,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:u,onEdgeUpdate:we,onlyRenderVisibleElements:L,onEdgeContextMenu:he,onEdgeMouseEnter:ae,onEdgeMouseMove:X,onEdgeMouseLeave:ye,onEdgeUpdateStart:Ee,onEdgeUpdateEnd:Ne,edgeUpdaterRadius:ke,defaultMarkerColor:N,noPanClassName:Hn,elevateEdgesOnSelect:!!ir,disableKeyboardA11y:Kt,rfId:Tr,children:E(ZR,{style:m,type:h,component:g,containerStyle:p})}),E("div",{className:"react-flow__edgelabel-renderer"}),E(MR,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:v,selectNodesOnDrag:T,onlyRenderVisibleElements:L,noPanClassName:Hn,noDragClassName:Vt,disableKeyboardA11y:Kt,nodeOrigin:qn,nodeExtent:or,rfId:Tr})]})}));rx.displayName="GraphView";var XR=k.memo(rx);const fh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Pr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:fh,nodeExtent:fh,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:oi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:C4,isValidConnection:void 0},eN=()=>eg((e,t)=>({...Pr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:kf(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",a=i?kf(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),f=l==null?void 0:l.querySelector(".react-flow__viewport");if(!f)return;const c=window.getComputedStyle(f),{m22:d}=new window.DOMMatrixReadOnly(c.transform),v=n.reduce((_,x)=>{const h=i.get(x.id);if(h){const m=sg(x.nodeElement);!!(m.width&&m.height&&(h.width!==m.width||h.height!==m.height||x.forceUpdate))&&(i.set(h.id,{...h,[mt]:{...h[mt],handleBounds:{source:Kv(".source",x.nodeElement,d,u),target:Kv(".target",x.nodeElement,d,u)}},...m}),_.push({id:h.id,type:"dimensions",dimensions:m}))}return _},[]);K_(i,u);const y=a||o&&!a&&G_(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(v==null?void 0:v.length)>0&&(r==null||r(v))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),a=n.map(s=>{const l={id:s.id,type:"position",dragging:i};return r&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});o(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=J_(n,s()),f=kf(u,i,a,l);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(l=>zr(l,!0)):(a=No(o(),n),s=No(i,[])),zl({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(l=>zr(l,!0)):(a=No(i,n),s=No(o(),[])),zl({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),a=n||o(),s=r||i,l=a.map(f=>(f.selected=!1,zr(f.id,!1))),u=s.map(f=>zr(f.id,!1));zl({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(s=>s.selected).map(s=>zr(s.id,!1)),a=n.filter(s=>s.selected).map(s=>zr(s.id,!1));zl({changedNodes:o,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=lg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:a,d3Selection:s,translateExtent:l}=t();if(!a||!s||!n.x&&!n.y)return!1;const u=vr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[i,o]],c=a==null?void 0:a.constrain()(u,f,l);return a.transform(s,c),r[0]!==c.x||r[1]!==c.y||r[2]!==c.k},cancelConnection:()=>e({connectionNodeId:Pr.connectionNodeId,connectionHandleId:Pr.connectionHandleId,connectionHandleType:Pr.connectionHandleType,connectionStatus:Pr.connectionStatus,connectionStartHandle:Pr.connectionStartHandle,connectionEndHandle:Pr.connectionEndHandle}),reset:()=>e({...Pr})})),wg=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=eN()),E(w4,{value:t.current,children:e})};wg.displayName="ReactFlowProvider";const ix=({children:e})=>k.useContext(Ac)?E(De,{children:e}):E(wg,{children:e});ix.displayName="ReactFlowWrapper";function Xv(e,t){return k.useRef(null),k.useMemo(()=>t(e),[e])}const tN={input:L_,default:uh,output:z_,group:vg},nN={default:qu,straight:fg,step:cg,smoothstep:Rc,simplebezier:ug},rN=[0,0],iN=[15,15],oN={x:0,y:0,zoom:1},aN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ox=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=tN,edgeTypes:a=nN,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:v,onConnectStart:y,onConnectEnd:_,onClickConnectStart:x,onClickConnectEnd:h,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:R,onNodeDragStop:O,onNodesDelete:B,onEdgesDelete:F,onSelectionChange:L,onSelectionDragStart:z,onSelectionDrag:T,onSelectionDragStop:M,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:b,connectionMode:A=oi.Strict,connectionLineType:N=Hr.Bezier,connectionLineStyle:I,connectionLineComponent:U,connectionLineContainerStyle:Y,deleteKeyCode:V="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:j=!1,selectionMode:H=la.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:Z="Meta",zoomActivationKeyCode:ee="Meta",snapToGrid:se=!1,snapGrid:ge=iN,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:we=!0,nodesDraggable:he,nodesConnectable:ae,nodesFocusable:X,nodeOrigin:ye=rN,edgesFocusable:ke,edgesUpdatable:Ee,elementsSelectable:Ne,defaultViewport:Vt=oN,minZoom:Nt=.5,maxZoom:Hn=2,translateExtent:ir=fh,preventScrolling:Kt=!0,nodeExtent:qn,defaultMarkerColor:or="#b1b1b7",zoomOnScroll:Tr=!0,zoomOnPinch:xt=!0,panOnScroll:Gt=!1,panOnScrollSpeed:$n=.5,panOnScrollMode:ar=Uo.Free,zoomOnDoubleClick:$=!0,panOnDrag:W=!0,onPaneClick:J,onPaneMouseEnter:te,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneScroll:de,onPaneContextMenu:le,children:ie,onEdgeUpdate:je,onEdgeContextMenu:yt,onEdgeDoubleClick:Ce,onEdgeMouseEnter:Ie,onEdgeMouseMove:Ke,onEdgeMouseLeave:sr,onEdgeUpdateStart:lr,onEdgeUpdateEnd:hi,edgeUpdaterRadius:ba=10,onNodesChange:bn,onEdgesChange:kn,noDragClassName:ro="nodrag",noWheelClassName:ka="nowheel",noPanClassName:io="nopan",fitView:Ca=!1,fitViewOptions:Pe,connectOnClick:Yt=!0,attributionPosition:Wn,proOptions:Aa,defaultEdgeOptions:tt,elevateNodesOnSelect:pi=!0,elevateEdgesOnSelect:dl=!1,disableKeyboardA11y:hl=!1,autoPanOnConnect:PE=!0,autoPanOnNodeDrag:DE=!0,connectionRadius:IE=20,isValidConnection:ME,onError:LE,style:BE,id:nm,...zE},jE)=>{const FE=Xv(o,fR),UE=Xv(a,oR),qc=nm||"1";return E("div",{...zE,style:{...BE,...aN},ref:jE,className:Rt(["react-flow",i]),"data-testid":"rf__wrapper",id:nm,children:q(ix,{children:[E(XR,{onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:FE,edgeTypes:UE,connectionLineType:N,connectionLineStyle:I,connectionLineComponent:U,connectionLineContainerStyle:Y,selectionKeyCode:K,selectionOnDrag:j,selectionMode:H,deleteKeyCode:V,multiSelectionKeyCode:Z,panActivationKeyCode:G,zoomActivationKeyCode:ee,onlyRenderVisibleElements:_e,selectNodesOnDrag:we,defaultViewport:Vt,translateExtent:ir,minZoom:Nt,maxZoom:Hn,preventScrolling:Kt,zoomOnScroll:Tr,zoomOnPinch:xt,zoomOnDoubleClick:$,panOnScroll:Gt,panOnScrollSpeed:$n,panOnScrollMode:ar,panOnDrag:W,onPaneClick:J,onPaneMouseEnter:te,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneScroll:de,onPaneContextMenu:le,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:b,onEdgeUpdate:je,onEdgeContextMenu:yt,onEdgeDoubleClick:Ce,onEdgeMouseEnter:Ie,onEdgeMouseMove:Ke,onEdgeMouseLeave:sr,onEdgeUpdateStart:lr,onEdgeUpdateEnd:hi,edgeUpdaterRadius:ba,defaultMarkerColor:or,noDragClassName:ro,noWheelClassName:ka,noPanClassName:io,elevateEdgesOnSelect:dl,rfId:qc,disableKeyboardA11y:hl,nodeOrigin:ye,nodeExtent:qn}),E(J4,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:_,onClickConnectStart:x,onClickConnectEnd:h,nodesDraggable:he,nodesConnectable:ae,nodesFocusable:X,edgesFocusable:ke,edgesUpdatable:Ee,elementsSelectable:Ne,elevateNodesOnSelect:pi,minZoom:Nt,maxZoom:Hn,nodeExtent:qn,onNodesChange:bn,onEdgesChange:kn,snapToGrid:se,snapGrid:ge,connectionMode:A,translateExtent:ir,connectOnClick:Yt,defaultEdgeOptions:tt,fitView:Ca,fitViewOptions:Pe,onNodesDelete:B,onEdgesDelete:F,onNodeDragStart:C,onNodeDrag:R,onNodeDragStop:O,onSelectionDrag:T,onSelectionDragStart:z,onSelectionDragStop:M,noPanClassName:io,nodeOrigin:ye,rfId:qc,autoPanOnConnect:PE,autoPanOnNodeDrag:DE,onError:LE,connectionRadius:IE,isValidConnection:ME}),E(G4,{onSelectionChange:L}),ie,E(x4,{proOptions:Aa,position:Wn}),E(tR,{rfId:qc,disableKeyboardA11y:hl})]})})});ox.displayName="ReactFlow";function ax(){const e=ct();return k.useCallback(t=>{const{domNode:n,updateNodeDimensions:r}=e.getState(),o=(Array.isArray(t)?t:[t]).reduce((a,s)=>{const l=n==null?void 0:n.querySelector(`.react-flow__node[data-id="${s}"]`);return l&&a.push({id:s,nodeElement:l,forceUpdate:!0}),a},[]);requestAnimationFrame(()=>r(o))},[])}const sN=e=>e.getNodes();function lN(){return Be(sN,vt)}function uN({onChange:e}){const t=ct();k.useEffect(()=>{t.setState({onSelectionChange:e})},[e])}const sx=({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:f,shapeRendering:c,onClick:d})=>{const{background:v,backgroundColor:y}=o||{},_=a||v||y;return E("rect",{className:Rt(["react-flow__minimap-node",u]),x:t,y:n,rx:f,ry:f,width:r,height:i,fill:_,stroke:s,strokeWidth:l,shapeRendering:c,onClick:d?x=>d(x,e):void 0})};sx.displayName="MiniMapNode";var cN=k.memo(sx);const fN=e=>e.nodeOrigin,dN=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Rf=e=>e instanceof Function?e:()=>e;function hN({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=cN,onClick:a}){const s=Be(dN,vt),l=Be(fN),u=Rf(t),f=Rf(e),c=Rf(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return E(De,{children:s.map(v=>{const{x:y,y:_}=Li(v,l).positionAbsolute;return E(o,{x:y,y:_,width:v.width,height:v.height,style:v.style,className:c(v),color:u(v),borderRadius:r,strokeColor:f(v),strokeWidth:i,shapeRendering:d,onClick:a,id:v.id},v.id)})})}var pN=k.memo(hN);const gN=200,mN=150,vN=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?b4(gg(t,e.nodeOrigin),n):n,rfId:e.rfId}},yN="react-flow__minimap-desc";function lx({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:f=1,position:c="bottom-right",onClick:d,onNodeClick:v,pannable:y=!1,zoomable:_=!1,ariaLabel:x="React Flow mini map",inversePan:h=!1,zoomStep:m=10}){const g=ct(),p=k.useRef(null),{boundingRect:w,viewBB:S,rfId:C}=Be(vN,vt),R=(e==null?void 0:e.width)??gN,O=(e==null?void 0:e.height)??mN,B=w.width/R,F=w.height/O,L=Math.max(B,F),z=L*R,T=L*O,M=5*L,D=w.x-(z-w.width)/2-M,P=w.y-(T-w.height)/2-M,b=z+M*2,A=T+M*2,N=`${yN}-${C}`,I=k.useRef(0);I.current=L,k.useEffect(()=>{if(p.current){const V=hn(p.current),K=G=>{const{transform:Z,d3Selection:ee,d3Zoom:se}=g.getState();if(G.sourceEvent.type!=="wheel"||!ee||!se)return;const ge=-G.sourceEvent.deltaY*(G.sourceEvent.deltaMode===1?.05:G.sourceEvent.deltaMode?1:.002)*m,_e=Z[2]*Math.pow(2,ge);se.scaleTo(ee,_e)},j=G=>{const{transform:Z,d3Selection:ee,d3Zoom:se,translateExtent:ge,width:_e,height:we}=g.getState();if(G.sourceEvent.type!=="mousemove"||!ee||!se)return;const he=I.current*Math.max(1,Z[2])*(h?-1:1),ae={x:Z[0]-G.sourceEvent.movementX*he,y:Z[1]-G.sourceEvent.movementY*he},X=[[0,0],[_e,we]],ye=vr.translate(ae.x,ae.y).scale(Z[2]),ke=se.constrain()(ye,X,ge);se.transform(ee,ke)},H=g_().on("zoom",y?j:null).on("zoom.wheel",_?K:null);return V.call(H),()=>{V.on("zoom",null)}}},[y,_,h,m]);const U=d?V=>{const K=Pn(V);d(V,{x:K[0],y:K[1]})}:void 0,Y=v?(V,K)=>{const j=g.getState().nodeInternals.get(K);v(V,j)}:void 0;return E(aa,{position:c,style:e,className:Rt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:q("svg",{width:R,height:O,viewBox:`${D} ${P} ${b} ${A}`,role:"img","aria-labelledby":N,ref:p,onClick:U,children:[x&&E("title",{id:N,children:x}),E(pN,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),E("path",{className:"react-flow__minimap-mask",d:`M${D-M},${P-M}h${b+M*2}v${A+M*2}h${-b-M*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:f,pointerEvents:"none"})]})})}lx.displayName="MiniMap";var wN=k.memo(lx);function _N(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:E("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function xN(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:E("path",{d:"M0 0h32v4.2H0z"})})}function SN(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:E("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function EN(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function bN(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const ns=({children:e,className:t,...n})=>E("button",{type:"button",className:Rt(["react-flow__controls-button",t]),...n,children:e});ns.displayName="ControlButton";const kN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),ux=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:f,position:c="bottom-left"})=>{const d=ct(),[v,y]=k.useState(!1),{isInteractive:_,minZoomReached:x,maxZoomReached:h}=Be(kN,vt),{zoomIn:m,zoomOut:g,fitView:p}=wa();if(k.useEffect(()=>{y(!0)},[]),!v)return null;const w=()=>{m(),o==null||o()},S=()=>{g(),a==null||a()},C=()=>{p(i),s==null||s()},R=()=>{d.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),l==null||l(!_)};return q(aa,{className:Rt(["react-flow__controls",u]),position:c,style:e,"data-testid":"rf__controls",children:[t&&q(De,{children:[E(ns,{onClick:w,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h,children:E(_N,{})}),E(ns,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x,children:E(xN,{})})]}),n&&E(ns,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:E(SN,{})}),r&&E(ns,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity",children:_?E(bN,{}):E(EN,{})}),f]})};ux.displayName="Controls";var CN=k.memo(ux),zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(zn||(zn={}));function AN({color:e,dimensions:t,lineWidth:n}){return E("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function RN({color:e,radius:t}){return E("circle",{cx:t,cy:t,r:t,fill:e})}const NN={[zn.Dots]:"#91919a",[zn.Lines]:"#eee",[zn.Cross]:"#e2e2e2"},TN={[zn.Dots]:1,[zn.Lines]:1,[zn.Cross]:6},ON=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function cx({id:e,variant:t=zn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:a,style:s,className:l}){const u=k.useRef(null),{transform:f,patternId:c}=Be(ON,vt),d=a||NN[t],v=r||TN[t],y=t===zn.Dots,_=t===zn.Cross,x=Array.isArray(n)?n:[n,n],h=[x[0]*f[2]||1,x[1]*f[2]||1],m=v*f[2],g=_?[m,m]:h,p=y?[m/o,m/o]:[g[0]/o,g[1]/o];return q("svg",{className:Rt(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background",children:[E("pattern",{id:c+e,x:f[0]%h[0],y:f[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${p[0]},-${p[1]})`,children:y?E(RN,{color:d,radius:m/o}):E(AN,{dimensions:g,color:d,lineWidth:i})}),E("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${c+e})`})]})}cx.displayName="Background";var PN=k.memo(cx);const DN="_graph_dg4qg_5",IN="_node_dg4qg_17",MN="_errorOutline_dg4qg_33",LN="_nodeLabelInput_dg4qg_57",BN="_nodeLabelFocusButton_dg4qg_64",zN="_nodeHeader_dg4qg_75",jN="_nodeComment_dg4qg_83",FN="_nodeCommentEmpty_dg4qg_98",UN="_clickable_dg4qg_117",HN="_deleteButton_dg4qg_121",qN="_handle_dg4qg_134",$N="_inlineHandle_dg4qg_146",WN="_knob_dg4qg_157",VN="_arrowRight_dg4qg_169",KN="_inputHandle_dg4qg_187",GN="_outputHandle_dg4qg_192",YN="_connectionsGrid_dg4qg_201",JN="_inputsColumn_dg4qg_207",QN="_outputsColumn_dg4qg_211",ZN="_addNodeMenuOption_dg4qg_215",XN="_addNodeMenu_dg4qg_215",eT="_randomSwitchBody_dg4qg_227",tT="_playerRepliesBody_dg4qg_233",nT="_randomSwitchInput_dg4qg_241",He={graph:DN,node:IN,errorOutline:MN,nodeLabelInput:LN,nodeLabelFocusButton:BN,nodeHeader:zN,nodeComment:jN,nodeCommentEmpty:FN,clickable:UN,deleteButton:HN,handle:qN,inlineHandle:$N,knob:WN,arrowRight:VN,inputHandle:KN,outputHandle:GN,connectionsGrid:YN,inputsColumn:JN,outputsColumn:QN,addNodeMenuOption:ZN,addNodeMenu:XN,randomSwitchBody:eT,playerRepliesBody:tT,randomSwitchInput:nT};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}var lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lt||(lt={}));const e0="popstate";function rT(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Ws("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vi(i)}return oT(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iT(){return Math.random().toString(36).substr(2,8)}function t0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ws(e,t,n,r){return n===void 0&&(n=null),Ge({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cr(t):t,{state:n,key:t&&t.key||r||iT()})}function Vi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=lt.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(Ge({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function c(){s=lt.Pop;let x=f(),h=x==null?null:x-u;u=x,l&&l({action:s,location:_.location,delta:h})}function d(x,h){s=lt.Push;let m=Ws(_.location,x,h);n&&n(m,x),u=f()+1;let g=t0(m,u),p=_.createHref(m);try{a.pushState(g,"",p)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(p)}o&&l&&l({action:s,location:_.location,delta:1})}function v(x,h){s=lt.Replace;let m=Ws(_.location,x,h);n&&n(m,x),u=f();let g=t0(m,u),p=_.createHref(m);a.replaceState(g,"",p),o&&l&&l({action:s,location:_.location,delta:0})}function y(x){let h=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof x=="string"?x:Vi(x);return Se(h,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,h)}let _={get action(){return s},get location(){return e(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e0,c),l=x,()=>{i.removeEventListener(e0,c),l=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let h=y(x);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:d,replace:v,go(x){return a.go(x)}};return _}var rt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rt||(rt={}));const aT=new Set(["lazy","caseSensitive","path","id","index","children"]);function sT(e){return e.index===!0}function dh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),sT(i)){let l=Ge({},i,t(i),{id:s});return r[s]=l,l}else{let l=Ge({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=dh(i.children,t,a,r)),l}})}function To(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Cr(t):t,i=_a(r.pathname||"/",n);if(i==null)return null;let o=fx(e);uT(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=yT(o[s],xT(i));return a}function lT(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function fx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yr([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(Se(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fx(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:mT(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of dx(o.path))i(o,a,l)}),t}function dx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=dx(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function uT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cT=/^:\w+$/,fT=3,dT=2,hT=1,pT=10,gT=-2,n0=e=>e==="*";function mT(e,t){let n=e.split("/"),r=n.length;return n.some(n0)&&(r+=gT),t&&(r+=dT),n.filter(i=>!n0(i)).reduce((i,o)=>i+(cT.test(o)?fT:o===""?hT:pT),r)}function vT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yT(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=wT({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let c=s.route;o.push({params:r,pathname:yr([i,f.pathname]),pathnameBase:kT(yr([i,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(i=yr([i,f.pathnameBase]))}return o}function wT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_T(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,f,c)=>{if(f==="*"){let d=s[c]||"";a=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[f]=ST(s[c]||"",f),u},{}),pathname:o,pathnameBase:a,pattern:e}}function _T(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xT(e){try{return decodeURI(e)}catch(t){return ua(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ST(e,t){try{return decodeURIComponent(e)}catch(n){return ua(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function _a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ET(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cr(e):e;return{pathname:n?n.startsWith("/")?n:bT(n,t):t,search:CT(r),hash:AT(i)}}function bT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _g(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Cr(e):(i=Ge({},e),Se(!i.pathname||!i.pathname.includes("?"),Nf("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Nf("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Nf("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let c=t.length-1;if(a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}s=c>=0?t[c]:"/"}let l=ET(i,s),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const yr=e=>e.join("/").replace(/\/\/+/g,"/"),kT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class xg{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const px=["post","put","patch","delete"],RT=new Set(px),NT=["get",...px],TT=new Set(NT),OT=new Set([301,302,303,307,308]),PT=new Set([307,308]),Tf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ua={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IT=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)});function MT(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let $=e.detectErrorBoundary;i=W=>({hasErrorBoundary:$(W)})}else i=IT;let o={},a=dh(e.routes,i,void 0,o),s,l=e.basename||"/",u=Ge({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),f=null,c=new Set,d=null,v=null,y=null,_=e.hydrationData!=null,x=To(a,e.history.location,l),h=null;if(x==null){let $=ln(404,{pathname:e.history.location.pathname}),{matches:W,route:J}=c0(a);x=W,h={[J.id]:$}}let m=!x.some($=>$.route.lazy)&&(!x.some($=>$.route.loader)||e.hydrationData!=null),g,p={historyAction:e.history.action,location:e.history.location,matches:x,initialized:m,navigation:Tf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||h,fetchers:new Map,blockers:new Map},w=lt.Pop,S=!1,C,R=!1,O=!1,B=[],F=[],L=new Map,z=0,T=-1,M=new Map,D=new Set,P=new Map,b=new Map,A=new Map,N=!1;function I(){return f=e.history.listen($=>{let{action:W,location:J,delta:te}=$;if(N){N=!1;return}ua(A.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=qn({currentLocation:p.location,nextLocation:J,historyAction:W});if(ce&&te!=null){N=!0,e.history.go(te*-1),Kt(ce,{state:"blocked",location:J,proceed(){Kt(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),e.history.go(te)},reset(){let ue=new Map(p.blockers);ue.set(ce,Ua),V({blockers:ue})}});return}return G(W,J)}),p.initialized||G(lt.Pop,p.location),g}function U(){f&&f(),c.clear(),C&&C.abort(),p.fetchers.forEach(($,W)=>ke(W)),p.blockers.forEach(($,W)=>ir(W))}function Y($){return c.add($),()=>c.delete($)}function V($){p=Ge({},p,$),c.forEach(W=>W(p))}function K($,W){var J,te;let ce=p.actionData!=null&&p.navigation.formMethod!=null&&Dn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((J=$.state)==null?void 0:J._isRedirect)!==!0,ue;W.actionData?Object.keys(W.actionData).length>0?ue=W.actionData:ue=null:ce?ue=p.actionData:ue=null;let de=W.loaderData?u0(p.loaderData,W.loaderData,W.matches||[],W.errors):p.loaderData,le=p.blockers;le.size>0&&(le=new Map(le),le.forEach((je,yt)=>le.set(yt,Ua)));let ie=S===!0||p.navigation.formMethod!=null&&Dn(p.navigation.formMethod)&&((te=$.state)==null?void 0:te._isRedirect)!==!0;s&&(a=s,s=void 0),R||w===lt.Pop||(w===lt.Push?e.history.push($,$.state):w===lt.Replace&&e.history.replace($,$.state)),V(Ge({},W,{actionData:ue,loaderData:de,historyAction:w,location:$,initialized:!0,navigation:Tf,revalidation:"idle",restoreScrollPosition:$n($,W.matches||p.matches),preventScrollReset:ie,blockers:le})),w=lt.Pop,S=!1,R=!1,O=!1,B=[],F=[]}async function j($,W){if(typeof $=="number"){e.history.go($);return}let J=hh(p.location,p.matches,l,u.v7_prependBasename,$,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:te,submission:ce,error:ue}=r0(u.v7_normalizeFormMethod,!1,J,W),de=p.location,le=Ws(p.location,te,W&&W.state);le=Ge({},le,e.history.encodeLocation(le));let ie=W&&W.replace!=null?W.replace:void 0,je=lt.Push;ie===!0?je=lt.Replace:ie===!1||ce!=null&&Dn(ce.formMethod)&&ce.formAction===p.location.pathname+p.location.search&&(je=lt.Replace);let yt=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ce=qn({currentLocation:de,nextLocation:le,historyAction:je});if(Ce){Kt(Ce,{state:"blocked",location:le,proceed(){Kt(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),j($,W)},reset(){let Ie=new Map(p.blockers);Ie.set(Ce,Ua),V({blockers:Ie})}});return}return await G(je,le,{submission:ce,pendingError:ue,preventScrollReset:yt,replace:W&&W.replace})}function H(){if(X(),V({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){G(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}G(w||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function G($,W,J){C&&C.abort(),C=null,w=$,R=(J&&J.startUninterruptedRevalidation)===!0,Gt(p.location,p.matches),S=(J&&J.preventScrollReset)===!0;let te=s||a,ce=J&&J.overrideNavigation,ue=To(te,W,l);if(!ue){let Ie=ln(404,{pathname:W.pathname}),{matches:Ke,route:sr}=c0(te);or(),K(W,{matches:Ke,loaderData:{},errors:{[sr.id]:Ie}});return}if(p.initialized&&!O&&FT(p.location,W)&&!(J&&J.submission&&Dn(J.submission.formMethod))){K(W,{matches:ue});return}C=new AbortController;let de=qa(e.history,W,C.signal,J&&J.submission),le,ie;if(J&&J.pendingError)ie={[Oo(ue).route.id]:J.pendingError};else if(J&&J.submission&&Dn(J.submission.formMethod)){let Ie=await Z(de,W,J.submission,ue,{replace:J.replace});if(Ie.shortCircuited)return;le=Ie.pendingActionData,ie=Ie.pendingActionError,ce=Of(W,J.submission),de=new Request(de.url,{signal:de.signal})}let{shortCircuited:je,loaderData:yt,errors:Ce}=await ee(de,W,ue,ce,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,le,ie);je||(C=null,K(W,Ge({matches:ue},le?{actionData:le}:{},{loaderData:yt,errors:Ce})))}async function Z($,W,J,te,ce){ce===void 0&&(ce={}),X();let ue=$T(W,J);V({navigation:ue});let de,le=gh(te,W);if(!le.route.action&&!le.route.lazy)de={type:rt.error,error:ln(405,{method:$.method,pathname:W.pathname,routeId:le.route.id})};else if(de=await Ha("action",$,le,te,o,i,l),$.signal.aborted)return{shortCircuited:!0};if(qo(de)){let ie;return ce&&ce.replace!=null?ie=ce.replace:ie=de.location===p.location.pathname+p.location.search,await he(p,de,{submission:J,replace:ie}),{shortCircuited:!0}}if(ms(de)){let ie=Oo(te,le.route.id);return(ce&&ce.replace)!==!0&&(w=lt.Push),{pendingActionData:{},pendingActionError:{[ie.route.id]:de.error}}}if(Ri(de))throw ln(400,{type:"defer-action"});return{pendingActionData:{[le.route.id]:de.data}}}async function ee($,W,J,te,ce,ue,de,le,ie){let je=te||Of(W,ce),yt=ce||ue||h0(je),Ce=s||a,[Ie,Ke]=i0(e.history,p,J,yt,W,O,B,F,P,D,Ce,l,le,ie);if(or(Pe=>!(J&&J.some(Yt=>Yt.route.id===Pe))||Ie&&Ie.some(Yt=>Yt.route.id===Pe)),T=++z,Ie.length===0&&Ke.length===0){let Pe=Vt();return K(W,Ge({matches:J,loaderData:{},errors:ie||null},le?{actionData:le}:{},Pe?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!R){Ke.forEach(Yt=>{let Wn=p.fetchers.get(Yt.key),Aa=$a(void 0,Wn?Wn.data:void 0);p.fetchers.set(Yt.key,Aa)});let Pe=le||p.actionData;V(Ge({navigation:je},Pe?Object.keys(Pe).length===0?{actionData:null}:{actionData:Pe}:{},Ke.length>0?{fetchers:new Map(p.fetchers)}:{}))}Ke.forEach(Pe=>{L.has(Pe.key)&&Ee(Pe.key),Pe.controller&&L.set(Pe.key,Pe.controller)});let sr=()=>Ke.forEach(Pe=>Ee(Pe.key));C&&C.signal.addEventListener("abort",sr);let{results:lr,loaderResults:hi,fetcherResults:ba}=await ae(p.matches,J,Ie,Ke,$);if($.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",sr),Ke.forEach(Pe=>L.delete(Pe.key));let bn=f0(lr);if(bn){if(bn.idx>=Ie.length){let Pe=Ke[bn.idx-Ie.length].key;D.add(Pe)}return await he(p,bn.result,{replace:de}),{shortCircuited:!0}}let{loaderData:kn,errors:ro}=l0(p,J,Ie,hi,ie,Ke,ba,b);b.forEach((Pe,Yt)=>{Pe.subscribe(Wn=>{(Wn||Pe.done)&&b.delete(Yt)})});let ka=Vt(),io=Nt(T),Ca=ka||io||Ke.length>0;return Ge({loaderData:kn,errors:ro},Ca?{fetchers:new Map(p.fetchers)}:{})}function se($){return p.fetchers.get($)||DT}function ge($,W,J,te){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has($)&&Ee($);let ce=s||a,ue=hh(p.location,p.matches,l,u.v7_prependBasename,J,W,te==null?void 0:te.relative),de=To(ce,ue,l);if(!de){ye($,W,ln(404,{pathname:ue}));return}let{path:le,submission:ie,error:je}=r0(u.v7_normalizeFormMethod,!0,ue,te);if(je){ye($,W,je);return}let yt=gh(de,le);if(S=(te&&te.preventScrollReset)===!0,ie&&Dn(ie.formMethod)){_e($,W,le,yt,de,ie);return}P.set($,{routeId:W,path:le}),we($,W,le,yt,de,ie)}async function _e($,W,J,te,ce,ue){if(X(),P.delete($),!te.route.action&&!te.route.lazy){let tt=ln(405,{method:ue.formMethod,pathname:J,routeId:W});ye($,W,tt);return}let de=p.fetchers.get($),le=WT(ue,de);p.fetchers.set($,le),V({fetchers:new Map(p.fetchers)});let ie=new AbortController,je=qa(e.history,J,ie.signal,ue);L.set($,ie);let yt=z,Ce=await Ha("action",je,te,ce,o,i,l);if(je.signal.aborted){L.get($)===ie&&L.delete($);return}if(qo(Ce))if(L.delete($),T>yt){let tt=po(void 0);p.fetchers.set($,tt),V({fetchers:new Map(p.fetchers)});return}else{D.add($);let tt=$a(ue);return p.fetchers.set($,tt),V({fetchers:new Map(p.fetchers)}),he(p,Ce,{fetcherSubmission:ue})}if(ms(Ce)){ye($,W,Ce.error);return}if(Ri(Ce))throw ln(400,{type:"defer-action"});let Ie=p.navigation.location||p.location,Ke=qa(e.history,Ie,ie.signal),sr=s||a,lr=p.navigation.state!=="idle"?To(sr,p.navigation.location,l):p.matches;Se(lr,"Didn't find any matches after fetcher action");let hi=++z;M.set($,hi);let ba=$a(ue,Ce.data);p.fetchers.set($,ba);let[bn,kn]=i0(e.history,p,lr,ue,Ie,O,B,F,P,D,sr,l,{[te.route.id]:Ce.data},void 0);kn.filter(tt=>tt.key!==$).forEach(tt=>{let pi=tt.key,dl=p.fetchers.get(pi),hl=$a(void 0,dl?dl.data:void 0);p.fetchers.set(pi,hl),L.has(pi)&&Ee(pi),tt.controller&&L.set(pi,tt.controller)}),V({fetchers:new Map(p.fetchers)});let ro=()=>kn.forEach(tt=>Ee(tt.key));ie.signal.addEventListener("abort",ro);let{results:ka,loaderResults:io,fetcherResults:Ca}=await ae(p.matches,lr,bn,kn,Ke);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",ro),M.delete($),L.delete($),kn.forEach(tt=>L.delete(tt.key));let Pe=f0(ka);if(Pe){if(Pe.idx>=bn.length){let tt=kn[Pe.idx-bn.length].key;D.add(tt)}return he(p,Pe.result)}let{loaderData:Yt,errors:Wn}=l0(p,p.matches,bn,io,void 0,kn,Ca,b);if(p.fetchers.has($)){let tt=po(Ce.data);p.fetchers.set($,tt)}let Aa=Nt(hi);p.navigation.state==="loading"&&hi>T?(Se(w,"Expected pending action"),C&&C.abort(),K(p.navigation.location,{matches:lr,loaderData:Yt,errors:Wn,fetchers:new Map(p.fetchers)})):(V(Ge({errors:Wn,loaderData:u0(p.loaderData,Yt,lr,Wn)},Aa||kn.length>0?{fetchers:new Map(p.fetchers)}:{})),O=!1)}async function we($,W,J,te,ce,ue){let de=p.fetchers.get($),le=$a(ue,de?de.data:void 0);p.fetchers.set($,le),V({fetchers:new Map(p.fetchers)});let ie=new AbortController,je=qa(e.history,J,ie.signal);L.set($,ie);let yt=z,Ce=await Ha("loader",je,te,ce,o,i,l);if(Ri(Ce)&&(Ce=await yx(Ce,je.signal,!0)||Ce),L.get($)===ie&&L.delete($),je.signal.aborted)return;if(qo(Ce))if(T>yt){let Ke=po(void 0);p.fetchers.set($,Ke),V({fetchers:new Map(p.fetchers)});return}else{D.add($),await he(p,Ce);return}if(ms(Ce)){let Ke=Oo(p.matches,W);p.fetchers.delete($),V({fetchers:new Map(p.fetchers),errors:{[Ke.route.id]:Ce.error}});return}Se(!Ri(Ce),"Unhandled fetcher deferred data");let Ie=po(Ce.data);p.fetchers.set($,Ie),V({fetchers:new Map(p.fetchers)})}async function he($,W,J){let{submission:te,fetcherSubmission:ce,replace:ue}=J===void 0?{}:J;W.revalidate&&(O=!0);let de=Ws($.location,W.location,{_isRedirect:!0});if(Se(de,"Expected a location on the redirect navigation"),n){let Ie=!1;if(W.reloadDocument)Ie=!0;else if(gx.test(W.location)){const Ke=e.history.createURL(W.location);Ie=Ke.origin!==t.location.origin||_a(Ke.pathname,l)==null}if(Ie){ue?t.location.replace(W.location):t.location.assign(W.location);return}}C=null;let le=ue===!0?lt.Replace:lt.Push,{formMethod:ie,formAction:je,formEncType:yt}=$.navigation;!te&&!ce&&ie&&je&&yt&&(te=h0($.navigation));let Ce=te||ce;if(PT.has(W.status)&&Ce&&Dn(Ce.formMethod))await G(le,de,{submission:Ge({},Ce,{formAction:W.location}),preventScrollReset:S});else{let Ie=Of(de,te);await G(le,de,{overrideNavigation:Ie,fetcherSubmission:ce,preventScrollReset:S})}}async function ae($,W,J,te,ce){let ue=await Promise.all([...J.map(ie=>Ha("loader",ce,ie,W,o,i,l)),...te.map(ie=>ie.matches&&ie.match&&ie.controller?Ha("loader",qa(e.history,ie.path,ie.controller.signal),ie.match,ie.matches,o,i,l):{type:rt.error,error:ln(404,{pathname:ie.path})})]),de=ue.slice(0,J.length),le=ue.slice(J.length);return await Promise.all([d0($,J,de,de.map(()=>ce.signal),!1,p.loaderData),d0($,te.map(ie=>ie.match),le,te.map(ie=>ie.controller?ie.controller.signal:null),!0)]),{results:ue,loaderResults:de,fetcherResults:le}}function X(){O=!0,B.push(...or()),P.forEach(($,W)=>{L.has(W)&&(F.push(W),Ee(W))})}function ye($,W,J){let te=Oo(p.matches,W);ke($),V({errors:{[te.route.id]:J},fetchers:new Map(p.fetchers)})}function ke($){let W=p.fetchers.get($);L.has($)&&!(W&&W.state==="loading"&&M.has($))&&Ee($),P.delete($),M.delete($),D.delete($),p.fetchers.delete($)}function Ee($){let W=L.get($);Se(W,"Expected fetch controller: "+$),W.abort(),L.delete($)}function Ne($){for(let W of $){let J=se(W),te=po(J.data);p.fetchers.set(W,te)}}function Vt(){let $=[],W=!1;for(let J of D){let te=p.fetchers.get(J);Se(te,"Expected fetcher: "+J),te.state==="loading"&&(D.delete(J),$.push(J),W=!0)}return Ne($),W}function Nt($){let W=[];for(let[J,te]of M)if(te<$){let ce=p.fetchers.get(J);Se(ce,"Expected fetcher: "+J),ce.state==="loading"&&(Ee(J),M.delete(J),W.push(J))}return Ne(W),W.length>0}function Hn($,W){let J=p.blockers.get($)||Ua;return A.get($)!==W&&A.set($,W),J}function ir($){p.blockers.delete($),A.delete($)}function Kt($,W){let J=p.blockers.get($)||Ua;Se(J.state==="unblocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="proceeding"||J.state==="blocked"&&W.state==="unblocked"||J.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+W.state);let te=new Map(p.blockers);te.set($,W),V({blockers:te})}function qn($){let{currentLocation:W,nextLocation:J,historyAction:te}=$;if(A.size===0)return;A.size>1&&ua(!1,"A router only supports one blocker at a time");let ce=Array.from(A.entries()),[ue,de]=ce[ce.length-1],le=p.blockers.get(ue);if(!(le&&le.state==="proceeding")&&de({currentLocation:W,nextLocation:J,historyAction:te}))return ue}function or($){let W=[];return b.forEach((J,te)=>{(!$||$(te))&&(J.cancel(),W.push(te),b.delete(te))}),W}function Tr($,W,J){if(d=$,y=W,v=J||null,!_&&p.navigation===Tf){_=!0;let te=$n(p.location,p.matches);te!=null&&V({restoreScrollPosition:te})}return()=>{d=null,y=null,v=null}}function xt($,W){return v&&v($,W.map(te=>lT(te,p.loaderData)))||$.key}function Gt($,W){if(d&&y){let J=xt($,W);d[J]=y()}}function $n($,W){if(d){let J=xt($,W),te=d[J];if(typeof te=="number")return te}return null}function ar($){o={},s=dh($,i,void 0,o)}return g={get basename(){return l},get state(){return p},get routes(){return a},initialize:I,subscribe:Y,enableScrollRestoration:Tr,navigate:j,fetch:ge,revalidate:H,createHref:$=>e.history.createHref($),encodeLocation:$=>e.history.encodeLocation($),getFetcher:se,deleteFetcher:ke,dispose:U,getBlocker:Hn,deleteBlocker:ir,_internalFetchControllers:L,_internalActiveDeferreds:b,_internalSetRoutes:ar},g}function LT(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function hh(e,t,n,r,i,o,a){let s,l;if(o!=null&&a!=="path"){s=[];for(let f of t)if(s.push(f),f.route.id===o){l=f;break}}else s=t,l=t[t.length-1];let u=_g(i||".",Nc(s).map(f=>f.pathnameBase),_a(e.pathname,n)||e.pathname,a==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Sg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),Vi(u)}function r0(e,t,n,r){if(!r||!LT(r))return{path:n};if(r.formMethod&&!qT(r.formMethod))return{path:n,error:ln(405,{method:r.formMethod})};let i=()=>({path:n,error:ln(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),s=vx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dn(a))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,y)=>{let[_,x]=y;return""+v+_+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Dn(a))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=ph(r.formData),u=r.formData;else if(r.body instanceof FormData)l=ph(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=s0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=s0(l)}catch{return i()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Dn(f.formMethod))return{path:n,submission:f};let c=Cr(n);return t&&c.search&&Sg(c.search)&&l.append("index",""),c.search="?"+l,{path:Vi(c),submission:f}}function BT(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function i0(e,t,n,r,i,o,a,s,l,u,f,c,d,v){let y=v?Object.values(v)[0]:d?Object.values(d)[0]:void 0,_=e.createURL(t.location),x=e.createURL(i),h=v?Object.keys(v)[0]:void 0,g=BT(n,h).filter((w,S)=>{if(w.route.lazy)return!0;if(w.route.loader==null)return!1;if(zT(t.loaderData,t.matches[S],w)||a.some(O=>O===w.route.id))return!0;let C=t.matches[S],R=w;return o0(w,Ge({currentUrl:_,currentParams:C.params,nextUrl:x,nextParams:R.params},r,{actionResult:y,defaultShouldRevalidate:o||_.pathname+_.search===x.pathname+x.search||_.search!==x.search||mx(C,R)}))}),p=[];return l.forEach((w,S)=>{if(!n.some(F=>F.route.id===w.routeId))return;let C=To(f,w.path,c);if(!C){p.push({key:S,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let R=t.fetchers.get(S),O=gh(C,w.path),B=!1;u.has(S)?B=!1:s.includes(S)?B=!0:R&&R.state!=="idle"&&R.data===void 0?B=o:B=o0(O,Ge({currentUrl:_,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:o})),B&&p.push({key:S,routeId:w.routeId,path:w.path,matches:C,match:O,controller:new AbortController})}),[g,p]}function zT(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function mx(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function o0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function a0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Se(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";ua(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!aT.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Ge({},t(i),{lazy:void 0}))}async function Ha(e,t,n,r,i,o,a,s){s===void 0&&(s={});let l,u,f,c=y=>{let _,x=new Promise((h,m)=>_=m);return f=()=>_(),t.signal.addEventListener("abort",f),Promise.race([y({request:t,params:n.params,context:s.requestContext}),x])};try{let y=n.route[e];if(n.route.lazy)if(y){let _,x=await Promise.all([c(y).catch(h=>{_=h}),a0(n.route,o,i)]);if(_)throw _;u=x[0]}else if(await a0(n.route,o,i),y=n.route[e],y)u=await c(y);else if(e==="action"){let _=new URL(t.url),x=_.pathname+_.search;throw ln(405,{method:t.method,pathname:x,routeId:n.route.id})}else return{type:rt.data,data:void 0};else if(y)u=await c(y);else{let _=new URL(t.url),x=_.pathname+_.search;throw ln(404,{pathname:x})}Se(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=rt.error,u=y}finally{f&&t.signal.removeEventListener("abort",f)}if(HT(u)){let y=u.status;if(OT.has(y)){let h=u.headers.get("Location");if(Se(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!gx.test(h))h=hh(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,h);else if(!s.isStaticRequest){let m=new URL(t.url),g=h.startsWith("//")?new URL(m.protocol+h):new URL(h),p=_a(g.pathname,a)!=null;g.origin===m.origin&&p&&(h=g.pathname+g.search+g.hash)}if(s.isStaticRequest)throw u.headers.set("Location",h),u;return{type:rt.redirect,status:y,location:h,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===rt.error?rt.error:rt.data,response:u};let _,x=u.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?_=await u.json():_=await u.text(),l===rt.error?{type:l,error:new xg(y,u.statusText,_),headers:u.headers}:{type:rt.data,data:_,statusCode:u.status,headers:u.headers}}if(l===rt.error)return{type:l,error:u};if(UT(u)){var d,v;return{type:rt.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((v=u.init)==null?void 0:v.headers)&&new Headers(u.init.headers)}}return{type:rt.data,data:u}}function qa(e,t,n,r){let i=e.createURL(vx(t)).toString(),o={signal:n};if(r&&Dn(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=ph(r.formData):o.body=r.formData}return new Request(i,o)}function ph(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function s0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function jT(e,t,n,r,i){let o={},a=null,s,l=!1,u={};return n.forEach((f,c)=>{let d=t[c].route.id;if(Se(!qo(f),"Cannot handle redirect results in processLoaderData"),ms(f)){let v=Oo(e,d),y=f.error;r&&(y=Object.values(r)[0],r=void 0),a=a||{},a[v.route.id]==null&&(a[v.route.id]=y),o[d]=void 0,l||(l=!0,s=hx(f.error)?f.error.status:500),f.headers&&(u[d]=f.headers)}else Ri(f)?(i.set(d,f.deferredData),o[d]=f.deferredData.data):o[d]=f.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(s=f.statusCode),f.headers&&(u[d]=f.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function l0(e,t,n,r,i,o,a,s){let{loaderData:l,errors:u}=jT(t,n,r,i,s);for(let f=0;f<o.length;f++){let{key:c,match:d,controller:v}=o[f];Se(a!==void 0&&a[f]!==void 0,"Did not find corresponding fetcher result");let y=a[f];if(!(v&&v.signal.aborted))if(ms(y)){let _=Oo(e.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=Ge({},u,{[_.route.id]:y.error})),e.fetchers.delete(c)}else if(qo(y))Se(!1,"Unhandled fetcher revalidation redirect");else if(Ri(y))Se(!1,"Unhandled fetcher deferred data");else{let _=po(y.data);e.fetchers.set(c,_)}}return{loaderData:l,errors:u}}function u0(e,t,n,r){let i=Ge({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Oo(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function c0(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ln(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new xg(e||500,a,new Error(s),!0)}function f0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(qo(n))return{result:n,idx:t}}}function vx(e){let t=typeof e=="string"?Cr(e):e;return Vi(Ge({},t,{hash:""}))}function FT(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ri(e){return e.type===rt.deferred}function ms(e){return e.type===rt.error}function qo(e){return(e&&e.type)===rt.redirect}function UT(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function HT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qT(e){return TT.has(e.toLowerCase())}function Dn(e){return RT.has(e.toLowerCase())}async function d0(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let u=e.find(c=>c.route.id===l.route.id),f=u!=null&&!mx(u,l)&&(o&&o[l.route.id])!==void 0;if(Ri(s)&&(i||f)){let c=r[a];Se(c,"Expected an AbortSignal for revalidating fetcher deferred result"),await yx(s,c,i).then(d=>{d&&(n[a]=d||n[a])})}}}async function yx(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:rt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:rt.error,error:i}}return{type:rt.data,data:e.deferredData.data}}}function Sg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function gh(e,t){let n=typeof t=="string"?Cr(t).search:t.search;if(e[e.length-1].route.index&&Sg(n||""))return e[e.length-1];let r=Nc(e);return r[r.length-1]}function h0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Of(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $T(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function $a(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function WT(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function po(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$u.apply(this,arguments)}const Tc=k.createContext(null),wx=k.createContext(null),xa=k.createContext(null),Oc=k.createContext(null),to=k.createContext({outlet:null,matches:[],isDataRoute:!1}),_x=k.createContext(null);function VT(e,t){let{relative:n}=t===void 0?{}:t;rl()||Se(!1);let{basename:r,navigator:i}=k.useContext(xa),{hash:o,pathname:a,search:s}=Sx(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:yr([r,a])),i.createHref({pathname:l,search:s,hash:o})}function rl(){return k.useContext(Oc)!=null}function Ar(){return rl()||Se(!1),k.useContext(Oc).location}function xx(e){k.useContext(xa).static||k.useLayoutEffect(e)}function il(){let{isDataRoute:e}=k.useContext(to);return e?rO():KT()}function KT(){rl()||Se(!1);let e=k.useContext(Tc),{basename:t,navigator:n}=k.useContext(xa),{matches:r}=k.useContext(to),{pathname:i}=Ar(),o=JSON.stringify(Nc(r).map(l=>l.pathnameBase)),a=k.useRef(!1);return xx(()=>{a.current=!0}),k.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let f=_g(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yr([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function Sx(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=k.useContext(to),{pathname:i}=Ar(),o=JSON.stringify(Nc(r).map(a=>a.pathnameBase));return k.useMemo(()=>_g(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function GT(e,t,n){rl()||Se(!1);let{navigator:r}=k.useContext(xa),{matches:i}=k.useContext(to),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=Ar(),u;if(t){var f;let _=typeof t=="string"?Cr(t):t;s==="/"||(f=_.pathname)!=null&&f.startsWith(s)||Se(!1),u=_}else u=l;let c=u.pathname||"/",d=s==="/"?c:c.slice(s.length)||"/",v=To(e,{pathname:d}),y=XT(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:yr([s,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?s:yr([s,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return t&&y?k.createElement(Oc.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lt.Pop}},y):y}function YT(){let e=kx(),t=hx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,o)}const JT=k.createElement(YT,null);class QT extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?k.createElement(to.Provider,{value:this.props.routeContext},k.createElement(_x.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZT(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(Tc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(to.Provider,{value:t},r)}function XT(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));s>=0||Se(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,u)=>{let f=l.route.id?a==null?void 0:a[l.route.id]:null,c=null;n&&(c=l.route.errorElement||JT);let d=t.concat(o.slice(0,u+1)),v=()=>{let y;return f?y=c:l.route.Component?y=k.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=s,k.createElement(ZT,{match:l,routeContext:{outlet:s,matches:d,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?k.createElement(QT,{location:n.location,revalidation:n.revalidation,component:c,error:f,children:v(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):v()},null)}var Ex=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ex||{}),Wu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wu||{});function eO(e){let t=k.useContext(Tc);return t||Se(!1),t}function tO(e){let t=k.useContext(wx);return t||Se(!1),t}function nO(e){let t=k.useContext(to);return t||Se(!1),t}function bx(e){let t=nO(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function kx(){var e;let t=k.useContext(_x),n=tO(Wu.UseRouteError),r=bx(Wu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function rO(){let{router:e}=eO(Ex.UseNavigateStable),t=bx(Wu.UseNavigateStable),n=k.useRef(!1);return xx(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,$u({fromRouteId:t},o)))},[e,t])}const iO="startTransition",p0=up[iO];function oO(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=k.useState(n.state),{v7_startTransition:a}=r||{},s=k.useCallback(c=>{a&&p0?p0(()=>o(c)):o(c)},[o,a]);k.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:c=>n.navigate(c),push:(c,d,v)=>n.navigate(c,{state:d,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(c,d,v)=>n.navigate(c,{replace:!0,state:d,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[n]),u=n.basename||"/",f=k.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return k.createElement(k.Fragment,null,k.createElement(Tc.Provider,{value:f},k.createElement(wx.Provider,{value:i},k.createElement(sO,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?k.createElement(aO,{routes:n.routes,state:i}):t))),null)}function aO(e){let{routes:t,state:n}=e;return GT(t,void 0,n)}function sO(e){let{basename:t="/",children:n=null,location:r,navigationType:i=lt.Pop,navigator:o,static:a=!1}=e;rl()&&Se(!1);let s=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=Cr(r));let{pathname:u="/",search:f="",hash:c="",state:d=null,key:v="default"}=r,y=k.useMemo(()=>{let _=_a(u,s);return _==null?null:{location:{pathname:_,search:f,hash:c,state:d,key:v},navigationType:i}},[s,u,f,c,d,v,i]);return y==null?null:k.createElement(xa.Provider,{value:l},k.createElement(Oc.Provider,{children:n,value:y}))}new Promise(()=>{});function lO(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:k.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}function uO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fO(e,t){return e.button===0&&(!t||t==="_self")&&!cO(e)}function mh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function dO(e,t){let n=mh(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const hO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function pO(e,t){return MT({basename:t==null?void 0:t.basename,future:Vs({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:rT({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||gO(),routes:e,mapRouteProperties:lO}).initialize()}function gO(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Vs({},t,{errors:mO(t.errors)})),t}function mO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new xg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const vO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wO=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:f}=t,c=uO(t,hO),{basename:d}=k.useContext(xa),v,y=!1;if(typeof u=="string"&&yO.test(u)&&(v=u,vO))try{let m=new URL(window.location.href),g=u.startsWith("//")?new URL(m.protocol+u):new URL(u),p=_a(g.pathname,d);g.origin===m.origin&&p!=null?u=p+g.search+g.hash:y=!0}catch{}let _=VT(u,{relative:i}),x=_O(u,{replace:a,state:s,target:l,preventScrollReset:f,relative:i});function h(m){r&&r(m),m.defaultPrevented||x(m)}return k.createElement("a",Vs({},c,{href:v||_,onClick:y||o?r:h,ref:n,target:l}))});var g0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(g0||(g0={}));var m0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(m0||(m0={}));function _O(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=t===void 0?{}:t,s=il(),l=Ar(),u=Sx(e,{relative:a});return k.useCallback(f=>{if(fO(f,n)){f.preventDefault();let c=r!==void 0?r:Vi(l)===Vi(u);s(e,{replace:c,state:i,preventScrollReset:o,relative:a})}},[l,s,u,r,i,n,e,o,a])}function xO(e){let t=k.useRef(mh(e)),n=k.useRef(!1),r=Ar(),i=k.useMemo(()=>dO(r.search,n.current?null:t.current),[r.search]),o=il(),a=k.useCallback((s,l)=>{const u=mh(typeof s=="function"?s(i):s);n.current=!0,o("?"+u,l)},[o,i]);return[i,a]}const Re=(...e)=>({className:e.filter(Boolean).map(String).join(" ")});function vh(e){return JSON.parse(JSON.stringify(e))}function SO({delayMs:e=1e3,onUninterested:t=()=>{}}={}){let n;const r=k.useRef(t);r.current=t;const i=()=>{n=setTimeout(()=>r.current(),e)};return k.useEffect(()=>void i(),[]),k.useRef({props:{onMouseMove:()=>{n&&clearTimeout(n),n=void 0},onMouseEnter:o=>{o.preventDefault(),n&&clearTimeout(n),n=void 0},onMouseLeave:o=>{o.preventDefault(),i()}},forceInterest(){this.props.onMouseLeave({preventDefault:()=>{}})}}).current}const We=oe.forwardRef((e,t)=>E("div",{className:"alternis__center",ref:t,...e})),EO=Oy(Uk);var Eg=Object.defineProperty,bO=Object.getOwnPropertyDescriptor,kO=Object.getOwnPropertyNames,CO=Object.prototype.hasOwnProperty,AO=(e,t)=>{for(var n in t)Eg(e,n,{get:t[n],enumerable:!0})},RO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kO(t))!CO.call(e,i)&&i!==n&&Eg(e,i,{get:()=>t[i],enumerable:!(r=bO(t,i))||r.enumerable});return e},NO=e=>RO(Eg({},"__esModule",{value:!0}),e),Cx={};AO(Cx,{temporal:()=>PO});var TO=NO(Cx),OO=EO,v0=(e,t,n)=>(i,o)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(a=1)=>{var s,l;if(o().pastStates.length){const u=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),f=o().pastStates.splice(-a,a),c=f.shift();e(c),i({pastStates:o().pastStates,futureStates:o().futureStates.concat(((l=n==null?void 0:n.diff)==null?void 0:l.call(n,u,c))||u,f.reverse())})}},redo:(a=1)=>{var s,l;if(o().futureStates.length){const u=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),f=o().futureStates.splice(-a,a),c=f.shift();e(c),i({pastStates:o().pastStates.concat(((l=n==null?void 0:n.diff)==null?void 0:l.call(n,u,c))||u,f.reverse()),futureStates:o().futureStates})}},clear:()=>i({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>i({isTracking:!1}),resume:()=>i({isTracking:!0}),setOnSave:a=>i({_onSave:a}),_onSave:n==null?void 0:n.onSave,_handleSet:a=>{var s,l,u,f,c;if(o().isTracking){const d=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),v=(l=n==null?void 0:n.diff)==null?void 0:l.call(n,a,d);(u=n==null?void 0:n.equality)!=null&&u.call(n,a,d)||v===null||(n!=null&&n.limit&&o().pastStates.length>=(n==null?void 0:n.limit)&&o().pastStates.shift(),(c=(f=o())._onSave)==null||c.call(f,a,d),i({pastStates:o().pastStates.concat(v||a),futureStates:[]}))}}}),PO=(e,t)=>(r,i,o)=>{var l,u;o.temporal=(0,OO.createStore)(((l=t==null?void 0:t.wrapTemporal)==null?void 0:l.call(t,v0(r,i,t)))||v0(r,i,t));const a=((u=t==null?void 0:t.handleSet)==null?void 0:u.call(t,o.temporal.getState()._handleSet))||o.temporal.getState()._handleSet,s=o.setState;return o.setState=(...f)=>{var d;const c=((d=t==null?void 0:t.partialize)==null?void 0:d.call(t,i()))||i();s(...f),a(c)},e((...f)=>{var d;const c=((d=t==null?void 0:t.partialize)==null?void 0:d.call(t,i()))||i();r(...f),a(c)},i,o)};function Pc(e){return"$"+e}function Ax(e){return e.substring(1)}function fi(){this._store={}}fi.prototype.get=function(e){var t=Pc(e);return this._store[t]};fi.prototype.set=function(e,t){var n=Pc(e);return this._store[n]=t,!0};fi.prototype.has=function(e){var t=Pc(e);return t in this._store};fi.prototype.keys=function(){return Object.keys(this._store).map(e=>Ax(e))};fi.prototype.delete=function(e){var t=Pc(e),n=t in this._store;return delete this._store[t],n};fi.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],o=this._store[i];i=Ax(i),e(o,i)}};Object.defineProperty(fi.prototype,"size",{get:function(){return Object.keys(this._store).length}});function Dc(e){if(this._store=new fi,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}Dc.prototype.add=function(e){return this._store.set(e,!0)};Dc.prototype.has=function(e){return this._store.has(e)};Dc.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})};Object.defineProperty(Dc.prototype,"size",{get:function(){return this._store.size}});const DO={},Rx=Object.freeze(Object.defineProperty({__proto__:null,default:DO},Symbol.toStringTag,{value:"Module"})),IO=Oy(Rx);var bg={};bg.test=function(){return typeof globalThis.queueMicrotask=="function"};bg.install=function(e){return function(){globalThis.queueMicrotask(e)}};var kg={},Nx=globalThis.MutationObserver||globalThis.WebKitMutationObserver;kg.test=function(){return Nx};kg.install=function(e){var t=0,n=new Nx(e),r=globalThis.document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=++t%2}};var Cg={};Cg.test=function(){return globalThis.setImmediate?!1:typeof globalThis.MessageChannel<"u"};Cg.install=function(e){var t=new globalThis.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}};var Ag={};Ag.test=function(){return"document"in globalThis&&"onreadystatechange"in globalThis.document.createElement("script")};Ag.install=function(e){return function(){var t=globalThis.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},globalThis.document.documentElement.appendChild(t),e}};var Rg={};Rg.test=function(){return!0};Rg.install=function(e){return function(){setTimeout(e,0)}};var rs=[IO,bg,kg,Cg,Ag,Rg],$o,Ni,is=-1,Wr=[],yh=!1;function MO(){!$o||!Ni||($o=!1,Ni.length?Wr=Ni.concat(Wr):is=-1,Wr.length&&Tx())}function Tx(){if(!$o){yh=!1,$o=!0;for(var e=Wr.length,t=setTimeout(MO);e;){for(Ni=Wr,Wr=[];Ni&&++is<e;)Ni[is].run();is=-1,e=Wr.length}Ni=null,is=-1,$o=!1,clearTimeout(t)}}var Ox,Wa=-1,LO=rs.length;for(;++Wa<LO;)if(rs[Wa]&&rs[Wa].test&&rs[Wa].test()){Ox=rs[Wa].install(Tx);break}function Px(e,t){this.fun=e,this.array=t}Px.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}};var nr=BO;function BO(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Wr.push(new Px(e,t)),!yh&&!$o&&(yh=!0,Ox())}let Ve=class extends Error{constructor(t,n,r){super(),this.status=t,this.name=n,this.message=r,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}};new Ve(401,"unauthorized","Name or password is incorrect.");new Ve(400,"bad_request","Missing JSON list of 'docs'");new Ve(404,"not_found","missing");new Ve(409,"conflict","Document update conflict");new Ve(400,"bad_request","_id field must contain a string");new Ve(412,"missing_id","_id is required for puts");new Ve(400,"bad_request","Only reserved document ids may start with underscore.");new Ve(412,"precondition_failed","Database not open");new Ve(500,"unknown_error","Database encountered an unknown error");new Ve(500,"badarg","Some query argument is invalid");new Ve(400,"invalid_request","Request was invalid");new Ve(400,"query_parse_error","Some query parameter is invalid");new Ve(500,"doc_validation","Bad special document member");new Ve(400,"bad_request","Something wrong with the request");new Ve(400,"bad_request","Document must be a JSON object");new Ve(404,"not_found","Database not found");new Ve(500,"indexed_db_went_bad","unknown");new Ve(500,"web_sql_went_bad","unknown");new Ve(500,"levelDB_went_went_bad","unknown");new Ve(403,"forbidden","Forbidden by design doc validate_doc_update function");new Ve(400,"bad_request","Invalid rev format");new Ve(412,"file_exists","The database could not be created, the file already exists.");new Ve(412,"missing_stub","A pre-existing attachment stub wasn't found");new Ve(413,"invalid_url","Provided URL is invalid");var _n={},zO={get exports(){return _n},set exports(e){_n=e}},Wo=typeof Reflect=="object"?Reflect:null,y0=Wo&&typeof Wo.apply=="function"?Wo.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},lu;Wo&&typeof Wo.ownKeys=="function"?lu=Wo.ownKeys:Object.getOwnPropertySymbols?lu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:lu=function(t){return Object.getOwnPropertyNames(t)};function jO(e){console&&console.warn&&console.warn(e)}var Dx=Number.isNaN||function(t){return t!==t};function Le(){Le.init.call(this)}zO.exports=Le;_n.once=qO;Le.EventEmitter=Le;Le.prototype._events=void 0;Le.prototype._eventsCount=0;Le.prototype._maxListeners=void 0;var w0=10;function Ic(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Le,"defaultMaxListeners",{enumerable:!0,get:function(){return w0},set:function(e){if(typeof e!="number"||e<0||Dx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w0=e}});Le.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Le.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Dx(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ix(e){return e._maxListeners===void 0?Le.defaultMaxListeners:e._maxListeners}Le.prototype.getMaxListeners=function(){return Ix(this)};Le.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")y0(l,this,n);else for(var u=l.length,f=jx(l,u),r=0;r<u;++r)y0(f[r],this,n);return!0};function Mx(e,t,n,r){var i,o,a;if(Ic(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=Ix(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,jO(s)}return e}Le.prototype.addListener=function(t,n){return Mx(this,t,n,!1)};Le.prototype.on=Le.prototype.addListener;Le.prototype.prependListener=function(t,n){return Mx(this,t,n,!0)};function FO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Lx(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=FO.bind(r);return i.listener=n,r.wrapFn=i,i}Le.prototype.once=function(t,n){return Ic(n),this.on(t,Lx(this,t,n)),this};Le.prototype.prependOnceListener=function(t,n){return Ic(n),this.prependListener(t,Lx(this,t,n)),this};Le.prototype.removeListener=function(t,n){var r,i,o,a,s;if(Ic(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():UO(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Le.prototype.off=Le.prototype.removeListener;Le.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function Bx(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?HO(i):jx(i,i.length)}Le.prototype.listeners=function(t){return Bx(this,t,!0)};Le.prototype.rawListeners=function(t){return Bx(this,t,!1)};Le.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):zx.call(e,t)};Le.prototype.listenerCount=zx;function zx(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Le.prototype.eventNames=function(){return this._eventsCount>0?lu(this._events):[]};function jx(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function UO(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function HO(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function qO(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Fx(e,t,o,{once:!0}),t!=="error"&&$O(e,i,{once:!0})})}function $O(e,t,n){typeof e.on=="function"&&Fx(e,"error",t,n)}function Fx(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var jl,WO=new Uint8Array(16);function VO(){if(!jl&&(jl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jl(WO)}const KO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function GO(e){return typeof e=="string"&&KO.test(e)}var St=[];for(var Pf=0;Pf<256;++Pf)St.push((Pf+256).toString(16).substr(1));function YO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(St[e[t+0]]+St[e[t+1]]+St[e[t+2]]+St[e[t+3]]+"-"+St[e[t+4]]+St[e[t+5]]+"-"+St[e[t+6]]+St[e[t+7]]+"-"+St[e[t+8]]+St[e[t+9]]+"-"+St[e[t+10]]+St[e[t+11]]+St[e[t+12]]+St[e[t+13]]+St[e[t+14]]+St[e[t+15]]).toLowerCase();if(!GO(n))throw TypeError("Stringified UUID is invalid");return n}function Ng(e,t,n){e=e||{};var r=e.random||(e.rng||VO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return YO(r)}var wh={},JO={get exports(){return wh},set exports(e){wh=e}};(function(e,t){(function(n){e.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(h,m){var g=h[0],p=h[1],w=h[2],S=h[3];g+=(p&w|~p&S)+m[0]-680876936|0,g=(g<<7|g>>>25)+p|0,S+=(g&p|~g&w)+m[1]-389564586|0,S=(S<<12|S>>>20)+g|0,w+=(S&g|~S&p)+m[2]+606105819|0,w=(w<<17|w>>>15)+S|0,p+=(w&S|~w&g)+m[3]-1044525330|0,p=(p<<22|p>>>10)+w|0,g+=(p&w|~p&S)+m[4]-176418897|0,g=(g<<7|g>>>25)+p|0,S+=(g&p|~g&w)+m[5]+1200080426|0,S=(S<<12|S>>>20)+g|0,w+=(S&g|~S&p)+m[6]-1473231341|0,w=(w<<17|w>>>15)+S|0,p+=(w&S|~w&g)+m[7]-45705983|0,p=(p<<22|p>>>10)+w|0,g+=(p&w|~p&S)+m[8]+1770035416|0,g=(g<<7|g>>>25)+p|0,S+=(g&p|~g&w)+m[9]-1958414417|0,S=(S<<12|S>>>20)+g|0,w+=(S&g|~S&p)+m[10]-42063|0,w=(w<<17|w>>>15)+S|0,p+=(w&S|~w&g)+m[11]-1990404162|0,p=(p<<22|p>>>10)+w|0,g+=(p&w|~p&S)+m[12]+1804603682|0,g=(g<<7|g>>>25)+p|0,S+=(g&p|~g&w)+m[13]-40341101|0,S=(S<<12|S>>>20)+g|0,w+=(S&g|~S&p)+m[14]-1502002290|0,w=(w<<17|w>>>15)+S|0,p+=(w&S|~w&g)+m[15]+1236535329|0,p=(p<<22|p>>>10)+w|0,g+=(p&S|w&~S)+m[1]-165796510|0,g=(g<<5|g>>>27)+p|0,S+=(g&w|p&~w)+m[6]-1069501632|0,S=(S<<9|S>>>23)+g|0,w+=(S&p|g&~p)+m[11]+643717713|0,w=(w<<14|w>>>18)+S|0,p+=(w&g|S&~g)+m[0]-373897302|0,p=(p<<20|p>>>12)+w|0,g+=(p&S|w&~S)+m[5]-701558691|0,g=(g<<5|g>>>27)+p|0,S+=(g&w|p&~w)+m[10]+38016083|0,S=(S<<9|S>>>23)+g|0,w+=(S&p|g&~p)+m[15]-660478335|0,w=(w<<14|w>>>18)+S|0,p+=(w&g|S&~g)+m[4]-405537848|0,p=(p<<20|p>>>12)+w|0,g+=(p&S|w&~S)+m[9]+568446438|0,g=(g<<5|g>>>27)+p|0,S+=(g&w|p&~w)+m[14]-1019803690|0,S=(S<<9|S>>>23)+g|0,w+=(S&p|g&~p)+m[3]-187363961|0,w=(w<<14|w>>>18)+S|0,p+=(w&g|S&~g)+m[8]+1163531501|0,p=(p<<20|p>>>12)+w|0,g+=(p&S|w&~S)+m[13]-1444681467|0,g=(g<<5|g>>>27)+p|0,S+=(g&w|p&~w)+m[2]-51403784|0,S=(S<<9|S>>>23)+g|0,w+=(S&p|g&~p)+m[7]+1735328473|0,w=(w<<14|w>>>18)+S|0,p+=(w&g|S&~g)+m[12]-1926607734|0,p=(p<<20|p>>>12)+w|0,g+=(p^w^S)+m[5]-378558|0,g=(g<<4|g>>>28)+p|0,S+=(g^p^w)+m[8]-2022574463|0,S=(S<<11|S>>>21)+g|0,w+=(S^g^p)+m[11]+1839030562|0,w=(w<<16|w>>>16)+S|0,p+=(w^S^g)+m[14]-35309556|0,p=(p<<23|p>>>9)+w|0,g+=(p^w^S)+m[1]-1530992060|0,g=(g<<4|g>>>28)+p|0,S+=(g^p^w)+m[4]+1272893353|0,S=(S<<11|S>>>21)+g|0,w+=(S^g^p)+m[7]-155497632|0,w=(w<<16|w>>>16)+S|0,p+=(w^S^g)+m[10]-1094730640|0,p=(p<<23|p>>>9)+w|0,g+=(p^w^S)+m[13]+681279174|0,g=(g<<4|g>>>28)+p|0,S+=(g^p^w)+m[0]-358537222|0,S=(S<<11|S>>>21)+g|0,w+=(S^g^p)+m[3]-722521979|0,w=(w<<16|w>>>16)+S|0,p+=(w^S^g)+m[6]+76029189|0,p=(p<<23|p>>>9)+w|0,g+=(p^w^S)+m[9]-640364487|0,g=(g<<4|g>>>28)+p|0,S+=(g^p^w)+m[12]-421815835|0,S=(S<<11|S>>>21)+g|0,w+=(S^g^p)+m[15]+530742520|0,w=(w<<16|w>>>16)+S|0,p+=(w^S^g)+m[2]-995338651|0,p=(p<<23|p>>>9)+w|0,g+=(w^(p|~S))+m[0]-198630844|0,g=(g<<6|g>>>26)+p|0,S+=(p^(g|~w))+m[7]+1126891415|0,S=(S<<10|S>>>22)+g|0,w+=(g^(S|~p))+m[14]-1416354905|0,w=(w<<15|w>>>17)+S|0,p+=(S^(w|~g))+m[5]-57434055|0,p=(p<<21|p>>>11)+w|0,g+=(w^(p|~S))+m[12]+1700485571|0,g=(g<<6|g>>>26)+p|0,S+=(p^(g|~w))+m[3]-1894986606|0,S=(S<<10|S>>>22)+g|0,w+=(g^(S|~p))+m[10]-1051523|0,w=(w<<15|w>>>17)+S|0,p+=(S^(w|~g))+m[1]-2054922799|0,p=(p<<21|p>>>11)+w|0,g+=(w^(p|~S))+m[8]+1873313359|0,g=(g<<6|g>>>26)+p|0,S+=(p^(g|~w))+m[15]-30611744|0,S=(S<<10|S>>>22)+g|0,w+=(g^(S|~p))+m[6]-1560198380|0,w=(w<<15|w>>>17)+S|0,p+=(S^(w|~g))+m[13]+1309151649|0,p=(p<<21|p>>>11)+w|0,g+=(w^(p|~S))+m[4]-145523070|0,g=(g<<6|g>>>26)+p|0,S+=(p^(g|~w))+m[11]-1120210379|0,S=(S<<10|S>>>22)+g|0,w+=(g^(S|~p))+m[2]+718787259|0,w=(w<<15|w>>>17)+S|0,p+=(S^(w|~g))+m[9]-343485551|0,p=(p<<21|p>>>11)+w|0,h[0]=g+h[0]|0,h[1]=p+h[1]|0,h[2]=w+h[2]|0,h[3]=S+h[3]|0}function o(h){var m=[],g;for(g=0;g<64;g+=4)m[g>>2]=h.charCodeAt(g)+(h.charCodeAt(g+1)<<8)+(h.charCodeAt(g+2)<<16)+(h.charCodeAt(g+3)<<24);return m}function a(h){var m=[],g;for(g=0;g<64;g+=4)m[g>>2]=h[g]+(h[g+1]<<8)+(h[g+2]<<16)+(h[g+3]<<24);return m}function s(h){var m=h.length,g=[1732584193,-271733879,-1732584194,271733878],p,w,S,C,R,O;for(p=64;p<=m;p+=64)i(g,o(h.substring(p-64,p)));for(h=h.substring(p-64),w=h.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<w;p+=1)S[p>>2]|=h.charCodeAt(p)<<(p%4<<3);if(S[p>>2]|=128<<(p%4<<3),p>55)for(i(g,S),p=0;p<16;p+=1)S[p]=0;return C=m*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(C[2],16),O=parseInt(C[1],16)||0,S[14]=R,S[15]=O,i(g,S),g}function l(h){var m=h.length,g=[1732584193,-271733879,-1732584194,271733878],p,w,S,C,R,O;for(p=64;p<=m;p+=64)i(g,a(h.subarray(p-64,p)));for(h=p-64<m?h.subarray(p-64):new Uint8Array(0),w=h.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<w;p+=1)S[p>>2]|=h[p]<<(p%4<<3);if(S[p>>2]|=128<<(p%4<<3),p>55)for(i(g,S),p=0;p<16;p+=1)S[p]=0;return C=m*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(C[2],16),O=parseInt(C[1],16)||0,S[14]=R,S[15]=O,i(g,S),g}function u(h){var m="",g;for(g=0;g<4;g+=1)m+=r[h>>g*8+4&15]+r[h>>g*8&15];return m}function f(h){var m;for(m=0;m<h.length;m+=1)h[m]=u(h[m]);return h.join("")}f(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function h(m,g){return m=m|0||0,m<0?Math.max(m+g,0):Math.min(m,g)}ArrayBuffer.prototype.slice=function(m,g){var p=this.byteLength,w=h(m,p),S=p,C,R,O,B;return g!==n&&(S=h(g,p)),w>S?new ArrayBuffer(0):(C=S-w,R=new ArrayBuffer(C),O=new Uint8Array(R),B=new Uint8Array(this,w,C),O.set(B),R)}}();function c(h){return/[\u0080-\uFFFF]/.test(h)&&(h=unescape(encodeURIComponent(h))),h}function d(h,m){var g=h.length,p=new ArrayBuffer(g),w=new Uint8Array(p),S;for(S=0;S<g;S+=1)w[S]=h.charCodeAt(S);return m?w:p}function v(h){return String.fromCharCode.apply(null,new Uint8Array(h))}function y(h,m,g){var p=new Uint8Array(h.byteLength+m.byteLength);return p.set(new Uint8Array(h)),p.set(new Uint8Array(m),h.byteLength),g?p:p.buffer}function _(h){var m=[],g=h.length,p;for(p=0;p<g-1;p+=2)m.push(parseInt(h.substr(p,2),16));return String.fromCharCode.apply(String,m)}function x(){this.reset()}return x.prototype.append=function(h){return this.appendBinary(c(h)),this},x.prototype.appendBinary=function(h){this._buff+=h,this._length+=h.length;var m=this._buff.length,g;for(g=64;g<=m;g+=64)i(this._hash,o(this._buff.substring(g-64,g)));return this._buff=this._buff.substring(g-64),this},x.prototype.end=function(h){var m=this._buff,g=m.length,p,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S;for(p=0;p<g;p+=1)w[p>>2]|=m.charCodeAt(p)<<(p%4<<3);return this._finish(w,g),S=f(this._hash),h&&(S=_(S)),this.reset(),S},x.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},x.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},x.prototype.setState=function(h){return this._buff=h.buff,this._length=h.length,this._hash=h.hash,this},x.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},x.prototype._finish=function(h,m){var g=m,p,w,S;if(h[g>>2]|=128<<(g%4<<3),g>55)for(i(this._hash,h),g=0;g<16;g+=1)h[g]=0;p=this._length*8,p=p.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(p[2],16),S=parseInt(p[1],16)||0,h[14]=w,h[15]=S,i(this._hash,h)},x.hash=function(h,m){return x.hashBinary(c(h),m)},x.hashBinary=function(h,m){var g=s(h),p=f(g);return m?_(p):p},x.ArrayBuffer=function(){this.reset()},x.ArrayBuffer.prototype.append=function(h){var m=y(this._buff.buffer,h,!0),g=m.length,p;for(this._length+=h.byteLength,p=64;p<=g;p+=64)i(this._hash,a(m.subarray(p-64,p)));return this._buff=p-64<g?new Uint8Array(m.buffer.slice(p-64)):new Uint8Array(0),this},x.ArrayBuffer.prototype.end=function(h){var m=this._buff,g=m.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,S;for(w=0;w<g;w+=1)p[w>>2]|=m[w]<<(w%4<<3);return this._finish(p,g),S=f(this._hash),h&&(S=_(S)),this.reset(),S},x.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},x.ArrayBuffer.prototype.getState=function(){var h=x.prototype.getState.call(this);return h.buff=v(h.buff),h},x.ArrayBuffer.prototype.setState=function(h){return h.buff=d(h.buff,!0),x.prototype.setState.call(this,h)},x.ArrayBuffer.prototype.destroy=x.prototype.destroy,x.ArrayBuffer.prototype._finish=x.prototype._finish,x.ArrayBuffer.hash=function(h,m){var g=l(new Uint8Array(h)),p=f(g);return m?_(p):p},x})})(JO);const _h=wh;function QO(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function ZO(e){if(typeof e.slice=="function")return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function XO(e){if(e instanceof ArrayBuffer)return ZO(e);var t=e.size,n=e.type;return typeof e.slice=="function"?e.slice(0,t,n):e.webkitSlice(0,t,n)}var Ux=Function.prototype.toString,eP=Ux.call(Object);function tP(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&Ux.call(n)==eP}function xh(e){var t,n,r;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=xh(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(QO(e))return XO(e);if(!tP(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=xh(e[n]);typeof i<"u"&&(t[n]=i)}return t}var _0;try{localStorage.setItem("_pouch_check_localstorage",1),_0=!!localStorage.getItem("_pouch_check_localstorage")}catch{_0=!1}var Va=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Te=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},go,os,at,Dr,Ir;class nP{constructor(t){go.set(this,void 0),os.set(this,void 0),at.set(this,null),Dr.set(this,new Map),Ir.set(this,!1),Va(this,go,t,"f"),Va(this,os,()=>{this.unsubscribeAll()},"f"),t.once("destroyed",Te(this,os,"f"))}subscribeToDocs(t,n){var r;if(Te(this,Ir,"f"))return()=>{};Te(this,at,"f")==null&&Va(this,at,rP(Te(this,go,"f")),"f");const i=Array.isArray(t)&&t.length>0;if(i)for(const a of t??[])if(Te(this,at,"f").ids.has(a))(r=Te(this,at,"f").ids.get(a))===null||r===void 0||r.add(n);else{const s=new Set;s.add(n),Te(this,at,"f").ids.set(a,s)}else Te(this,at,"f").all.add(n);let o=!1;return()=>{var a,s,l,u;if(!(o||Te(this,Ir,"f"))){if(o=!0,i)for(const f of t??[]){const c=(a=Te(this,at,"f"))===null||a===void 0?void 0:a.ids.get(f);c==null||c.delete(n),(c==null?void 0:c.size)===0&&((s=Te(this,at,"f"))===null||s===void 0||s.ids.delete(f))}else(l=Te(this,at,"f"))===null||l===void 0||l.all.delete(n);((u=Te(this,at,"f"))===null||u===void 0?void 0:u.all.size)===0&&Te(this,at,"f").ids.size===0&&(Te(this,at,"f").changesFeed.cancel(),Va(this,at,null,"f"))}}}subscribeToView(t,n){if(Te(this,Ir,"f"))return()=>{};let r;Te(this,Dr,"f").has(t)?r=Te(this,Dr,"f").get(t):(r=iP(Te(this,go,"f"),t),Te(this,Dr,"f").set(t,r)),r.callbacks.add(n);let i=!1;return()=>{i||Te(this,Ir,"f")||(i=!0,r.callbacks.delete(n),r.callbacks.size===0&&(r.feed.cancel(),Te(this,Dr,"f").delete(t)))}}unsubscribeAll(){if(!Te(this,Ir,"f")){Va(this,Ir,!0,"f"),Te(this,go,"f").removeListener("destroyed",Te(this,os,"f")),Te(this,at,"f")&&(Te(this,at,"f").changesFeed.cancel(),Te(this,at,"f").all.clear(),Te(this,at,"f").ids.forEach(t=>{t.clear()}),Te(this,at,"f").ids.clear());for(const t of Te(this,Dr,"f").values())t.feed.cancel(),t.callbacks.clear();Te(this,Dr,"f").clear()}}}go=new WeakMap,os=new WeakMap,at=new WeakMap,Dr=new WeakMap,Ir=new WeakMap;function rP(e){let t=null;return t={changesFeed:e.changes({since:"now",live:!0}).on("change",r=>{var i;const o=((i=t==null?void 0:t.all.size)!==null&&i!==void 0?i:0)>0,a=t==null?void 0:t.ids.get(r.id);r.deleted?(o&&t&&Fl(t.all,!0,r.id),a&&Fl(a,!0,r.id)):e.get(r.id).then(s=>{o&&t&&Fl(t.all,!1,r.id,s),a&&Fl(a,!1,r.id,s)}).catch(console.error)}),all:new Set,ids:new Map},t}function Fl(e,t,n,r){for(const i of e)try{const o=r?xh(r):void 0;i(t,n,o)}catch(o){console.error(o)}}function iP(e,t){let n=null;return n={feed:e.changes({since:"now",live:!0,filter:"_view",view:t}).on("change",i=>{var o;for(const a of(o=n==null?void 0:n.callbacks)!==null&&o!==void 0?o:[])try{a(i.id)}catch(s){console.error(s)}}),callbacks:new Set},n}const Sh=k.createContext({defaultKey:"",databases:{}});function oP(e){const{pouchdb:t,name:n}=e,{databases:r,default:i}=e;let o,a;if(r!=null&&i!=null)o=r,a=i.toString();else if(t!=null)a=(n==null?void 0:n.toString())||t.name,o={[a]:t};else throw new TypeError("databases argument must be pared with the default argument");const s=aP(o),l=k.useContext(Sh).databases,u=k.useMemo(()=>({defaultKey:a,databases:Object.assign(Object.assign({},l),s)}),[s,a,l]);return oe.createElement(Sh.Provider,{value:u},e.children)}function aP(e){const[t,n]=k.useState(e),[r,i]=k.useState(null);if(r&&e===t)return r;const o={},a=new Set(Object.keys(r??{}));let s=!1;for(const[l,u]of Object.entries(e))r&&t[l]===u?(o[l]=r[l],a.delete(l)):(s=!0,o[l]={pouchdb:u,subscriptionManager:new nP(u)});if(s||a.size>0)n(e),i(o);else if(r)return r;if(r)for(const l of a)r[l].subscriptionManager.unsubscribeAll();return o}function Hx(e){const{defaultKey:t,databases:n}=k.useContext(Sh);if(t===""&&n[t]==null&&Object.keys(n).length===0)throw new Error("could not find PouchDB context value; please ensure the component is wrapped in a <Provider>");const r=e==="_default"?t:e??t;if(!(r in n))throw new Error(`could not find a PouchDB database with name of "${e}"`);return n[r]}function qx(e){const[t,n]=k.useReducer(sP,e,a=>(typeof a=="function"&&(a=a()),a||(a={}),Object.assign(Object.assign({},a),{error:null,state:"loading"}))),r=k.useMemo(()=>Object.assign(Object.assign({},t),{loading:t.state==="loading"}),[t]),i=k.useRef(t);i.current=t;const o=k.useCallback(a=>{const s=a(i.current);n({type:"loading_finished",payload:s})},[]);return[r,n,o]}function sP(e,t){switch(t.type){case"loading_started":return Object.assign(Object.assign({},e),{state:"loading"});case"loading_finished":return Object.assign(Object.assign({},t.payload),{error:null,state:"done"});case"loading_error":return Object.assign(Object.assign(Object.assign({},e),t.payload.setResult?t.payload.result||{}:{}),{state:"error",error:t.payload.error});default:return e}}function $x(e,t,n){const{pouchdb:r,subscriptionManager:i}=Hx(t==null?void 0:t.db),{rev:o,revs:a,revs_info:s,conflicts:l,attachments:u,binary:f,latest:c}=t||{},d=k.useCallback(()=>{let h=null;typeof n=="function"?h=n():n&&typeof n=="object"&&(h=n);const m=h;return m&&m._id==null&&(m._id=e),m&&m._rev==null&&(m._rev=""),{doc:m}},[e,n]),[v,y]=qx(d),_=k.useRef(e);k.useEffect(()=>{e!==_.current&&(_.current=e,n!=null&&y({type:"loading_finished",payload:d()}))},[e,n,d,y]);const x=k.useRef(d);return x.current=d,k.useEffect(()=>{let h=!0;const m=async()=>{y({type:"loading_started"});try{const p=await r.get(e,{rev:o,revs:a,revs_info:s,conflicts:l,attachments:u,binary:f,latest:c});h&&y({type:"loading_finished",payload:{doc:p}})}catch(p){h&&y({type:"loading_error",payload:{error:p,setResult:!0,result:x.current()}})}};m();const g=o&&!c?()=>{}:i.subscribeToDocs([e],(p,w,S)=>{h&&(p||a||s||l||u?m():y({type:"loading_finished",payload:{doc:S}}))});return()=>{h=!1,g()}},[y,r,i,e,o,a,s,l,u,f,c]),v}var lP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};function uP(e){const t=k.useRef(e);return k.useMemo(()=>lP(t.current,e)?t.current:(t.current=e,e),[e])}function cP(e){const{pouchdb:t,subscriptionManager:n}=Hx(e==null?void 0:e.db),{include_docs:r,conflicts:i,attachments:o,binary:a,limit:s,skip:l,descending:u,update_seq:f}=e||{},{startkey:c,endkey:d,inclusive_end:v}=e||{},{key:y}=e||{},_=uP(e==null?void 0:e.keys),[x,h,m]=qx(()=>({rows:[],total_rows:0,offset:0}));return k.useEffect(()=>{let g=!0,p=!1,w=!1;const S={include_docs:r,conflicts:i,attachments:o,binary:a,limit:s,skip:l,descending:u,update_seq:f,startkey:c,endkey:d,inclusive_end:v,key:y,keys:_},C=async()=>{if(p){w=!0;return}p=!0,w=!1,h({type:"loading_started"});try{const B=await t.allDocs(S);g&&h({type:"loading_finished",payload:B})}catch(B){g&&h({type:"loading_error",payload:{error:B,setResult:!1}})}finally{p=!1,w&&g&&C()}};C();let R=null;y!=null?R=[y]:_!=null&&(R=_);const O=n.subscribeToDocs(R,(B,F)=>{!g||!fP(F,c,d,v,u)||(B?m(L=>{const z=L.rows.filter(T=>T.id!==F);return Object.assign(Object.assign({},L),{rows:z,total_rows:L.total_rows-(L.rows.length-z.length)})}):C())});return()=>{g=!1,O()}},[h,m,t,n,r,i,o,a,c,d,v,s,l,u,y,_,f]),x}function fP(e,t,n,r,i){return t&&(i&&e>t||!i&&e<t)?!1:n==null?!0:r?i?e>=n:e<=n:i?e>n:e<n}const dP="hidden/template1",hP="2024-02-04T20:54:23.022Z",pP="Aisha and Aaron project",gP={intro:{nodes:[{id:"1",type:"entry",position:{x:255,y:105},width:68,height:41,selected:!1,positionAbsolute:{x:255,y:105},dragging:!1},{id:"2",type:"dialogueEntry",data:{speakerIndex:0,text:"Hey"},position:{x:390,y:45},width:207,height:151,selected:!1,positionAbsolute:{x:390,y:45},dragging:!1},{id:"3",type:"randomSwitch",data:{proportions:[1,9]},position:{x:660,y:30},width:174,height:170,selected:!1,positionAbsolute:{x:660,y:30},dragging:!1},{id:"4",type:"dialogueEntry",data:{speakerIndex:1,text:"WELL HELLO"},position:{x:945,y:-75},width:207,height:151,selected:!1,positionAbsolute:{x:945,y:-75},dragging:!1},{id:"5",type:"dialogueEntry",data:{speakerIndex:1,text:"Yo"},position:{x:945,y:150},width:207,height:151,selected:!1,positionAbsolute:{x:945,y:150},dragging:!1},{id:"6",type:"playerReplies",data:{replies:[{text:"It's {name} and I like waffles",condition:"none"},{text:"It's {name}",condition:"none"},{lockVariable:"Aaron likes you",condition:"unlocked",text:"Wanna go eat waffles?"}],label:"name-replies",speaker:0},position:{x:1920,y:30},width:375,height:164,selected:!1,positionAbsolute:{x:1920,y:30},dragging:!1},{id:"7",type:"goto",data:{target:"name-replies"},position:{x:3060,y:30},width:216,height:111,selected:!1,positionAbsolute:{x:3060,y:30},dragging:!1},{id:"8",type:"lockNode",data:{action:"unlock",variable:"Aaron likes you"},position:{x:2385,y:-180},width:209,height:133,selected:!1,positionAbsolute:{x:2385,y:-180},dragging:!1},{id:"9",type:"dialogueEntry",data:{speakerIndex:1,text:"What's your name?"},position:{x:1290,y:45},width:207,height:151,selected:!1,positionAbsolute:{x:1290,y:45},dragging:!1},{id:"10",type:"dialogueEntry",data:{speakerIndex:1,text:`You're pretty cool!
What was your name again?`},position:{x:2685,y:-210},width:207,height:151,selected:!1,positionAbsolute:{x:2685,y:-210},dragging:!1},{id:"11",type:"dialogueEntry",data:{speakerIndex:1,text:"Ok. What was your name again?"},position:{x:2370,y:0},width:207,height:151,selected:!1,positionAbsolute:{x:2370,y:0},dragging:!1},{id:"12",type:"dialogueEntry",data:{speakerIndex:1,text:"Yeah, {name}."},position:{x:2400,y:210},width:207,height:151,selected:!1,positionAbsolute:{x:2400,y:210},dragging:!1},{id:"13",type:"emitNode",data:{function:"ask player name"},position:{x:1605,y:60},width:215,height:130,selected:!1,positionAbsolute:{x:1605,y:60},dragging:!1}],edges:[{source:"1",sourceHandle:"1_source_0",target:"2",targetHandle:"2_target_0",id:"reactflow__edge-11_source_0-22_target_0",selected:!1},{source:"3",sourceHandle:"3_source_1",target:"5",targetHandle:"5_target_0",id:"reactflow__edge-33_source_1-55_target_0",selected:!1},{source:"4",sourceHandle:"4_source_0",target:"9",targetHandle:"9_target_0",id:"reactflow__edge-44_source_0-99_target_0",selected:!1},{source:"5",sourceHandle:"5_source_0",target:"9",targetHandle:"9_target_0",id:"reactflow__edge-55_source_0-99_target_0",selected:!1},{source:"8",sourceHandle:"8_source_0",target:"10",targetHandle:"10_target_0",id:"reactflow__edge-88_source_0-1010_target_0"},{source:"6",sourceHandle:"6_source_1",target:"11",targetHandle:"11_target_0",id:"reactflow__edge-66_source_1-1111_target_0"},{source:"6",sourceHandle:"6_source_2",target:"12",targetHandle:"12_target_0",id:"reactflow__edge-66_source_2-1212_target_0"},{source:"10",sourceHandle:"10_source_0",target:"7",targetHandle:"7_target_0",id:"reactflow__edge-1010_source_0-77_target_0"},{source:"11",sourceHandle:"11_source_0",target:"7",targetHandle:"7_target_0",id:"reactflow__edge-1111_source_0-77_target_0"},{source:"9",sourceHandle:"9_source_0",target:"13",targetHandle:"13_target_0",id:"reactflow__edge-99_source_0-1313_target_0",selected:!1},{source:"13",sourceHandle:"13_source_0",target:"6",targetHandle:"6_target_0",id:"reactflow__edge-1313_source_0-66_target_0",selected:!1},{source:"3",sourceHandle:"3_source_0",target:"4",targetHandle:"4_target_0",id:"reactflow__edge-33_source_0-44_target_0"},{source:"6",sourceHandle:"6_source_0",target:"8",targetHandle:"8_target_0",id:"reactflow__edge-66_source_0-88_target_0"},{source:"2",sourceHandle:"2_source_0",target:"3",targetHandle:"3_target_0",id:"reactflow__edge-22_source_0-33_target_0"}]}},mP=[{name:"Aisha",portraitUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAB4ZVhJZk1NACoAAAAIAAUBBgADAAAAAQACAAABGgAFAAAAAQAAAEoBGwAFAAAAAQAAAFIBKAADAAAAAQACAACHaQAEAAAAAQAAAFoAAAAAAAABLAAAAAEAAAEsAAAAAQACoAIABAAAAAEAAABAoAMABAAAAAEAAABAAAAAADFlOmUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAIPaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+MzAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj4zMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlOis2wAAHTZJREFUeAHlm3mQnHWZx5/u6eme+57MkWSSSQIJSSCBQDDgKlJcK6zI5WqpWwaRXaRcqyy11sItj1q0tqwtt9StXXZZ2V2NKIcIKyDIsiIoICQQEnLfk2Tuu3tm+pju/X6et9+ZCVAQMbp/+CM9b/f7/t7f7zm+z/m+RF6492MF+yMe0ZD3wluI4c2vR8JlXncsREp1LrheCI9vsdfrFnnLE8X138a6sYA43Zmot7w+bzZm1y9YoRCxSIQzb8J88fLcGeEa4fHN9ns7105m3Uh62CKZYV8+VqTRfxSql5z0no6ItxBAuNjriUIkeX3miiac/Yc4HpgRQDRiryfvZEiIzBjPycyencNuwo/+/n8xP0sL394mG7rT5XYSTBSdh8/UPYAmFHouNy1TOpGgP8yv2U3lA35/g20iEbGrL2g9ncna8WO99sunN9u+fUesr2/Yli5ZYOeeu8rOPvsMq6+v8fm/P4q0MrTIf4XjFArA2Q3X9WOg6YjlclnbsfOg3Xvf4/bCC69afnrar+fzBRfEY4//2srKEnb++WfaJ2/5oDU21lo0GoAT4UmGp2wUWDCP/wnGKRRAoOm5xCLpiYlJu//HT9imTT+1WGmp1dZUWWlpTJ+4ZTJpi8VKLa7zo2Pj9vTTW+y5Z7daVXWVtbc1+bzGpjq75NINNq+5waqrKqy2rtpKisIJmTjZIyrKT+ctIsGH4xQK4ERNIemUmL/9a3fai9J6lYivr6uzmppqMR1zk1AgtZKSqP5GrLq62pqbGiSUrHX39NmrO/Y7jZjQ/zz5vGWzOb9v+fJFdtPHr7NzZDKw8duAA//jCAAFxREJM8FCXHlA07rw/O90nJaUR0bG7JZbb7fBwRExXmsLF8x3zeULeYsqhGSyGRdQNpt1ARR0vry8XEyW2ORU2np7+2zJkg7dE5MJRC2neQcOd9n0dM65/vjGa+yG6y/7reiE+emcEDB+wOJTh/3eU4oA1CE+7Hh3v/3lX33F0lMZa25uss7FHb7ZpBCRzmRcCxCTnppyc6yurvTzk/qN8PoHBrVOwX1B15FenZsWcmps5YrT3EkOD4/YP//LPZbT+Q9cf7lQhPmRmL25PEBT8Jmdd8oEAENAGWK/+MVv2dRkxjXfuXiR4Juxg4eOuCY7FrRbabzUCamvr3ObTKfTsndS5oJDfXBwyDLTWXvp5Z1ivMpSqUmbxnEJudzbUF9r7a0t9u3v3G379x+1277wcV9vli2+ka36wW0T4eB0oROjC8cpEwCSZRw42GXdQkBUKVadwloyOW4HxPzIyKhduGG9tFUiGE5L42lBfcrvQWh5MYjnh+bOzoW2e/d+GxgYtqHhURdsrn7aaquqLSsf0ds7oJBZZ/OFpscf/5XMJmqf/czHiv6EJSOGn8trH9bFhEpKtfZ00QSAaXGcMgEgVCR8z48ec8nPE/RBRDI1YePJpG04/zx3cKnUiGs9m8uJyEBFzAuyQ7Ojx3vcD4hqF1bnovnOUHlFwsoSCRseGff7xxQ1WluabWR03B586H/tpc077Tvf/oI1NKqe0boIOccesnkEUpKLulIwrbwEEY63nwmGK4RHrdnTM2BP/fLFQOrSJhodGx+3C9af56YxOjpmU+kpS8skpgXxTC7j0K+prbKWefOsqbHB5re1Wl1djVVWlMsH1FlWjGSz0wqnU0JM1jZsOMvi8ZjvkZJwV8kvlCXK7PDRHtt405dtIjlh2XTGMv7JCjEShJCSTWs/3e9OcNYCfodUOGRcR1ekjrt3HXKC6+T18fRoubqq0r324OCgfmfEXLUNjYyImYw11deL8Warqa7VGnmbnJx0m1/Q3uqwjUZKLC3CU5MTQg9CmLDnnnvFWtuaLZ6IuXl09/ba2jNXOjoGBodt092POBKBuyNdTjWXzTvjmXTOfUxYlsPCKUMAQhgZS4qRgsdrkh2E0NzU5PafEyETk2k7rhjfUFfvYbGuNnCCo6MjnjBlFOu5Dz+SErO1tdXW2CBbl8MbHBryOWjwyJEeN4+qqnKbkiAHdO3ss1ZJaBG774EnLDmWcqXIDc2YVlCDiGH8gaJGON5QADARjPAYTn/jo3tYwlffgNsnTodkJ5Eg28u6GUzJ0+OsyhPK5sRYhSCeSqVsLDWu44TP2bv/oG1/dbeNyq5rlTDBBcjI5hUGlSiNaz4ZI+cnJ9IyGeUu+p4U7PEzK07v9O/blEThj3IyHTI/BuEVRPAbPxCONxBAAB0W8HlOBHtCzOyN4QIcg/N5q68VlPU7SHGDpYHtiIgmgSlV2gtjMAPTMHT0WLf1yTy6lfigwYryuD4JX8cdpYjGfqkVqiorfFuyQsbg4KgQJiHI0w8r8aqsqPRk6xvfvEs0ZGR6AruUwTGqjNNLUW5EY8VxggDgDw/pHjSTs2lJcFpS4DefUJrhzaFAnn12m/3g7sds80s7HHJlZWUOZUJh32C/NDqmdVQAaX1SXsrgjDK7qAgJwl+Jo2X18sV2643X2g1XXyx/MOX+JCfBETrJENNyYqTXmBMaZ/94PO6+Jq/18QELFrQJTRP28yefw/c7PcA+oFXxRjRBVzhOEAAnPUxIoiHTmYmMvGjW4RRcQ8fBB42xMDDfueOI9ffTZop43B8bT7nUh4fHXRiLF3bYwoUKaZo/NDzs8D8uBxZUfQVb2tFu11z5Lu2bUyRosPdcuMaGhoZ9bWHRbbdJUaFcSMAfIEAywSnlEg3KCaCBtLpjfgts2B3fvU93CQFiVuxYVOaHwEOl+ST9OVEAIg7twBiQQeNozm1Jq3CNuIoj4hxHbPCd71zrqGppbrVz1qwWXMts/8HDNjY2anWy95VnrHDNIzfCItoblBDYhz0qBfmrLt/g4S6i0EnYWyk0NChiDEoIQB7nCJznNTcqvW70c1NCybQQWy6zIZPk0z8w6nOh9dfPvuS6Qt/kGmSTIG7uOFEAzBRDQL8gwrxSIzuTGeQUQvwjDWVkk1lCio5+TuZy48Y/c61UV1XZhvXr7AIlPm1t8xWnV1ityltscnRszI51dys5SjkNOd0HAWtWn+aaoVDC6aGyiOj48HWXSINR6+sfFKMoJki2mhrqra11nqVFC+YFs9QTpXK8ICqudJnjfQ8+4euyZk5CDNYWnty5BWI4MRME2cBE4CGBgPEQ5uHmTrTPYSpyVWYtwpDui1u22tLORe6wsM2EPqS7wDSlGA/0QYHcqcVLYnbjR69Q7V+pNUzCUejSf2W6Bxt1O5USbt34Pvv2nQ9Y17EeW9De4ntROyBo/MLQ0KiEC0JIsQm1kzZPCdXho8dt3/4u70LFhZ6C6KMGgEVJgr8+ThAABITDmXNngcSAjZiVN83ncSzk7RHXQCSrAkXefXw8qSwvbcd6ut3WnFLucslJc9ICdhqTaX1Imu3saHOH1ts/ZA88/LRrmN0ry8vkHyZ9jevlDBtqK+ymD7/X7tz0iKfJLfOa3B9AE42RGqELs6pUhMDZEe5otqCagN4i5LU4nTCEPXecaAJclnS4OaZ0s1QfZ8DPwwS3BuGQjUqKzBHi7vrPn/i65WVKTpSGYvvLT+u0hGDJmFKNz+ZLFrXb6Z0LpC1FBRF86Give3UEBmqWdM5X86TSz33vRz+zlO7DR3zo2osdzt09/dbTPyA0jXiWCH3c50iTAqCPkInzw2cwHzIDPhQOJTQ/AVEaJzRE0jVrLKtQg3RJZNAasAI+ODsYCBbQNkXzGFL8fe43W+0fv/MDj+9LOzts6/Ydtnb1CvkEpcKV5XaRPPrhrh5pvcWdK+uAwpigWVtTKZ+QEU0kN5POJIQJKnbX9x9W6lxr1115oWt2YGjMHnz0V4L5lLRf4uV2hYoknCbhEhrxFdg6DRnmXfQn59lnbv2IODW/B5RXl/RaInPEt5kRQL60zqaqzvJyczojJ6R0ESeI0t0panFsDq8FMjJT2lCCGZET+tjNXxK9MW9YoAEiQEtLk/X29bsfqBcaSIYue/c6a29p9I2jiu04x+27D9uOvce9TiiLReyC81Z6TsCkhMwhKwLiYigtVNELYOw9cMx+9sTzKqqyNn9+q+cuNFpziliEOvxBj0pmQnGZstFNd96u2iHuPUlpziqjPVaW6fK1ZkyA+OieEs0KPmjYY2bxdwnMa1BkEAG4Boz/9d/vd3iftlRwV7kKobS7EvEyq1MXJyZGKYha1O+756GnrKqmVoKNybZ1TWsu6Wi1hoYGefKMHe3rtf+69+d2qHsiQBp2ro4yGSEMgMRdaqevO+s0++ifX+5r0xtwHwWsJHyEgg8AwQwiBFUkPJWqgCqRcAS2mTEjAFSNnXgm6DCSAMQ89oLDAw1Rigj9xiw4xyY7lHdTuuKEaH9DTJB355WrN9rV77/aPnHLX1tlS8TOv2iZjUyadfUNOSQRYq0E8ndf+7o1L07YouUNdvm1Z9vn/uY2u+KqG7wLDAPAmp4gcb63X/0E0dXaUq8Q2+l7UdxAO04WpUwqzU54KAxi/4ByCfjjGvkNwgjHrAB0hqTEY6QcJwsiKA8fRenFiovCPMIh80rKzpYt6UQunr4C9c6ODneEhKQjh4/apZdcKvhFrayixHbt3GHNqv/DgU/CrzQ2V7mQJyYF27K49XYfcC/vBIsQ7LtUiKlU0oOTpZXeMX+e3xO2y/ALOOSEEjGUwwfF0ZlyPybFuTmHm+s4EwbdBBT7hW2FC2ddfgONIzmcYCZwIlzXhwHcmUOre0y+AMmSt4MGYjXae+75523Lbx6way+7RpnhmB3YfcDa5AdcwFoH6G955iG7asNV1qXYXau84JnHN7kWQRPooi5g3a7j/bagbZ52lpmKhC2v7FFW2OB9hFKZlSc6Tpd6jGIeZbIPodU1VOQl4A8OXpMKo0UYZjMysNAXuACQngiCYTSGT8gKmqSoFCIkOgimY367p6nk6clUUoREbaC7z2rKonb0SLctU5hjhELk+/jokA319lilUJKbmlQ9n3Rocw0ok9nxUGTz1j226f7HJbS8HVJU6VM1uPz0RQrHyk20NwKDNvTjtPNFIyZkMLy4c5QXcwOu+RX+iPuomJqWHXnVJ2cnSQRFBM5fC3vslpZ9I8VYJFytRiU1OnaK5lmHtjZE47wIT+NJwVqQpTv8wks7bf06eXr9PpmBP6mQBo+p3bb11f1aT473ew9DsMrvGtsmFETFINrPaD/aYyiSCACdJGmJ8lIxD4ppkMp8i4Jh/1kfoJMwiIaxFzYQ2P0GVkQo3MwHxpl7TOkp/oDaHpjG5X2H1e5iOPQqK33uvoPHJIysnbt2ua2/4BzLQxTJSnG9cD6o4lwwgmOg0YLdoUSLTjLRBOGBjOrqcs1H44H3h/YKrUskwD8hgAWqDkE0c8K1wyP7zAqAH2LGB0Twz+EU2LynkTrnTlJHHkTs2HlAhUq/IJlT1rfUJUwyg+Mh5Y3JOzfocdgLW3Z59ZhRVlclk+CD2cBwqA2ETcgEOcEI4Aspu/Ypp09Pe7MUZiqUXHF+dDTpTCEYymOEAurwP2NKzeHnyive5dEBhjALnCpCDceJJqCLDDIrGbwyfjm1MqXDOkee7U5O3yNqtpB6PqFndks7OxXH1dsTKnimByF8aHmhgUYKkyNdllRfobG+yh0jTPsjLtYSJy4E8UsYe+1ADM+oEYr/obhiPmm1C0+wps1WOq20XU4P86DUTiYndb7UhXzhO9ZIa7OrIgBtOHNiVhQ6h5NAtHRcXVLSoPsDIO8mIKehLHDvwSP29/9wlzaJO/O0rHfv2eeEsTYM4RewR7SKVp58ZrP1q3J7YfteiysxiilU9Q2M2LHeQWcqpChERPibSDMsTReEGDy9C0z08ICEhArBo1HS3lE5T54blFeUeSglgpTH1V7THFHlR6rZuc8FZhAApGLKkhCA+wLgAkQlebxuQFjBRuRctr6827Zt32drzlrtVSAPM8nqgDUEkrBAeIUIgUDu3aPSlJogJm1881vf9+YlFrh+/SpbqEfhNDZeO7h3oG9UBCuBEZMBWoJcJZFAwwWH+hR9f6GOiETJjEmOyfHSQ/QaRryBYgZmAZJNumbMCMB/uUPRBiLGsz5t4Ajwi5Khfh86cNx+/BM1GnQOWwe29PMhDrOg4UkHJ2hgRvSgtNfvpjA6pHb2mauX2qozOj1nhxAQQgRhvFb7g4Nj6E3PEcaLzAdCIt9HSUe1NuZGwoO2G/RABWUgEBRQJV8hosUwYTBQBN9pj4UCmDUBhKJFvfrTZL5jwzCG9JEc22/evM0m1Qki5PH0he4ODDAPqNMToBagiuMcIbFMMGSNZ57fLjvNK1qICDSh9ULm9fWEgSmlZMsTqbQLhm5y2M8PhEKjVT5G/qdJH66DCK8FJBCIRTkIGcH6azE6x3foCseMACCH84G9QFhg9xDCh8V37z6k0ne7OzicTo+qPRhgUZhnjaGhEYWedi+AcIo8AwgEGJUtj6u7c79NytcggNeOkDD22rvnqLQYhDJvd8n3AORwzoTQVq78ADrcOeoq7yBBS1wOEJPk6RM0zRiAvvpvGCqOGQHw26GhI/1AYIb3RCAggUTj2edfVjGiJEe2xlLYGoNNJ+UIGTysoF21Y9deEaCQKM1zHUiy70Rqyr75T3fb81v3WjU5uk7yQZupZNr27T1me3Z3aV82D7TIE2IrBKQiTAY08Z2aIBgqhoQ8BMR5QjjRAkSEI3DsJ7A8xweIX2p0i0iTOoYvMtGcjLq3NVuyOOjkQHCRDieeDSf10LOyokIdncVycElPjBobeOYnx6mIQPcIOPKCRDYbtYcffdq2K4+48uLzbI+0vXv/EevuG7Sli+bb2atPR6qiG7AHWifchQUOSReaB33szR7BXDk10c65Uh0ndL5fkWa+1w+hGJgLKoIx6wR1flqOio3dDJinUXCoigwdz1UKO089Ofr1XK5VvQ/0IYxeAHNwjNte3eXtazaaEAp4UkSrnEflJDJlCgWrlzTZlr1H7W6FrmpBmSJo/doznDEKHbddoW9cj70YkAziACZ7JFQxjisicYVriApBgAA3kyKPO/bslwCagzkCFQWaOiy6IxizAtBviJuOBO1nz/yUBzhs8Jq6mbD2hc9ttP/Y9JC9snW3p71AMS4nR55QnsDbBsRDhGtfL0Z4Ta+N62vKbVFLjd14+TK749ED/ljrhmveowcvNFj8Vg9l/uhLv1NjEyq3ldSILh6Tk/MTkkvjJWq2VLujTql8btTDVpIgeK6uVnNU/1EyQ0O5BM8I1peAxNgs+3PCICe9DUbHRJvQoyst41WW4s3Rguw5Zp16sfErf/tJRYOd9sN7H/GQt1im8ehjzzjxbNSs7I9BcqJAbMs7Gu2y9Z22YmGdNdeVW49gOZTK2s03XWdV8ic4u35VdggsfO4HN+w9qpQWh4b2qQjpDPHmh1ySMss6CWhCuskr6lTZoOoQXs1xgckh0ho7a/UypyVcj0QORYdjDgKCjIoLOENsH80wgBwDAbn4xBTmcM6a08mYvX+wdZsQMTxmR7qOebsbGx2W9s9d2W6f/eB6MUf/cFy+IWWPv9ilCq/cmsQQjooHogvaGtXtHZkRANqL6/xBvVkK3GnFx2PTMr8ha2uutTM7eYfA7BdbDqoUn3Lh4XDxC2MyK/cDcpAcMVGecIkrv54XysMx4xKxJOzO470YDNtaMExOgHZ4LEZi5JUhAqE+0FHgsPdd+W61wqv0lLfXmRpU2xr38enr1vmRUngombHewZQ9+ZKeDilTw8zQbqm0ymhtJp7zQkVgPkmFOiTc3ljtch8YnpCPiFhXz7AYP2Av7uxy01jcWmcVygwrlfgk9UyBXAPT5fWaajlmHDrQVyyzQu7E5G4GAYEDkTalUQZhMCf7LikJHCAa8cQIryuOw3zBJ0sAZ5+1wh7671/oQWWNiqKgUfn5D1/gSQ9r9w4kZUIRW9hYZV+7cZ199XsvKwoctDOVFSJg31PXESLZHAp47Iln7fL1Hba4rdZGFSJ7JYCM5pKjzG+qtG2HBlX+ltqChlJbIkfXO5y0B3+lV2Q0p0mP6r982y1FYWLG4kOb4CzJM8IxIwBOaM7M8Em6g1PcCPxpfaN9X0onQYzEKoWJMbWnl5++2DZv2aGIENQC565odS2TV6hws6Zq6n2ztoZyu33jOfa5Ox+xCzassT+9eL1Dc5fi/zaFxp7jfXbhyib7xFWrRGxAUl1VQm+JxQV3VZoyCda5eG2FAIJv0g8NkJKgqySNr1q5TE0YHonB8twRoCs8M2MCnGAyNQDMI7HwThjke0zeF2iFYZLzgekEqfKnP/URN6FJvQqzWDYNXVFBb1prxeVXaHn5slqroSZh8+rKVFjtsO/f/bBtuu/nds/9T1hrecZuvXqVndE5b4b5kFhoyCiLTGr9gOUAqeF1yNx4xUqnj5eyB5SVIinm8iEdDvjSQsVRcvMH1n6Z74VomeUSLdKw7J+wJNFTSVF3+3UJBYaBK8cSCcOdi7QLV5yjm1tRWWbPqn6/7qIltmxB8BCkRBElhtmoAsFryIp8XLy2TVBWS720YO8+s8nedU6HtTfVOLUiw4UVzNRf/SaATdC4FS1lan5oS//MzOGLTl5xfqc99twBr0vWrZVAiiLgfkbckhaPJP37LAJ0I/YPIzinYGrgFJnprScdOY998oW5+ArK6IQeUfH7sksvYLqqQr37r6Ozrc4v6TObhcznxKGm25rOBrvk7Hb1DpS/67dAordEdZdDv0iFzsvfKqlSri/F5CSAlPL8NxrsOTquh6uav1clOCuwD5/gOzNmBzT5ABrU88RJ7/7oDm7K0kBA+5rpt4Jh/c6IgCxEsLBOEb+ZQ7LEWxwd86pwDxqso/cFldERkrIgTPNpl7GelnIT0dby8Oo0wTwa4E4I4OgftbfVnWIv8rI0SJgzOK9/PqZ1f21NhcruZS4wv6Y/7OgmMOe+GQH4yrrgIc8nFLcVERAeRgCSCDZCQ2R4geDkO1xgAFzzxVy9nBZjghcp9H+j1eqhSBRT0DX98zGpB38IhEZUojRiVQllbjriY5gH4QxCs5fPygSpKUAPI7zOd2RVXNYVVquuVp1CaiBm0MYE7gtncZfWDg78LW6IpDQHJoKcIIj7pKHIGCdYggr0DwI8EmhhBIHwRtS+Qhi3/dtT9tXvPmOpQsK+8UO9709Xic0lOJieyPgvm9QxK4arxXxGMTqVZlFNKzIJZXh6Yjvk84QJ+nYe6rfeocCOmTN37OkasR2Hem1YCRHRy3kv8uff+VMcMwLgHA0HbyF5eAuYYlOEQTbo3l93lGDPuiGwZ11TpsXQHXpKpEaJVLr+vLW279ioferrP9YbpIc9VLFWWkziQrRc8F0nq+LBWkPBmzNO8Bz+ZzSNwOMwJOl3DyZt676g2+SbF/9MCXGvqKRGIWSEnmipmRpYFTyhOCgJxowA+Ml5tMgHyDOADh9SzDCB8OuiEDNAEMRh+oe82or6uDetx+df+vxGu0gvUBEtRpQFInc9eXcEjE4qNZ6U39GeUzKFpDQvkFiFTKBU682SCBXFIQLjQkBM3jIt31QhmM8dT7102O74yWYb9fcN9HBE2SYOmyqXpqpnriLCUVu8cVYAugBjPP6GUrTuqtAhsH8JQirH47tQikTSyBDnTNL8gOz1551pA0qFa1SZ3fjRq23R4nb76QvdDvGhCT1QGZV2lOVKWTYwnrejw3nrHgvCLqYBShih8DE/vpfwQEQ1BC9S8pB0oVJgehdc/+mv99uuw0O2cmmr3fwX79VbJlV2/fsvcZN1yfNH/9xXBSeCPcL/ZYZfuZJacKyhP8G/QAbaPLg/QIO/zYXqfABfXWf4tGDu+ATlsQQmUHT3jckhlevNUPULpbn6GuUcpIYaCaWyCJgyl1CIQAMBY5IB42gJ8wL8/AOJI2Mqk7UvnWDeHuc95HLlIVSAQPzuh7bYe96xTE+S6BVqL8jVvaBcnQS29jHzhkh44o/tOGsCf2ycF/n9P3WXQqngZlp8AAAAAElFTkSuQmCC"},{name:"Aaron",portraitUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAB4ZVhJZk1NACoAAAAIAAUBBgADAAAAAQACAAABGgAFAAAAAQAAAEoBGwAFAAAAAQAAAFIBKAADAAAAAQACAACHaQAEAAAAAQAAAFoAAAAAAAABLAAAAAEAAAEsAAAAAQACoAIABAAAAAEAAABAoAMABAAAAAEAAABAAAAAADFlOmUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAIPaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+MzAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj4zMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlOis2wAAJFVJREFUeAHle3l03NV972ek0Sya0Wi075KtxZYXGbxg9sWEOmYJhILZt/Q0SbM0zdL2nXdeKA2Fk5RH0yYphC0ECGWxISUBnELAAYMXYjBeZGzJkrVL1q4ZaaQZzYz0Pp/7m99YdmhOT/5910fzm7m/u3z37V479m69ax7/HzfnH8fdgbl5B4dkwOGYQzRZgMScDw7MIyMjap4cgeScC3MON+Y5Vu+cGdPgAxmOBP9m+RfjGvNcYx7zcxzhcCBjfo4zwbGiv779MT4IBqtxFTg4V6MdjgxrFved59pm93nCRlj/py1NgK6BGLr6o2be3Nw8JiNRLG3cAJ8/F5kZmdZ6BFygaPN4fBax2CSynG643T5BY43RJwck54g85znYT5isefpiGp8ZJCq/zxEZM4C/ksk4tr37Fj57wQWYmZlBICefzwlMTvajsKjRbJGR4UI0Os45c3B7AlzBgfhsBB5P0HwniTEZ6uX6mZgKD2JirAeh6Sgqy/Lg9XrgzMpEbYUPrvlJA0maAPr13r6Q6YwnEmIf1qzTokAimYTT6SSAc/j4SDOOHG831L/xiisxnxR2FvL9w0Mozs8nwZyYmJxE/9AgmpY0Ymh0GCWFRZibm8P2D3YjwfXHwyH4srNx9YbLzHwRKjY7j+b2Tlxz2ZX40bPP445r/hxlRcUIT2sPJ3HKxL7DzVi3somwJLHz449w0br1gCcrDUMikUQgWGX28vlKiLwfL259Dqsal6SIDVxMvC5ck2twyzCfp31kkjuN9XWGg5ncVH/z5N6vtv8WfYODWF5XTwASSMT5R2T07kh7G558eQt6BgbMav/1/g4cbmszgD629QWMhUJ4e88uSlkvJqenEZ2dxTmrVnMsiZcSjNl4HDNRSwozCEMwJ4ATI8P4j9d/jfbuLiMp7320F2KQmBCNxfCbHe/isRefwxvvv2fG/vMTjxhGPbrleb6fRXVVJfoHhw2Mkl9bIm2UP5UAQujVN97GLDewpXbLttcRmgzj8gsvIQGW4PqNl2N2Nm7gF2eFcElBIVUngjDH6fviqio89PyzcGY6DWJat6u/33CntLAQRQUFRngclDY1IZ2UlJBQAjYzMwO/P3SQaxXgxOiIeb/x/AsxEQ7jpTd/Q/VzIjIzjTXLVuLcM1bjEzIhRMk73NqKwdR4j9uNvNwcG98/eJ6iAvZbASGRz3BKhy0VjZPjt37u83jvw73oHTyB9p4uVJaWoTgvH5eddwERnzIAHeloR47bi86+Xtx29eeR4/OhuaWFSCdREMxDMBBATUU5RscnrIVT6qO9hVBebi7cLjdmZmU4HRgcGUK2N9uSNoq9z+tFc5vWm8M5Z67Bu3s/wO4D+3C4vRWlVDOvx4O39+6Gz+MlwWhXqBJVZaU2an/w/FQJCIUn4c7KMuIrrskoLqPYP/TcL1BFpC+/8CK+d+HWq66BOLJtxzu49JxzcTt1dmRsDBXlZYZINM1oqKrB6mUrUEyJcCTm4HN5cbytC/Ozc3h31x50dvdwzjiOHe/AANWrtrwSBSRSXk4uJSfT2I6bLr+KajOFcaqRbMJeSoUI6SLBYiTUN269E1+49npDlLxArukPTVlGrrmlFTOU5P+ufaoESD8T5JhEUlwQk9YsX4FsUveNnTuMPl+47iy6MEoIqax+6bPmnblsuZGe2z53rRHhzq5utLa1YyeRHQuFsXvffqNWEm9x0UVClxbmG9WJUqW8FNmu49047+z16B7ohz+bHoYwSNr6hweRTwlxkfh/ef2NhHEObbQNT/3qZRRREpuWNkIEaKyrw8PPPUs7nkGCFVmq+t9QwGEHQnKDz742aIbJeAyNjuLrX7iTrsYN6VGMyLn5FPSyWXKNs3SFErEYnxpju8soDVkGEXzi2Rfw0aFmWnsvxdiNsYkwcn3ZHB834i7pmqUhlXvKKy5GW8sxGtWkIZzbnUWEltBO5KOAnmXjJRezP4t/cpdzBjkxxmaUrIjsj2xCaUExDh07isWVlYZY3/qHe7F25fI0CeQBLlpreYFPlYCsLCeGR8fQ1dODVU0rjRHLcrkM8rIPsWgMruwseBT8sDsrbrkoUVx69+obb2DLa28Y9+l2OTE1FSGhEsghISoWL8bY8DDyaNiqa2tRQMSj9PmzJPBoyoPIyosQx7t60Hy0FQ21iwzBLiMRJA2SHrtJTewW8PsR8Pk1BKsoDXLf3b19hjn2mNOfn0qADJI2QSpLfzp7e41hKiosQB6NmDgeCk+gvKzMiLpE2EXui5vxRBzDIyMYGBo2alNbWYZM6mlhaSm62tshIuZIv4l8eGICH3/we8RjUeNK45QEpzG6DoPsuvPORYi2ofngIbR1dqOrrx9HWtvwF7fdjCzuKYLNTMfo2xmzsDmdWRABFFhJUkXwl199jfo/i8I8K545HXkz79M65SuzKZa7PtqPyPSMQUZi53a7GAHGsaiygn0OTItzBFxxgtuVRcKEGeBM0jZkwMPfkpYoxdI5Po6KmmoDZBdjg8HhEY53IYOI5OTkIEKiuSl1C9uRAwcNwS689FIcoOdJct+DlIZHn/4FpXPcqKSIX0wVmWJcMU77UlddhSEa4fDkFFUhapgixshuSJXE2NPbqbsueNu0tMEsIA+geVzHiLeGCPmFTSL7zh4GKCSGDJrX58U0xV7E8jDa85Ezg/0DdGWMG9g8JORVmzcbCZIRjUxNYftrr1ubpBZWDKK/Xe+8iwoiFqVV9xCIA5+0YM2KRngU1tIOzbEvkOM3rk5w+Wlj7CYja8NqP+139vMUAkxFGKFRJIW0xNFDfyyDp6jPGDhukMl+bZxuROCtnbux9uyzEWV4G6TBKigpxh4C7qXPltj3d3eb4YUlJcjJDaCj9Rh++6tfGTGVilxx/fW4aOOfGSK3NjdjiLZAnFPz0Bj6iWCIgY36sri/vIXCaCGVmWKGGZ2aYybyw/JioisNd+qd5iwcliaAk+LUPXAC4wxQxBXxWH05gRxMkzCLly3D5PgYxukdFi1ZYgiRySyxv7+P+phA77FWA9AIffmxTz6hFPgwR8mQrttNxs7+LR1V01PEyKGY1tTXw0Wiyf4IShk7AXzowCHk+ilJVBcng6IBqtA0Pc0IDbUM3TwZJjUsoPTFSRypouIUD92z8sZ52gXZCAVaWWTq7gOTxguIdmkCBGmo/s/jD8NNwDOpv3Fa+kzqZYJGREYnn/50itJhcjjODCrC+/AjvP36b3D08BGDjE1pAS1xlzvUhjEiLs8iIJXEnN5EmBnq8fCJE1QZH2qXNBjJ+eTgQRPUiOvyCiESM8mw+iv3fBfFjO6inKOsNBqZQYRBUjaZJVin6G6He7oRZPDVsHoVQmRqsJhh+ngIM1SlUvSRsJbLTxMgi3pZREOlHNuwXzpPCvkZ1sq1TdC/2nFAkECK8nMcm19cZHRZSIkADhpASY+kJkqbsJxBSU9Hh8E5RGP4x1qcSHIiZCi9FHE1qWM2YxHpumyKM8uNPdvfwTf/+T7DeT+5PM1osK+9A0UVZchyk+vU/SQJU5xXgFlKmBgnoCTXimKy+3cBJywCpB2qAVyRn6Bnk1X2cXH5WSFvtyD9LGFiikrLy3R3lO5J2aNtcAzylB5tLAJ2Hz9upspbqAkhZX3yECLYFL1MeGqav+dNCm3rqiQii3vLjWltSUAhY4bM+STee20b9pIIPro7xR7Sf2WlDo4X/ArC/DS8UqVIPGapNKWy88N9+GjLK+jpstJ+wZMmgH7YzUux9VCUsjKcGJ+JmG5tEmCCQZgRik5jzxtv4t/vvhdxWvsA9VNNwAtYiayHxs9HSy11kI0YD08Z2ip6nGKBYoZEUp9yjmBONqO4aYPMHOsLcrlqmuskMpGZmInns6l29Y2NdGl5+P5ffxsjtAVTsRkzNkx7IBVTy6KaeJ0uTM5a70wnP/oOHUGM8LYeGSODLNRPIYAQyCbgLnJ0lhQfYwJic8RHoojaYRJknki+veUljI6MYtdbbxtLLGD1pyaJkBcRO8RpSYuPoXB9VZlBWASqLS/CxvVNOL+pAec1LcGZ9dVmXphxg5IXEVpN8YWfbjXX78NATw+Ot7RwVQdtQyZefvQxw32Nc0lNuJf2dtPYhVKE0Tu72fB5vE4S1togbQM0SPqeRYqHabxMqSo1M4eczyTyE7Y0kEO5jOZEHKWf9sI2sRTrR8hlWd1Atgc1xQU4o2ERRREoy19m4gURRlZeoh2jmBfnBXD5eatNPH+sZ4jp8CxVJclY3mnWl+rIrQlJ5R3a13ZzAjObHkLNTxsQjs6kGZdNxsmFT1Jq5RG2/uIpXHH1tUADCSB1MbP4oUKlANTkhch76U7ka23kNV7vhxgii8sykITQbDjBCGyKEdg0RVaALyorQnlRHsqL82mdGT9QREUsISFjNJcSdRuGBENpHznZWFPKvMFj/kYZ4YlXZh8+Zavog5HgWhtvvdmeigmG36pBxmhrbEa46fr0fTIaQTfD+qcfeohufAy5+blppqUJ4ODAKcP5lOxxaVFPhmihEdSOCl5iRNTrcVmbcW6M/lfISf/kIVbUVqKUG9WUkgiFeQZQcXGYLspUgLiNLLua5pkER30c46ftWLN0sSFABX37NPeSe5aYh2kr+llVyuQ+CrjsJlcqfx9NzJou2Q4RIEKGth86jLtvuIVw0VDyrbblNtY466Fobw6z8tsULwGkel9f3wA6qHMqRtafuQp+BitqBlGKoOaIGHNE2EmOB2jQ5KoC1NlSJiAySofaOtE/Mm68wkwsbhC95oK19rZci3sToiSNn/Rd9kVcVtwuoopgn1nbhMGkA1O0Dz19JwQBli5rQN/xDpQwTFa0OU9YhFOScCuA89Ndhun+mnfvwQNf+qrBQZsJl0RcHsgCIW0DIiyD/8tXv4EJpqpFrOWFZGGV9S1ajHxS2slNVp57tpkle/A3992Lr193I2ZJShnNTK4YpoUNMyipKimk8Uvi1+9/aJIlTRKiXq6xurHWBEWmnmhWc7CEdYiRnVW1kVTIkDXVVxl1EJFdrkxU0CPNBbIxT2kIcR8Xdf3jd3fg3E2bTJCzl8b46fvvhzzFfb/cgggRlao2nX+eQVpMkoRIcqQW0ly1NAF8dEWrLr0EA23tqKqvxxQjq0ESY4L59KGdu7B/x/u4+5mfG4rncZOsZUtoePwk0iRVQW7TSUCZ4RFAubff7m1GdVkxOa+w1nJrsiVD48oYI1hML+Alx5UYNS6uQFvPCRPjK6GSJISZ6ipqrKYK7WvpRPeJYabbRIJAV5aVYNMdt6GGEaOb6vK3mz6HGD2NEAtTana88mtcdvONws9Ia31TE1r3sxJFZiWVPhP5OA9o3DyUSRPgCMrhWleG6nVnwUUqsfaDALmoRfNYyHj0+hswzYqrYoEILXSUwN35nW/imR/+BH5yqIxWfCw0aUrVSoVvv/Em1DbUmyKmRFq25MVnn8T2vQdNH7tosJLUdzeRG2EVJ8hwuxRLGhpQxqSpgvWGidAEXtr6IhqKS2gTFhEW4PWd+1gv9KGEhdWcIA9GuIZCYr1UFKj6wm4GSjYBZmkbLrv1RlQurcfvtrxsahFSzXhSNoI5giETP0oRRoujHPWTE6jjCc0E9ehIQSlitMxxIuv2MBkJ5qZdjOxAIfODgrwcrCwvNFa/prQA4zRSCoIaGLB85ZvfNssvW7oE//D3f4dilsLFRYl/W++gqRkMjcH4/Wp6jPVnnYV/feinhmvr167BF1n8sOsK8iBSD3kDDz2KkMglTKNRJm/cRSk1S09G1wZ7es2+8jY//s7/MhIs1Tjj7HOwbPkK865/woMlJVMnCZDjiCLIKO3D519E41WfRTmNW0G0E9tLK01MX7WEhyE0cHJftimdp4T09fYj6HTwuKnELCz9zfV58O677xBYBkQE9MyVK5iQjPBwo8eMWVRRTP12YRHFW4T4uLWDBo+HHUePGOSDTJnrFi1CB+t6QzSCQUWaMiIUYVM4pUT6GZJHFVJLvfhOkiqmSBKmmDS98C//hl2UhDFmp+qPU2pXr11nMkQBMRW1eJ92g1kME5ZNhXHX1VcwrHJhii7EQ7fhJcWlAgMdHeg51mYQkIXOprhJtGWpFfJazWFc1xh1fOeuXairLGUZvRD7PtqLhx59FEc6+vi7iJ4iSRdplakKAj4TditXaG05ivUr6rCsuhRtRw7il9veMOtnk1hG/kl87e1njcBFKYhSOl30RpffdYcxdF7G/8X0CrId2556xiBv4OKcf3/nLRNApQBlRGrZpbQK6GeEgY0OMDIT9MUZzKiIPI/rqGMzxthNMZuTIctlNhhiguRj+hnkH7tMC9FNyecrdleoqqBkknPVFPtLJFU9qi8vNoZO/UHqs8JkbsU5TGWnZ01yJKemkDmfxllqoJagqxQBCquqTSBkRf4s2W+4BNu3bEVRZSVddQBDVAFZfbvd99ILlgTZHXy6Mk8jwGw0ga0//BHmCaBEvKycRubGW8AaKwpYZlL9TWLkpX8NESmJXpQWX4WMvGCQ9T0nDrR2I8fvxVLG/DoDUEbp5rGUCKQ8omtuFGc1LjZu0IZF4tlQRVtDFdB4qVgB3Z2AEGGOdg9Q0jIxxiLHex8fRXlJATbcYXHcXmOGbvEv7/1HvPnc8zjywV6724j+hhuuQ03jUtYBpgwDFAeo+dwWgYwE6GR9l2s5gutGEOvrQZKcjPhz4GfxIElDp3b2FZsQYPw/NcvcOtUUtXkZ8Pzn9t2oq6tRGmYsuuL8Ooq6kJHOigKKHRSd9bGgWcM4wegr1+mlFRyka6wvLzFhtB0uq4ByrPsEz/gm8PLv9hgNWLO8AVfdfjMKaxen5wuUnLxcVNQtRoQFj2nCbqkLpYu1ir+4524DrQozgkOuUJGovICaIYDKBBsyWlB1y40U1VlEyN0ZipsOOUMMO4eIxGHm0pduvs5Msj9Eze88+AM8dv8DGGEdb+mqxfiIxdGu/iGsXbKYXJ2lm/OagETGURwdoqu01UL5ugghtdH5gdvlN79l0BTNdfJUV+HsbXfdgk1f+qIJxlStsrlowxFnMjVFCTnOeqKQd7OYoirUj976L3sIZujCtVdKW5HjsQq0aRvQ0T6Ab/0toyqKs4diXL641hyOKs9uOvccfO7O21DCitHCJiMovf7uIz82oWiU6fPf33A72ltDBmk7e9McSYV0OpcGc5LR4sKmA88QiyKq+6lJz1l+IjJASUkRzr/uWngDOvBgv+2E9EW3V9RFrqpeKDVUYSTOkL5sUY1FKA7TGNk2W+q0h/N0G1BTw5ofrXMDffY9D/8bqW0ZHkMzRk80P6aAmaCnsAqaqh0wu1MlZjoER5zJkdeP1eefQ/fVbhCWiqiRKRYBqAKy6DrO0rpSCVOoJGGmKA3yDsoahWiMHPNQKqpqylCa60S8+zDdGwnr9CDLFzA5S3Ke5TcSKhDwYmZizNQxtZ+Y0nTOekxQevOUMJFRYbrDhc26mkNCKAnh3ozpVfaaR9uBg3jnsUdYyj5hLKn02MNQVzm7TmNEeJ0OKXtzMYwNMhCqoBHrYygr9Vm3qhavcMPO/hFmgqoZsMzHAociwXnOERd0Pnh6C3KtMD1FMMt6p2stOulhUQ4//e4D9MxZFGsWSk6fmPotpKU6anr2HmzGlvu+j3yql9LuaCyBOt4jsFtsNkkGkgDff6KLfeRHRpfJ7mTZjx1uSy+mCTMUWQFub6A+FTISiRkanRn09w6l3//ujd9T9Bw43n/CxPtKjeUBvBRP2V1KIy85MeEh4fXD3JHSgtR5SUGCuYOM1AeHjqGePl0lM4MAkTcinEJSUxY2qZtUUsZW63pZPhejhhlmqzlZ1zDUEwBsv2+exMazWWavq/byssMM/TM35gsZK2JqBi38WIi8+m19svv1W2Gqaz6TZ3F55nBV6+mkWe7NyfUVwmZk8MiMAcwcb3I5pefcdYY5vKTJoxiEUnKooxs+RpNf++ub8MGuQ8Zt1jfWYI5xhdJvEVWSFwzmmOqSN9uNBN1oZ0cbL16ETNh+zXWXmJNtSY4IIfy6+qyMU3Bdtj5AHGhsN56Xz2slcTzw1H4UsviQzaivhbc/NLGsrJB+3Ycvf3kzz+m9wppT1RYSaGGfvs9jjG7thhu+Y+oARUxYNG2ees7TOhosHpbQQovaHtkP9gtp1QFVRVKM3z8ygW9/6w6csWap+TNb/g8+eOeCQVsM0wxlmlYvNUbXntbdQ0noGzI/BaXMkyICZ0FuFnpOhFmSniHViSSbqrgUTtxz91+hv2+QcfykKUym8TeyYoYu+NCyag6e5+ca4h1s78Gms1cZjsXpWiUtEeq5YgORkHJn3F9AxNVMbjBCNylbcuml602fPmRM9U+qoO+SNPupErj6lWAVM/YYHhgy+/R09rMWMcs7B100mFlkLuMZbSpm8KEUQhRwKrx8+tetp+i3AFU8/cmhNjzw/cdxzrln4Kt/cxtn/GHTWGmMKjkqQOi7gLvj9qvxwIM/N0FOYa4/vb5qftkUd0GiuSeJalWA9x5pN5s8+dhW9NAQy37IALvoESYmJo2qVDDxyqX4R+g6q2rKWedj7YL1gnGeMs9TRaQmY2MThMcinE6L3FQTkTzdzMapesBNm2rx6o5+HO+1UksToHDkD3/0rLnN8d77+9DXP0xKJ1FZXcYjbR92vrePupVANmOGUlJel6pGh8fpUejKqD7TBK6QYfDeT47hmovWm8MQIaxm2w/7qT75fh2OTJP7Opo/c90anhXyYgW5K2aIqLJPlAP+MbLU99R6RRUBlFbXYGRiGjnRpBlfwlBeOJZVliMc4kk18xtxX00P6b+as3cgjJ+9cJCTmCDQgOk8TyKVpGhFaTzE0iXL6lDOY6c5+t1iZnc6aLzsis9QFC1XqCel0hg8CgKBk1fJYOHChe/d/zArOsexjmvIIKrZgIsA+m5qgYSnneqmeqLKagMDTLycVrgqu6CrumoZDt1Z5FN7ch8RSGtIfYdYxlNUW1NTgcOHO8mobCMFKvWrZmlkn3BmMn1PxwGLKnPxT986H1/7x7fNoqKsjJIWNcUHppvrz11vFpBuql+ipVBVTe6QkYH5bt0REocsldi7r8WEwrp2u5tubVVDDUNbHpCKSmxCXGuNhaYwOhnhBSkXCeAxUeE7O3bge/d8jeJP/Wber0KmMNfqglGIL2yq93mp6+GxMK/a0NglpuF0uFDMzFORorLM+XndbxZjyCBbGnRJiuvi7aMB/HLrmzxT87E0FUSZSk5+D6oXV/EIKoTcXJ8xjhrsp9h7vPKrLIjKzUj/aUsU1bk9Th5bh/DEz17E0aMdPCJPspxVS8PHO0BE1JVFqaEEyeJbBx88LyBRRAzLXSWxn9fo1HwkyI03X8lrN2NUs2KsWb3CSJ9qAXYeochR9iEajeODPQfw5uvbzR2mStYiZPwu3XgRKnhVJ8zsdMtzvzF3kIMBN+77epORsPQtsfc7i3gpcZqUsQ4u8vOpVyX5hlKGQgakk5QT0SQpfr+bwRAPMNlRWZmPb3zzBzh4sNWM1kc1OVDJaEw6LouttcQRKaIMnJp03G7S734eZ3/mrJVYvvYs3h14De8eOGoObnRF55KLzsLm668wcGqNhZLQeqzXhNOSdUnJ0qVVZpz2FMGbm4+j/dhxXPvZBtTmhc2WBgIhE57itXZOspB1oLg4aJC3gJS86I9iS6raTbo+SfepwKS3dwCXbfwiXMFibP7sBbipsRTZlIg4b41wgFlXtkXI20SwjNtJUVYEGKKkrPczaRoeQA7T76888ggeefZxXHvlZ6jTfur5GJ565mUTbSpqVBP8+isvK9Av0yepbGnpsfZlV4TxQYJ7L6qvhSunhKMsfCwCmCmyjNYXiZTEWR0CVoDZ7+RvtRlpRcvKyI3Fio6OTtxz709w3c2bcfumC7A4I44C1fJpBIepe87wKBe21jLr2Yux1yK4DFMmS2a9ONrSobQLMZ5JHHj4X/HmF27C8f/cij+79vO4/8cPQv7dz6zx/z74BOfq5gfVh2qnTFPRo5goKdY9BxGh/fgAhocmMHCC1dfUfsobDBL8bQhA/GgYqIMpi1rOJEbiatJSvpPHENJq9lNSLLF6fdt23Hv/Y/ja//47XkNvwujhg4jw2oyGX1wR5AlNJj4cDCErdWRlrZFaTD/YZGxV99cdpVsbi1HAOTKyIjxFBiPN+3HgJw9ikqHuD59/Ghk0jKo1PP6zLYYJMeq/bRPKqLbaXFPVFEPINcu72W0mqjqE9csQQF9zfdbBpb77aPxkkMQd6ZKXaZOAVLMJoF8vbn0NL7y4DZtvuha+Ix+hc9srGDl0wAzSexdXrw8yyiNAR7t6+TgVca2npspw98AIbm4oRo7cFZtiDGMrzC9KG2uQx158Fq0vPIPzeFS2JB6hrWnBCA2k9R8zCCuZlpfvN8ZNO8kNmmN6/iAd0y3Pp0jXamkCUFEZbCzUKUtXJeaRiM7rLeBtyoV5+vP6th1YuWoFzl3RgLFPDiHCu70pwtrr46ySAG6jPZhgzfHg0eOnkECiqrh/iFHbtfWF8JHzdjPct3/wqXUTPOgc2PO+uSh18R13YkOJH08++RKlRYUZRaCSDOJBSdb3yclpVFYobtFN1pOQSX3tlv6am62vLHebkNF+zZ7UPJvzeqrvnu/9GEW8snLrlRvQ9tJzJyec8k1hCWMGSs9dy0v5Zh4fkwiq3Kis1c3DV9XwN9bko1RSRj1OOQa6zwUsW7gmAWh/ZStvpkyijucLEVaqe7oGzAjB1tPNXGDB+DCN9DSLuAqmTEBFHBOKClMtTYDiXPl0J0qKqUNqxNJG3n5aL4APPviY2VscX/3S7Rj9+EOmqVZ9zX5vP0U7miTDPZXTb6KI59E47tp/hP/1pZWJzxQuYSBWE+RZI+t484zyMnid3kGOOXkE5ysqYT8vWVJ6Qixo2C3JzLGXdf5A9SIsZThy/w9+SuSs8FibSVplDNVCDINVOYtLMigVYshC0qZrgrK8dbWMn6XrIhAXsWt+1g1ti2ozpObjP3sZF2/ixcb+bkz1dpuNBhgLlPpcBlnTkfoQEezmpo5uqs7DM0dP4DqKfDZDXbnZEXqK3kQ2vnD7Xamh2is1k3B8+NTPEeARWK7b8kwalNC5RFkFfCzLT/Z0MFEK0XVL3C1bFqD+h3lAI6R1p1jqpncqu00zX0DKm6clQNtpkDilZlNQPy23Yrrx6utvY8M1V2HD2uVG761eYP8Ib4dwcbupeptaynRZ5NOBhLW+i4gTVMsNZXlQWqGgxQheej/9VozRx9I4hdhaWowRF/kM8X+OlPCER4lSt06X6Q102iwJkP4Lbtt2abJ+i7tSSbudJECqT/V4u6loybXMBvbknbv3I8CzgDkGKrGJk/f+YjQ8O/tCRng034ib2dASKPtTBC7y8t4/d5arVX+YhxbBDGV8FFFuuPBP55F0CSh1nzSQFny8ttN+DBn0Fmpy2YKxsDBoVFlwa30LblXcrHsBGhuNnWTUSWz5QvDqrE9NwMS5ivrUBJTihDD1dmZsBJMzCm5OtuocD1rHVVi12jy9h6RYasTF2JlaiN/+vM46bJG1Vlucw1spfcfQvJVBEI2VXNYckc6gdR8K8c4SL0K6HFbRxEzghzGvVG49lWB1dfVj5cqljE0yqQp5FPtZxghxGkDdM7D8vh051lbyf6GkQE1LgBYWtSyuWNuIakanrJ+0nvTNJEQuI6/Jvu5UrzWvNteDWW2U7uUXcsEm4MLu079LIg2dGCwleL0tyRL7HIFPsBCqPfO5X/YCF6n52kewqLnI6ebDlAYuJBsWYL2iqrKINUMVYjSCZXYabeES4LEbH+l2KgE4WGd7AkaDVeURElpDAZF8ajZvb/l4sSDOSE1nB8ZtMVTMZb1f/DT/x5EAmUiSTxtIEdf8cW29MzaCTzX1+6lWft401zlgph0F8l2hLwvV9ExSR7tpfJxATVHKMugxosxEN2/eSEGjbVCIyqazS9Uzg8xiS0p4dkn4de9JCdLCls4G1RlzFtLUzKEvko8qP4sLKfbJ7EjU1N58r4X/Xa2G/+uLFydYH4iwCqNXvjy6Mv4PThEuEprmHaMwffw0wqOTmGAo7CACvtxs5JcGESzMQVl9KW9zJHB451GM9PLQ9PLV8Pjc6Gnpt+aOR0yBs7apGkvPbkBncw96jvJ2GNWiqLIQv9h2gBerPfjyLedglC5u5dIyxJK8U0hgJB06NNFvJ0+5XZmKKiUHrFbJkcyetF2nEMBgyA+JTQp3u+tPespS6wxA/6lakmAkgNCdHuUlGfTY1R8RU1xMyKNwrJNxgwycYFKz4Tp0bARFDLNLi/S/yv70dooRtJexN7F//6lPK5mS9KhZn5+2Vhr51DCFrbqntLCdDlNTQ+HC13/y9/8H+d1TRmFeITkAAAAASUVORK5CYII="}],vP={"Aaron likes you":{type:"boolean",default:"value"},name:{type:"string",default:"value"}},yP={"ask player name":{}},Tg={id:dP,updatedAt:hP,name:pP,dialogues:gP,participants:mP,variables:vP,functions:yP};var Mc={};Mc.stringify=function(t){var n=[];n.push({obj:t});for(var r="",i,o,a,s,l,u,f,c,d,v,y;i=n.pop();)if(o=i.obj,a=i.prefix||"",s=i.val||"",r+=a,s)r+=s;else if(typeof o!="object")r+=typeof o>"u"?null:JSON.stringify(o);else if(o===null)r+="null";else if(Array.isArray(o)){for(n.push({val:"]"}),l=o.length-1;l>=0;l--)u=l===0?"":",",n.push({obj:o[l],prefix:u});n.push({val:"["})}else{f=[];for(c in o)o.hasOwnProperty(c)&&f.push(c);for(n.push({val:"}"}),l=f.length-1;l>=0;l--)d=f[l],v=o[d],y=l>0?",":"",y+=JSON.stringify(d)+":",n.push({obj:v,prefix:y});n.push({val:"{"})}return r};function co(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var a=t.pop();i[a]=e}else t.push(e)}Mc.parse=function(e){for(var t=[],n=[],r=0,i,o,a,s,l,u,f,c,d;;){if(i=e[r++],i==="}"||i==="]"||typeof i>"u"){if(t.length===1)return t.pop();co(t.pop(),t,n);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":r+=3,co(null,t,n);break;case"t":r+=3,co(!0,t,n);break;case"f":r+=4,co(!1,t,n);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(o="",r--;;)if(a=e[r++],/[\d\.\-e\+]/.test(a))o+=a;else{r--;break}co(parseFloat(o),t,n);break;case'"':for(s="",l=void 0,u=0;f=e[r++],f!=='"'||l==="\\"&&u%2===1;)s+=f,l=f,l==="\\"?u++:u=0;co(JSON.parse('"'+s+'"'),t,n);break;case"[":c={element:[],index:t.length},t.push(c.element),n.push(c);break;case"{":d={element:{},index:t.length},t.push(d.element),n.push(d);break;default:throw new Error("unexpectedly reached end of input: "+i)}}};function Lc(e){return"$"+e}function Wx(e){return e.substring(1)}function Rr(){this._store={}}Rr.prototype.get=function(e){var t=Lc(e);return this._store[t]};Rr.prototype.set=function(e,t){var n=Lc(e);return this._store[n]=t,!0};Rr.prototype.has=function(e){var t=Lc(e);return t in this._store};Rr.prototype.keys=function(){return Object.keys(this._store).map(e=>Wx(e))};Rr.prototype.delete=function(e){var t=Lc(e),n=t in this._store;return delete this._store[t],n};Rr.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],o=this._store[i];i=Wx(i),e(o,i)}};Object.defineProperty(Rr.prototype,"size",{get:function(){return Object.keys(this._store).length}});function ol(e){if(this._store=new Rr,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}ol.prototype.add=function(e){return this._store.set(e,!0)};ol.prototype.has=function(e){return this._store.has(e)};ol.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})};Object.defineProperty(ol.prototype,"size",{get:function(){return this._store.size}});function wP(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}var ca,Ht;wP()?(ca=Set,Ht=Map):(ca=ol,Ht=Rr);function _P(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function xP(e){if(typeof e.slice=="function")return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function SP(e){if(e instanceof ArrayBuffer)return xP(e);var t=e.size,n=e.type;return typeof e.slice=="function"?e.slice(0,t,n):e.webkitSlice(0,t,n)}var Vx=Function.prototype.toString,EP=Vx.call(Object);function bP(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&Vx.call(n)==EP}function pt(e){var t,n,r;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=pt(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(_P(e))return SP(e);if(!bP(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=pt(e[n]);typeof i<"u"&&(t[n]=i)}return t}function Kx(e){var t=!1;return function(...n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}}function Gx(e){return function(...t){t=pt(t);var n=this,r=typeof t[t.length-1]=="function"?t.pop():!1,i=new Promise(function(o,a){var s;try{var l=Kx(function(u,f){u?a(u):o(f)});t.push(l),s=e.apply(n,t),s&&typeof s.then=="function"&&o(s)}catch(u){a(u)}});return r&&i.then(function(o){r(null,o)},r),i}}function kP(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(a,s){var l=["api",e.name,t];l=l.concat(a?["error",a]:["success",s]),e.constructor.emit("debug",l),o(a,s)}}}function nt(e,t){return Gx(function(...n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return kP(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(i,o){r.taskqueue.addTask(function(a){a?o(a):i(r[e].apply(r,n))})})})}function al(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}var CP=6;function x0(e){return e}function AP(e){return[{ok:e}]}function Yx(e,t,n){var r=t.docs,i=new Ht;r.forEach(function(_){i.has(_.id)?i.get(_.id).push(_):i.set(_.id,[_])});var o=i.size,a=0,s=new Array(o);function l(){var _=[];s.forEach(function(x){x.docs.forEach(function(h){_.push({id:x.id,docs:[h]})})}),n(null,{results:_})}function u(){++a===o&&l()}function f(_,x,h){s[_]={id:x,docs:h},u()}var c=[];i.forEach(function(_,x){c.push(x)});var d=0;function v(){if(!(d>=c.length)){var _=Math.min(d+CP,c.length),x=c.slice(d,_);y(x,d),d+=x.length}}function y(_,x){_.forEach(function(h,m){var g=x+m,p=i.get(h),w=al(p[0],["atts_since","attachments"]);w.open_revs=p.map(function(C){return C.rev}),w.open_revs=w.open_revs.filter(x0);var S=x0;w.open_revs.length===0&&(delete w.open_revs,S=AP),["revs","attachments","binary","ajax","latest"].forEach(function(C){C in t&&(w[C]=t[C])}),e.get(h,w,function(C,R){var O;C?O=[{error:C}]:O=S(R),f(g,h,O),v()})})}v()}var Eh;try{localStorage.setItem("_pouch_check_localstorage",1),Eh=!!localStorage.getItem("_pouch_check_localstorage")}catch{Eh=!1}function Vu(){return Eh}class RP extends _n{constructor(){super(),this._listeners={},Vu()&&addEventListener("storage",t=>{this.emit(t.key)})}addListener(t,n,r,i){if(this._listeners[n])return;var o=!1,a=this;function s(){if(!a._listeners[n])return;if(o){o="waiting";return}o=!0;var l=al(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function u(){o=!1}r.changes(l).on("change",function(f){f.seq>i.since&&!i.cancelled&&(i.since=f.seq,i.onChange(f))}).on("complete",function(){o==="waiting"&&nr(s),o=!1}).on("error",u)}this._listeners[n]=s,this.on(t,s)}removeListener(t,n){n in this._listeners&&(super.removeListener(t,this._listeners[n]),delete this._listeners[n])}notifyLocalWindows(t){Vu()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")}notify(t){this.emit(t),this.notifyLocalWindows(t)}}function xn(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function NP(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>n&&(e=n>>1,t=n);var r=Math.random(),i=t-e;return~~(i*r+e)}function TP(e){var t=0;return e||(t=2e3),NP(e,t)}function bh(e,t){xn("info","The above "+e+" is totally normal. "+t)}var kh;typeof Object.assign=="function"?kh=Object.assign:kh=function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var Ki=kh;class qe extends Error{constructor(t,n,r){super(),this.status=t,this.name=n,this.message=r,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new qe(401,"unauthorized","Name or password is incorrect.");var OP=new qe(400,"bad_request","Missing JSON list of 'docs'"),fn=new qe(404,"not_found","missing"),fa=new qe(409,"conflict","Document update conflict"),Jx=new qe(400,"bad_request","_id field must contain a string"),PP=new qe(412,"missing_id","_id is required for puts"),DP=new qe(400,"bad_request","Only reserved document ids may start with underscore.");new qe(412,"precondition_failed","Database not open");var Og=new qe(500,"unknown_error","Database encountered an unknown error"),Qx=new qe(500,"badarg","Some query argument is invalid");new qe(400,"invalid_request","Request was invalid");var IP=new qe(400,"query_parse_error","Some query parameter is invalid"),S0=new qe(500,"doc_validation","Bad special document member"),Bc=new qe(400,"bad_request","Something wrong with the request"),Df=new qe(400,"bad_request","Document must be a JSON object");new qe(404,"not_found","Database not found");var Pg=new qe(500,"indexed_db_went_bad","unknown");new qe(500,"web_sql_went_bad","unknown");new qe(500,"levelDB_went_went_bad","unknown");new qe(403,"forbidden","Forbidden by design doc validate_doc_update function");var Zx=new qe(400,"bad_request","Invalid rev format");new qe(412,"file_exists","The database could not be created, the file already exists.");var MP=new qe(412,"missing_stub","A pre-existing attachment stub wasn't found");new qe(413,"invalid_url","Provided URL is invalid");function me(e,t){function n(r){for(var i=Object.getOwnPropertyNames(e),o=0,a=i.length;o<a;o++)typeof e[i[o]]!="function"&&(this[i[o]]=e[i[o]]);this.stack===void 0&&(this.stack=new Error().stack),r!==void 0&&(this.reason=r)}return n.prototype=qe.prototype,new n(t)}function da(e){if(typeof e!="object"){var t=e;e=Og,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}function LP(e,t,n){try{return!e(t,n)}catch(i){var r="Filter function threw: "+i.toString();return me(Bc,r)}}function Dg(e){var t={},n=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(i){i.doc||(i.doc={});var o=n&&LP(e.filter,i.doc,t);if(typeof o=="object")return o;if(o)return!1;if(!e.include_docs)delete i.doc;else if(!e.attachments)for(var a in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,a)&&(i.doc._attachments[a].stub=!0);return!0}}function Ku(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function Xx(e){var t;if(e?typeof e!="string"?t=me(Jx):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=me(DP)):t=me(PP),t)throw t}function Zn(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(xn("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function BP(e,t){return"listenerCount"in e?e.listenerCount(t):_n.listenerCount(e,t)}function Ch(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function E0(e){var t=Ch(e);return t?t.join("/"):null}var b0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],k0="queryKey",zP=/(?:^|&)([^&=]*)=?([^&]*)/g,jP=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function eS(e){for(var t=jP.exec(e),n={},r=14;r--;){var i=b0[r],o=t[r]||"",a=["user","password"].indexOf(i)!==-1;n[i]=a?decodeURIComponent(o):o}return n[k0]={},n[b0[12]].replace(zP,function(s,l,u){l&&(n[k0][l]=u)}),n}function Ig(e,t){var n=[],r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function Gu(e,t,n){return e.get(t).catch(function(r){if(r.status!==404)throw r;return{}}).then(function(r){var i=r._rev,o=n(r);return o?(o._id=t,o._rev=i,FP(e,o,n)):{updated:!1,rev:i}})}function FP(e,t,n){return e.put(t).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(r.status!==409)throw r;return Gu(e,t._id,n)})}var Mg=function(e){return atob(e)},sl=function(e){return btoa(e)};function Lg(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError")throw o;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function UP(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function Bg(e,t){return Lg([UP(e)],{type:t})}function zg(e,t){return Bg(Mg(e),t)}function HP(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function tS(e,t){var n=new FileReader,r=typeof n.readAsBinaryString=="function";n.onloadend=function(i){var o=i.target.result||"";if(r)return t(o);t(HP(o))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function nS(e,t){tS(e,function(n){t(n)})}function jg(e,t){nS(e,function(n){t(sl(n))})}function qP(e,t){var n=new FileReader;n.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);t(i)},n.readAsArrayBuffer(e)}var $P=self.setImmediate||self.setTimeout,WP=32768;function VP(e){return sl(e)}function KP(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function GP(e,t,n,r,i){(n>0||r<t.size)&&(t=KP(t,n,r)),qP(t,function(o){e.append(o),i()})}function YP(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function Fg(e,t){var n=typeof e=="string",r=n?e.length:e.size,i=Math.min(WP,r),o=Math.ceil(r/i),a=0,s=n?new _h:new _h.ArrayBuffer,l=n?YP:GP;function u(){$P(c)}function f(){var d=s.end(!0),v=VP(d);t(v),s.destroy()}function c(){var d=a*i,v=d+i;a++,a<o?l(s,e,d,v,u):l(s,e,d,v,f)}c()}function rS(e){return _h.hash(e)}function iS(e,t){if(!t)return Ng().replace(/-/g,"").toLowerCase();var n=Ki({},e);return delete n._rev_tree,rS(JSON.stringify(n))}var zc=Ng;function Gi(e){for(var t,n,r,i=e.rev_tree.slice(),o;o=i.pop();){var a=o.ids,s=a[2],l=o.pos;if(s.length){for(var u=0,f=s.length;u<f;u++)i.push({pos:l+1,ids:s[u]});continue}var c=!!a[1].deleted,d=a[0];(!t||(r!==c?r:n!==l?n<l:t<d))&&(t=d,n=l,r=c)}return n+"-"+t}function Yi(e,t){for(var n=e.slice(),r;r=n.pop();)for(var i=r.pos,o=r.ids,a=o[2],s=t(a.length===0,i,o[0],r.ctx,o[1]),l=0,u=a.length;l<u;l++)n.push({pos:i+1,ids:a[l],ctx:s})}function JP(e,t){return e.pos-t.pos}function Ug(e){var t=[];Yi(e,function(i,o,a,s,l){i&&t.push({rev:o+"-"+a,pos:o,opts:l})}),t.sort(JP).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Hg(e){for(var t=Gi(e),n=Ug(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var a=n[i];a.rev!==t&&!a.opts.deleted&&r.push(a.rev)}return r}function QP(e){var t=[];return Yi(e.rev_tree,function(n,r,i,o,a){a.status==="available"&&!n&&(t.push(r+"-"+i),a.status="missing")}),t}function ZP(e,t){let n=[];const r=e.slice();let i;for(;i=r.pop();){const{pos:o,ids:a}=i,s=`${o}-${a[0]}`,l=a[2];if(n.push(s),s===t){if(l.length!==0)throw new Error("The requested revision is not a leaf");return n.reverse()}(l.length===0||l.length>1)&&(n=[]);for(let u=0,f=l.length;u<f;u++)r.push({pos:o+1,ids:l[u]})}if(n.length===0)throw new Error("The requested revision does not exist");return n.reverse()}function oS(e){for(var t=[],n=e.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,a=o[0],s=o[1],l=o[2],u=l.length===0,f=r.history?r.history.slice():[];f.push({id:a,opts:s}),u&&t.push({pos:i+1-f.length,ids:f});for(var c=0,d=l.length;c<d;c++)n.push({pos:i+1,ids:l[c],history:f})}return t.reverse()}function XP(e,t){return e.pos-t.pos}function e5(e,t,n){for(var r=0,i=e.length,o;r<i;)o=r+i>>>1,n(e[o],t)<0?r=o+1:i=o;return r}function t5(e,t,n){var r=e5(e,t,n);e.splice(r,0,t)}function C0(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function n5(e,t){return e[0]<t[0]?-1:1}function A0(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status=o[1].status==="available"||a[1].status==="available"?"available":"missing");for(var s=0;s<a[2].length;s++){if(!o[2][0]){r="new_leaf",o[2][0]=a[2][s];continue}for(var l=!1,u=0;u<o[2].length;u++)o[2][u][0]===a[2][s][0]&&(n.push({tree1:o[2][u],tree2:a[2][s]}),l=!0);l||(r="new_branch",t5(o[2],a[2][s],n5))}}return{conflicts:r,tree:e}}function aS(e,t,n){var r=[],i=!1,o=!1,a;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,l=e.length;s<l;s++){var u=e[s];if(u.pos===t.pos&&u.ids[0]===t.ids[0])a=A0(u.ids,t.ids),r.push({pos:u.pos,ids:a.tree}),i=i||a.conflicts,o=!0;else if(n!==!0){var f=u.pos<t.pos?u:t,c=u.pos<t.pos?t:u,d=c.pos-f.pos,v=[],y=[];for(y.push({ids:f.ids,diff:d,parent:null,parentIdx:null});y.length>0;){var _=y.pop();if(_.diff===0){_.ids[0]===c.ids[0]&&v.push(_);continue}for(var x=_.ids[2],h=0,m=x.length;h<m;h++)y.push({ids:x[h],diff:_.diff-1,parent:_.ids,parentIdx:h})}var g=v[0];g?(a=A0(g.ids,c.ids),g.parent[2][g.parentIdx]=a.tree,r.push({pos:f.pos,ids:f.ids}),i=i||a.conflicts,o=!0):r.push(u)}else r.push(u)}return o||r.push(t),r.sort(XP),{tree:r,conflicts:i||"internal_node"}}function r5(e,t){for(var n=oS(e),r,i,o=0,a=n.length;o<a;o++){var s=n[o],l=s.ids,u;if(l.length>t){r||(r={});var f=l.length-t;u={pos:s.pos+f,ids:C0(l,f)};for(var c=0;c<f;c++){var d=s.pos+c+"-"+l[c].id;r[d]=!0}}else u={pos:s.pos,ids:C0(l,0)};i?i=aS(i,u,!0).tree:i=[u]}return r&&Yi(i,function(v,y,_){delete r[y+"-"+_]}),{tree:i,revs:r?Object.keys(r):[]}}function sS(e,t,n){var r=aS(e,t),i=r5(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function i5(e,t){for(var n=e.slice(),r=t.split("-"),i=parseInt(r[0],10),o=r[1],a;a=n.pop();){if(a.pos===i&&a.ids[0]===o)return!0;for(var s=a.ids[2],l=0,u=s.length;l<u;l++)n.push({pos:a.pos+1,ids:s[l]})}return!1}function o5(e){return e.ids}function gr(e,t){t||(t=Gi(e));for(var n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(o5),i;i=r.pop();){if(i[0]===n)return!!i[1].deleted;r=r.concat(i[2])}}function Bi(e){return/^_local/.test(e)}function a5(e,t){for(var n=t.rev_tree.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,a=o[0],s=o[1],l=o[2],u=l.length===0,f=r.history?r.history.slice():[];if(f.push({id:a,pos:i,opts:s}),u)for(var c=0,d=f.length;c<d;c++){var v=f[c],y=v.pos+"-"+v.id;if(y===e)return i+"-"+a}for(var _=0,x=l.length;_<x;_++)n.push({pos:i+1,ids:l[_],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function s5(e,t,n,r){try{e.emit("change",t,n,r)}catch(i){xn("error",'Error in .on("change", function):',i)}}function l5(e,t,n){var r=[{rev:e._rev}];n.style==="all_docs"&&(r=Ug(t.rev_tree).map(function(o){return{rev:o.rev}}));var i={id:t.id,changes:r,doc:e};return gr(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=Hg(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class u5 extends _n{constructor(t,n,r){super(),this.db=t,n=n?pt(n):{};var i=n.complete=Kx((s,l)=>{s?BP(this,"error")>0&&this.emit("error",s):this.emit("complete",l),this.removeAllListeners(),t.removeListener("destroyed",o)});r&&(this.on("complete",function(s){r(null,s)}),this.on("error",r));const o=()=>{this.cancel()};t.once("destroyed",o),n.onChange=(s,l,u)=>{this.isCancelled||s5(this,s,l,u)};var a=new Promise(function(s,l){n.complete=function(u,f){u?l(u):s(f)}});this.once("cancel",function(){t.removeListener("destroyed",o),n.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(s){i(null,s)},i),t.taskqueue.isReady?this.validateChanges(n):t.taskqueue.addTask(s=>{s?n.complete(s):this.isCancelled?this.emit("cancel"):this.validateChanges(n)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(t){var n=t.complete;pe._changesFilterPlugin?pe._changesFilterPlugin.validate(t,r=>{if(r)return n(r);this.doChanges(t)}):this.doChanges(t)}doChanges(t){var n=t.complete;if(t=pt(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=l5,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(i=>{if(this.isCancelled){n(null,{status:"cancelled"});return}t.since=i.update_seq,this.doChanges(t)},n);return}if(pe._changesFilterPlugin){if(pe._changesFilterPlugin.normalize(t),pe._changesFilterPlugin.shouldFilter(this,t))return pe._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(i){i in t&&xn("warn",'The "'+i+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&typeof r.cancel=="function"){const i=this.cancel;this.cancel=(...o)=>{r.cancel(),i.apply(this,o)}}}}function R0(e,t){return e<t?-1:e>t?1:0}function If(e,t){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=t,e(n)):e(null,r.length?r[0]:r)}}function c5(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=al(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function f5(e,t){var n=R0(e._id,t._id);if(n!==0)return n;var r=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return R0(r,i)}function d5(e){var t={},n=[];return Yi(e,function(r,i,o,a){var s=i+"-"+o;return r&&(t[s]=0),a!==void 0&&n.push({from:a,to:s}),s}),n.reverse(),n.forEach(function(r){t[r.from]===void 0?t[r.from]=1+t[r.to]:t[r.from]=Math.min(t[r.from],1+t[r.to])}),t}function h5(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function lS(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(n.last_seq=i.last_seq),e._compact(n,function(o,a){o?r(o):r(null,a),nr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&lS(e)})})})}function p5(e,t,n){return e.get("_local/purges").then(function(r){const i=r.purgeSeq+1;return r.purges.push({docId:t,rev:n,purgeSeq:i}),r.purges.length>self.purged_infos_limit&&r.purges.splice(0,r.purges.length-self.purged_infos_limit),r.purgeSeq=i,r}).catch(function(r){if(r.status!==404)throw r;return{_id:"_local/purges",purges:[{docId:t,rev:n,purgeSeq:0}],purgeSeq:0}}).then(function(r){return e.put(r)})}function g5(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}class uS extends _n{_setup(){this.post=nt("post",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),typeof t!="object"||Array.isArray(t))return r(me(Df));this.bulkDocs({docs:[t]},n,If(r,t._id))}).bind(this),this.put=nt("put",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),typeof t!="object"||Array.isArray(t))return r(me(Df));if(Xx(t._id),Bi(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,r):this._putLocal(t,r);const i=a=>{typeof this._put=="function"&&n.new_edits!==!1?this._put(t,n,a):this.bulkDocs({docs:[t]},n,If(a,t._id))};n.force&&t._rev?(o(),i(function(a){var s=a?null:{ok:!0,id:t._id,rev:t._rev};r(a,s)})):i(r);function o(){var a=t._rev.split("-"),s=a[1],l=parseInt(a[0],10),u=l+1,f=iS();t._revisions={start:u,ids:[f,s]},t._rev=u+"-"+f,n.new_edits=!1}}).bind(this),this.putAttachment=nt("putAttachment",function(t,n,r,i,o){var a=this;typeof o=="function"&&(o=i,i=r,r=null),typeof o>"u"&&(o=i,i=r,r=null),o||xn("warn","Attachment",n,"on document",t,"is missing content_type");function s(l){var u="_rev"in l?parseInt(l._rev,10):0;return l._attachments=l._attachments||{},l._attachments[n]={content_type:o,data:i,revpos:++u},a.put(l)}return a.get(t).then(function(l){if(l._rev!==r)throw me(fa);return s(l)},function(l){if(l.reason===fn.message)return s({_id:t});throw l})}).bind(this),this.removeAttachment=nt("removeAttachment",function(t,n,r,i){this.get(t,(o,a)=>{if(o){i(o);return}if(a._rev!==r){i(me(fa));return}if(!a._attachments)return i();delete a._attachments[n],Object.keys(a._attachments).length===0&&delete a._attachments,this.put(a,i)})}).bind(this),this.remove=nt("remove",function(t,n,r,i){var o;typeof n=="string"?(o={_id:t,_rev:n},typeof r=="function"&&(i=r,r={})):(o=t,typeof n=="function"?(i=n,r={}):(i=r,r=n)),r=r||{},r.was_delete=!0;var a={_id:o._id,_rev:o._rev||r.rev};if(a._deleted=!0,Bi(a._id)&&typeof this._removeLocal=="function")return this._removeLocal(o,i);this.bulkDocs({docs:[a]},r,If(i,a._id))}).bind(this),this.revsDiff=nt("revsDiff",function(t,n,r){typeof n=="function"&&(r=n,n={});var i=Object.keys(t);if(!i.length)return r(null,{});var o=0,a=new Ht;function s(u,f){a.has(u)||a.set(u,{missing:[]}),a.get(u).missing.push(f)}function l(u,f){var c=t[u].slice(0);Yi(f,function(d,v,y,_,x){var h=v+"-"+y,m=c.indexOf(h);m!==-1&&(c.splice(m,1),x.status!=="available"&&s(u,h))}),c.forEach(function(d){s(u,d)})}i.map(function(u){this._getRevisionTree(u,function(f,c){if(f&&f.status===404&&f.message==="missing")a.set(u,{missing:t[u]});else{if(f)return r(f);l(u,c)}if(++o===i.length){var d={};return a.forEach(function(v,y){d[y]=v}),r(null,d)}})},this)}).bind(this),this.bulkGet=nt("bulkGet",function(t,n){Yx(this,t,n)}).bind(this),this.compactDocument=nt("compactDocument",function(t,n,r){this._getRevisionTree(t,(i,o)=>{if(i)return r(i);var a=d5(o),s=[],l=[];Object.keys(a).forEach(function(u){a[u]>n&&s.push(u)}),Yi(o,function(u,f,c,d,v){var y=f+"-"+c;v.status==="available"&&s.indexOf(y)!==-1&&l.push(y)}),this._doCompaction(t,l,r)})}).bind(this),this.compact=nt("compact",function(t,n){typeof t=="function"&&(n=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:n}),this._compactionQueue.length===1&&lS(this)}).bind(this),this.get=nt("get",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),typeof t!="string")return r(me(Jx));if(Bi(t)&&typeof this._getLocal=="function")return this._getLocal(t,r);var i=[];const o=()=>{var l=[],u=i.length;if(!u)return r(null,l);i.forEach(f=>{this.get(t,{rev:f,revs:n.revs,latest:n.latest,attachments:n.attachments,binary:n.binary},function(c,d){if(c)l.push({missing:f});else{for(var v,y=0,_=l.length;y<_;y++)if(l[y].ok&&l[y].ok._rev===d._rev){v=!0;break}v||l.push({ok:d})}u--,u||r(null,l)})})};if(n.open_revs){if(n.open_revs==="all")this._getRevisionTree(t,function(l,u){if(l)return r(l);i=Ug(u).map(function(f){return f.rev}),o()});else if(Array.isArray(n.open_revs)){i=n.open_revs;for(var a=0;a<i.length;a++){var s=i[a];if(!(typeof s=="string"&&/^\d+-/.test(s)))return r(me(Zx))}o()}else return r(me(Og,"function_clause"));return}return this._get(t,n,(l,u)=>{if(l)return l.docId=t,r(l);var f=u.doc,c=u.metadata,d=u.ctx;if(n.conflicts){var v=Hg(c);v.length&&(f._conflicts=v)}if(gr(c,f._rev)&&(f._deleted=!0),n.revs||n.revs_info){for(var y=f._rev.split("-"),_=parseInt(y[0],10),x=y[1],h=oS(c.rev_tree),m=null,g=0;g<h.length;g++){var p=h[g],w=p.ids.map(function(z){return z.id}).indexOf(x),S=w===_-1;(S||!m&&w!==-1)&&(m=p)}if(!m)return l=new Error("invalid rev tree"),l.docId=t,r(l);var C=m.ids.map(function(z){return z.id}).indexOf(f._rev.split("-")[1])+1,R=m.ids.length-C;if(m.ids.splice(C,R),m.ids.reverse(),n.revs&&(f._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map(function(z){return z.id})}),n.revs_info){var O=m.pos+m.ids.length;f._revs_info=m.ids.map(function(z){return O--,{rev:O+"-"+z.id,status:z.opts.status}})}}if(n.attachments&&f._attachments){var B=f._attachments,F=Object.keys(B).length;if(F===0)return r(null,f);Object.keys(B).forEach(z=>{this._getAttachment(f._id,z,B[z],{rev:f._rev,binary:n.binary,ctx:d},function(T,M){var D=f._attachments[z];D.data=M,delete D.stub,delete D.length,--F||r(null,f)})})}else{if(f._attachments)for(var L in f._attachments)Object.prototype.hasOwnProperty.call(f._attachments,L)&&(f._attachments[L].stub=!0);r(null,f)}})}).bind(this),this.getAttachment=nt("getAttachment",function(t,n,r,i){r instanceof Function&&(i=r,r={}),this._get(t,r,(o,a)=>{if(o)return i(o);if(a.doc._attachments&&a.doc._attachments[n])r.ctx=a.ctx,r.binary=!0,this._getAttachment(t,n,a.doc._attachments[n],r,i);else return i(me(fn))})}).bind(this),this.allDocs=nt("allDocs",function(t,n){if(typeof t=="function"&&(n=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return n(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(i){return i in t})[0];if(r){n(me(IP,"Query parameter `"+r+"` is not compatible with multi-get"));return}if(!Zn(this)&&(h5(t),t.keys.length===0))return this._allDocs({limit:0},n)}return this._allDocs(t,n)}).bind(this),this.close=nt("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}).bind(this),this.info=nt("info",function(t){this._info((n,r)=>{if(n)return t(n);r.db_name=r.db_name||this.name,r.auto_compaction=!!(this.auto_compaction&&!Zn(this)),r.adapter=this.adapter,t(null,r)})}).bind(this),this.id=nt("id",function(t){return this._id(t)}).bind(this),this.bulkDocs=nt("bulkDocs",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),n=n||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return r(me(OP));for(var i=0;i<t.docs.length;++i)if(typeof t.docs[i]!="object"||Array.isArray(t.docs[i]))return r(me(Df));var o;if(t.docs.forEach(function(l){l._attachments&&Object.keys(l._attachments).forEach(function(u){o=o||g5(u),l._attachments[u].content_type||xn("warn","Attachment",u,"on document",l._id,"is missing content_type")})}),o)return r(me(Bc,o));"new_edits"in n||("new_edits"in t?n.new_edits=t.new_edits:n.new_edits=!0);var a=this;!n.new_edits&&!Zn(a)&&t.docs.sort(f5),c5(t.docs);var s=t.docs.map(function(l){return l._id});this._bulkDocs(t,n,function(l,u){if(l)return r(l);if(n.new_edits||(u=u.filter(function(d){return d.error})),!Zn(a))for(var f=0,c=u.length;f<c;f++)u[f].id=u[f].id||s[f];r(null,u)})}).bind(this),this.registerDependentDatabase=nt("registerDependentDatabase",function(t,n){var r=pt(this.__opts);this.__opts.view_adapter&&(r.adapter=this.__opts.view_adapter);var i=new this.constructor(t,r);function o(a){return a.dependentDbs=a.dependentDbs||{},a.dependentDbs[t]?!1:(a.dependentDbs[t]=!0,a)}Gu(this,"_local/_pouch_dependentDbs",o).then(function(){n(null,{db:i})}).catch(n)}).bind(this),this.destroy=nt("destroy",function(t,n){typeof t=="function"&&(n=t,t={});var r="use_prefix"in this?this.use_prefix:!0;const i=()=>{this._destroy(t,(o,a)=>{if(o)return n(o);this._destroyed=!0,this.emit("destroyed"),n(null,a||{ok:!0})})};if(Zn(this))return i();this.get("_local/_pouch_dependentDbs",(o,a)=>{if(o)return o.status!==404?n(o):i();var s=a.dependentDbs,l=this.constructor,u=Object.keys(s).map(f=>{var c=r?f.replace(new RegExp("^"+l.prefix),""):f;return new l(c,this.__opts).destroy()});Promise.all(u).then(i,n)})}).bind(this)}_compact(t,n){var r={return_docs:!1,last_seq:t.last_seq||0},i=[],o,a=0;const s=f=>{this.activeTasks.update(o,{completed_items:++a}),i.push(this.compactDocument(f.id,0))},l=f=>{this.activeTasks.remove(o,f),n(f)},u=f=>{var c=f.last_seq;Promise.all(i).then(()=>Gu(this,"_local/compaction",d=>!d.last_seq||d.last_seq<c?(d.last_seq=c,d):!1)).then(()=>{this.activeTasks.remove(o),n(null,{ok:!0})}).catch(l)};this.info().then(f=>{o=this.activeTasks.add({name:"database_compaction",total_items:f.update_seq-r.last_seq}),this.changes(r).on("change",s).on("complete",u).on("error",l)})}changes(t,n){return typeof t=="function"&&(n=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new u5(this,t,n)}type(){return typeof this._type=="function"?this._type():this.adapter}}uS.prototype.purge=nt("_purge",function(e,t,n){if(typeof this._purge>"u")return n(me(Og,"Purge is not implemented in the "+this.adapter+" adapter."));var r=this;r._getRevisionTree(e,(i,o)=>{if(i)return n(i);if(!o)return n(me(fn));let a;try{a=ZP(o,t)}catch(s){return n(s.message||s)}r._purge(e,a,(s,l)=>{if(s)return n(s);p5(r,e,t).then(function(){return n(null,l)})})})});class m5{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()}fail(t){this.failed=t,this.execute()}ready(t){this.isReady=!0,this.db=t,this.execute()}addTask(t){this.queue.push(t),this.failed&&this.execute()}}function v5(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=pe.adapters,i=pe.preferredAdapters,o=pe.prefix,a=t.adapter;if(!a)for(var s=0;s<i.length;++s){if(a=i[s],a==="idb"&&"websql"in r&&Vu()&&localStorage["_pouch__websqldb_"+o+e]){xn("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var l=r[a],u=l&&"use_prefix"in l?l.use_prefix:!0;return{name:u?o+e:e,adapter:a}}function y5(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e}})}function cS(e,t){let n=function(...r){if(!(this instanceof n))return new n(...r);t.apply(this,r)};return y5(n,e),n}function w5(e){function t(r){e.removeListener("closed",n),r||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}class N0 extends uS{constructor(t,n){super(),this._setup(t,n)}_setup(t,n){if(super._setup(),n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n.deterministic_revs===void 0&&(n.deterministic_revs=!0),this.__opts=n=pt(n),this.auto_compaction=n.auto_compaction,this.purged_infos_limit=n.purged_infos_limit||1e3,this.prefix=pe.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var r=(n.prefix||"")+t,i=v5(r,n);if(n.name=i.name,n.adapter=n.adapter||i.adapter,this.name=t,this._adapter=n.adapter,pe.emit("debug",["adapter","Picked adapter: ",n.adapter]),!pe.adapters[n.adapter]||!pe.adapters[n.adapter].valid())throw new Error("Invalid Adapter: "+n.adapter);if(n.view_adapter&&(!pe.adapters[n.view_adapter]||!pe.adapters[n.view_adapter].valid()))throw new Error("Invalid View Adapter: "+n.view_adapter);this.taskqueue=new m5,this.adapter=n.adapter,pe.adapters[n.adapter].call(this,n,o=>{if(o)return this.taskqueue.fail(o);w5(this),this.emit("created",this),pe.emit("created",this.name),this.taskqueue.ready(this)})}}const pe=cS(N0,function(e,t){N0.prototype._setup.call(this,e,t)});var _5=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},fS=fetch,Vo=Headers;class x5{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(t){const n=Ng();return this.tasks[n]={id:n,name:t.name,total_items:t.total_items,created_at:new Date().toJSON()},n}get(t){return this.tasks[t]}remove(t,n){return delete this.tasks[t],this.tasks}update(t,n){const r=this.tasks[t];if(typeof r<"u"){const i={id:r.id,name:r.name,created_at:r.created_at,total_items:n.total_items||r.total_items,completed_items:n.completed_items||r.completed_items,updated_at:new Date().toJSON()};this.tasks[t]=i}return this.tasks}}pe.adapters={};pe.preferredAdapters=[];pe.prefix="_pouch_";var T0=new _n;function S5(e){Object.keys(_n.prototype).forEach(function(n){typeof _n.prototype[n]=="function"&&(e[n]=T0[n].bind(T0))});var t=e._destructionListeners=new Ht;e.on("ref",function(r){t.has(r.name)||t.set(r.name,[]),t.get(r.name).push(r)}),e.on("unref",function(r){if(t.has(r.name)){var i=t.get(r.name),o=i.indexOf(r);o<0||(i.splice(o,1),i.length>1?t.set(r.name,i):t.delete(r.name))}}),e.on("destroyed",function(r){if(t.has(r)){var i=t.get(r);t.delete(r),i.forEach(function(o){o.emit("destroyed",!0)})}})}S5(pe);pe.adapter=function(e,t,n){t.valid()&&(pe.adapters[e]=t,n&&pe.preferredAdapters.push(e))};pe.plugin=function(e){if(typeof e=="function")e(pe);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){pe.prototype[t]=e[t]})}return this.__defaults&&(pe.__defaults=Ki({},this.__defaults)),pe};pe.defaults=function(e){let t=cS(pe,function(n,r){r=r||{},n&&typeof n=="object"&&(r=n,n=r.name,delete r.name),r=Ki({},t.__defaults,r),pe.call(this,n,r)});return t.preferredAdapters=pe.preferredAdapters.slice(),Object.keys(pe).forEach(function(n){n in t||(t[n]=pe[n])}),t.__defaults=Ki({},this.__defaults,e),t};pe.fetch=function(e,t){return fS(e,t)};pe.prototype.activeTasks=pe.activeTasks=new x5;var E5="8.0.1";function qg(e,t){for(var n=e,r=0,i=t.length;r<i;r++){var o=t[r];if(n=n[o],!n)break}return n}function b5(e,t){return e<t?-1:e>t?1:0}function $g(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];r>0&&e[r-1]==="\\"&&(o==="$"||o===".")?n=n.substring(0,n.length-1)+o:o==="."?(t.push(n),n=""):n+=o}return t.push(n),t}var k5=["$or","$nor","$not"];function dS(e){return k5.indexOf(e)>-1}function hS(e){return Object.keys(e)[0]}function C5(e){return e[hS(e)]}function Ks(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(r){Object.keys(r).forEach(function(i){var o=r[i];if(typeof o!="object"&&(o={$eq:o}),dS(i))if(o instanceof Array){if(n[i]){n[i]=!1,t[i]=o;return}var a=[];t[i].forEach(function(l){Object.keys(o).forEach(function(u){var f=o[u],c=Math.max(Object.keys(l).length,Object.keys(f).length),d=Ks([l,f]);Object.keys(d).length<=c||a.push(d)})}),t[i]=a}else t[i]=Ks([o]);else{var s=t[i]=t[i]||{};Object.keys(o).forEach(function(l){var u=o[l];if(l==="$gt"||l==="$gte")return A5(l,u,s);if(l==="$lt"||l==="$lte")return R5(l,u,s);if(l==="$ne")return N5(u,s);if(l==="$eq")return T5(u,s);if(l==="$regex")return O5(u,s);s[l]=u})}})}),t}function A5(e,t,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?e==="$gte"?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):typeof n.$gt<"u"?e==="$gte"?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function R5(e,t,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?e==="$lte"?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):typeof n.$lt<"u"?e==="$lte"?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function N5(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function T5(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function O5(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function pS(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=Ks(e[n].$and));var r=e[t];typeof r=="object"&&pS(r)}return e}function gS(e,t){for(var n in e){n==="$and"&&(t=!0);var r=e[n];typeof r=="object"&&(t=gS(r,t))}return t}function P5(e){var t=pt(e);gS(t,!1)&&(t=pS(t),"$and"in t&&(t=Ks(t.$and))),["$or","$nor"].forEach(function(a){a in t&&t[a].forEach(function(s){for(var l=Object.keys(s),u=0;u<l.length;u++){var f=l[u],c=s[f];(typeof c!="object"||c===null)&&(s[f]={$eq:c})}})}),"$not"in t&&(t.$not=Ks([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];(typeof o!="object"||o===null)&&(o={$eq:o}),t[i]=o}return Ah(t),t}function Ah(e){Object.keys(e).forEach(function(t){var n=e[t];Array.isArray(n)?n.forEach(function(r){r&&typeof r=="object"&&Ah(r)}):t==="$ne"?e.$ne=[n]:t==="$regex"?e.$regex=[n]:n&&typeof n=="object"&&Ah(n)})}function D5(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}function I5(e,t,n){var r=D5(e,t,n);return r+e}var mS=-324,Rh=3,Nh="";function ot(e,t){if(e===t)return 0;e=Ji(e),t=Ji(t);var n=Th(e),r=Th(t);if(n-r!==0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return F5(e,t)}return Array.isArray(e)?j5(e,t):U5(e,t)}function Ji(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Ji(t[r])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];typeof o<"u"&&(e[i]=Ji(o))}}}}return e}function M5(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return H5(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=Nn(n[r]);else for(;++r<i;){var a=n[r];o+=Nn(a)+Nn(e[a])}return o}return""}function Nn(e){var t="\0";return e=Ji(e),Th(e)+Nh+M5(e)+t}function L5(e,t){var n=t,r,i=e[t]==="1";if(i)r=0,t++;else{var o=e[t]==="0";t++;var a="",s=e.substring(t,t+Rh),l=parseInt(s,10)+mS;for(o&&(l=-l),t+=Rh;;){var u=e[t];if(u==="\0")break;a+=u,t++}a=a.split("."),a.length===1?r=parseInt(a,10):r=parseFloat(a[0]+"."+a[1]),o&&(r=r-10),l!==0&&(r=parseFloat(r+"e"+l))}return{num:r,length:t-n}}function B5(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var a=e.pop();i[a]=n}else e.push(n)}}function z5(e){for(var t=[],n=[],r=0;;){var i=e[r++];if(i==="\0"){if(t.length===1)return t.pop();B5(t,n);continue}switch(i){case"1":t.push(null);break;case"2":t.push(e[r]==="1"),r++;break;case"3":var o=L5(e,r);t.push(o.num),r+=o.length;break;case"4":for(var a="";;){var s=e[r];if(s==="\0")break;a+=s,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var u={element:{},index:t.length};t.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function j5(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=ot(e[r],t[r]);if(i!==0)return i}return e.length===t.length?0:e.length>t.length?1:-1}function F5(e,t){return e===t?0:e>t?1:-1}function U5(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var a=ot(n[o],r[o]);if(a!==0||(a=ot(e[n[o]],t[r[o]]),a!==0))return a}return n.length===r.length?0:n.length>r.length?1:-1}function Th(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);if(~n)return e===null?1:Array.isArray(e)?5:n<3?n+2:n+3;if(Array.isArray(e))return 5}function H5(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(r?-n:n)-mS,a=I5(o.toString(),"0",Rh);i+=Nh+a;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var l=s.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=Nh+l,i}function q5(e){function t(n){return e.map(function(r){var i=hS(r),o=$g(i),a=qg(n,o);return a})}return function(n,r){var i=t(n.doc),o=t(r.doc),a=ot(i,o);return a!==0?a:b5(n.doc._id,r.doc._id)}}function $5(e,t,n){if(e=e.filter(function(a){return Ko(a.doc,t.selector,n)}),t.sort){var r=q5(t.sort);e=e.sort(r),typeof t.sort[0]!="string"&&C5(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,o=("limit"in t?t.limit:e.length)+i;e=e.slice(i,o)}return e}function Ko(e,t,n){return n.every(function(r){var i=t[r],o=$g(r),a=qg(e,o);return dS(r)?W5(r,i,e):Yu(i,e,o,a)})}function Yu(e,t,n,r){return e?typeof e=="object"?Object.keys(e).every(function(i){var o=e[i];if(i.indexOf("$")===0)return O0(i,t,o,n,r);var a=$g(i);if(r===void 0&&typeof o!="object"&&a.length>0)return!1;var s=qg(r,a);return typeof o=="object"?Yu(o,t,n,s):O0("$eq",t,o,a,s)}):e===r:!0}function W5(e,t,n){return e==="$or"?t.some(function(r){return Ko(n,r,Object.keys(r))}):e==="$not"?!Ko(n,t,Object.keys(t)):!t.find(function(r){return Ko(n,r,Object.keys(r))})}function O0(e,t,n,r,i){if(!D0[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return D0[e](t,n,r,i)}function Ka(e){return typeof e<"u"&&e!==null}function gi(e){return typeof e<"u"}function V5(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var n=t[0],r=t[1];return e%n===r}function P0(e,t){return t.some(function(n){return e instanceof Array?e.some(function(r){return ot(n,r)===0}):ot(n,e)===0})}function K5(e,t){return t.every(function(n){return e.some(function(r){return ot(n,r)===0})})}function G5(e,t){return e.length===t}function Y5(e,t){var n=new RegExp(t);return n.test(e)}function J5(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var D0={$elemMatch:function(e,t,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.some(function(i){return Ko(i,t,Object.keys(t))}):r.some(function(i){return Yu(t,e,n,i)})},$allMatch:function(e,t,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.every(function(i){return Ko(i,t,Object.keys(t))}):r.every(function(i){return Yu(t,e,n,i)})},$eq:function(e,t,n,r){return gi(r)&&ot(r,t)===0},$gte:function(e,t,n,r){return gi(r)&&ot(r,t)>=0},$gt:function(e,t,n,r){return gi(r)&&ot(r,t)>0},$lte:function(e,t,n,r){return gi(r)&&ot(r,t)<=0},$lt:function(e,t,n,r){return gi(r)&&ot(r,t)<0},$exists:function(e,t,n,r){return t?gi(r):!gi(r)},$mod:function(e,t,n,r){return Ka(r)&&V5(r,t)},$ne:function(e,t,n,r){return t.every(function(i){return ot(r,i)!==0})},$in:function(e,t,n,r){return Ka(r)&&P0(r,t)},$nin:function(e,t,n,r){return Ka(r)&&!P0(r,t)},$size:function(e,t,n,r){return Ka(r)&&Array.isArray(r)&&G5(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&K5(r,t)},$regex:function(e,t,n,r){return Ka(r)&&typeof r=="string"&&t.every(function(i){return Y5(r,i)})},$type:function(e,t,n,r){return J5(r,t)}};function Q5(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=P5(t);var n={doc:e},r=$5([n],{selector:t},Object.keys(t));return r&&r.length===1}function Z5(e){return Ig(`"use strict";
return `+e+";",{})}function X5(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Ig(t,{})}function eD(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var n=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function tD(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=E0(e.view):e.filter=E0(e.filter))}function nD(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!Zn(e.db)}function rD(e,t){var n=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var r=me(Bc,"`view` filter parameter not found or invalid.");return n(r)}var i=Ch(t.view);e.db.get("_design/"+i[0],function(a,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(a)return n(da(a));var l=s&&s.views&&s.views[i[1]]&&s.views[i[1]].map;if(!l)return n(me(fn,s.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=X5(l),e.doChanges(t)})}else if(t.selector)t.filter=function(a){return Q5(a,t.selector)},e.doChanges(t);else{var o=Ch(t.filter);e.db.get("_design/"+o[0],function(a,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(a)return n(da(a));var l=s&&s.filters&&s.filters[o[1]];if(!l)return n(me(fn,s&&s.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=Z5(l),e.doChanges(t)})}}function iD(e){e._changesFilterPlugin={validate:eD,normalize:tD,shouldFilter:nD,filter:rD}}pe.plugin(iD);pe.version=E5;function vS(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var oD=vS(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),aD=vS(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function I0(e){if(!/^\d+-/.test(e))return me(Zx);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function sD(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function yS(e,t,n){n||(n={deterministic_revs:!0});var r,i,o,a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=zc()),i=iS(e,n.deterministic_revs),e._rev){if(o=I0(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,a,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[i,a,[]]}],r=1;else if(e._revisions&&(e._rev_tree=sD(e._revisions,a),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if(o=I0(e._rev),o.error)return o;r=o.prefix,i=o.id,e._rev_tree=[{pos:r,ids:[i,a,[]]}]}Xx(e._id),e._rev=r+"-"+i;var s={metadata:{},data:{}};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var u=l[0]==="_";if(u&&!oD[l]){var f=me(S0,l);throw f.message=S0.message+": "+l,f}else u&&!aD[l]?s.metadata[l.slice(1)]=e[l]:s.data[l]=e[l]}return s}function lD(e){try{return Mg(e)}catch{var t=me(Qx,"Attachment is not a valid base64 string");return{error:t}}}function uD(e,t,n){var r=lD(e.data);if(r.error)return n(r.error);e.length=r.length,t==="blob"?e.data=Bg(r,e.content_type):t==="base64"?e.data=sl(r):e.data=r,Fg(r,function(i){e.digest="md5-"+i,n()})}function cD(e,t,n){Fg(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,t==="binary"?nS(e.data,function(i){e.data=i,n()}):t==="base64"?jg(e.data,function(i){e.data=i,n()}):n()})}function fD(e,t,n){if(e.stub)return n();typeof e.data=="string"?uD(e,t,n):cD(e,t,n)}function dD(e,t,n){if(!e.length)return n();var r=0,i;e.forEach(function(a){var s=a.data&&a.data._attachments?Object.keys(a.data._attachments):[],l=0;if(!s.length)return o();function u(c){i=c,l++,l===s.length&&o()}for(var f in a.data._attachments)Object.prototype.hasOwnProperty.call(a.data._attachments,f)&&fD(a.data._attachments[f],t,u)});function o(){r++,e.length===r&&(i?n(i):n())}}function hD(e,t,n,r,i,o,a,s){if(i5(t.rev_tree,n.metadata.rev)&&!s)return r[i]=n,o();var l=t.winningRev||Gi(t),u="deleted"in t?t.deleted:gr(t,l),f="deleted"in n.metadata?n.metadata.deleted:gr(n.metadata),c=/^1-/.test(n.metadata.rev);if(u&&!f&&s&&c){var d=n.data;d._rev=l,d._id=n.metadata.id,n=yS(d,s)}var v=sS(t.rev_tree,n.metadata.rev_tree[0],e),y=s&&(u&&f&&v.conflicts!=="new_leaf"||!u&&v.conflicts!=="new_leaf"||u&&!f&&v.conflicts==="new_branch");if(y){var _=me(fa);return r[i]=_,o()}var x=n.metadata.rev;n.metadata.rev_tree=v.tree,n.stemmedRevs=v.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var h=Gi(n.metadata),m=gr(n.metadata,h),g=u===m?0:u<m?-1:1,p;x===h?p=m:p=gr(n.metadata,x),a(n,h,m,p,!0,g,i,o)}function pD(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function gD(e,t,n,r,i,o,a,s,l){e=e||1e3;function u(_,x,h){var m=Gi(_.metadata),g=gr(_.metadata,m);if("was_delete"in s&&g)return o[x]=me(fn,"deleted"),h();var p=f&&pD(_);if(p){var w=me(fa);return o[x]=w,h()}var S=g?0:1;a(_,m,g,g,!1,S,x,h)}var f=s.new_edits,c=new Ht,d=0,v=t.length;function y(){++d===v&&l&&l()}t.forEach(function(_,x){if(_._id&&Bi(_._id)){var h=_._deleted?"_removeLocal":"_putLocal";n[h](_,{ctx:i},function(g,p){o[x]=g||p,y()});return}var m=_.metadata.id;c.has(m)?(v--,c.get(m).push([_,x])):c.set(m,[[_,x]])}),c.forEach(function(_,x){var h=0;function m(){++h<_.length?g():y()}function g(){var p=_[h],w=p[0],S=p[1];if(r.has(x))hD(e,r.get(x),w,o,S,m,a,f);else{var C=sS([],w.metadata.rev_tree[0],e);w.metadata.rev_tree=C.tree,w.stemmedRevs=C.stemmedRevs||[],u(w,S,m)}}g()})}var mD=5,st="document-store",bt="by-sequence",dn="attach-store",Ti="attach-seq-store",Mt="meta-store",Kn="local-store",Oh="detect-blob-support";function vD(e){try{return JSON.parse(e)}catch{return Mc.parse(e)}}function yD(e){try{return JSON.stringify(e)}catch{return Mc.stringify(e)}}function Jn(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(me(Pg,n,t.type))}}function Ph(e,t,n){return{data:yD(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Oi(e){if(!e)return null;var t=vD(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function Ju(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function wS(e,t,n,r){n?r(e?typeof e!="string"?e:zg(e,t):Lg([""],{type:t})):e?typeof e!="string"?tS(e,function(i){r(sl(i))}):r(e):r("")}function _S(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function a(){++o===i.length&&r&&r()}function s(l,u){var f=l._attachments[u],c=f.digest,d=n.objectStore(dn).get(c);d.onsuccess=function(v){f.body=v.target.result.body,a()}}i.forEach(function(l){t.attachments&&t.include_docs?s(e,l):(e._attachments[l].stub=!0,a())})}function Dh(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(i){var o=n.doc._attachments[i];if("body"in o){var a=o.body,s=o.content_type;return new Promise(function(l){wS(a,s,t,function(u){n.doc._attachments[i]=Ki(al(o,["digest","content_type"]),{data:u}),l()})})}}))}}))}function xS(e,t,n){var r=[],i=n.objectStore(bt),o=n.objectStore(dn),a=n.objectStore(Ti),s=e.length;function l(){s--,s||u()}function u(){r.length&&r.forEach(function(f){var c=a.index("digestSeq").count(IDBKeyRange.bound(f+"::",f+"::",!1,!1));c.onsuccess=function(d){var v=d.target.result;v||o.delete(f)}})}e.forEach(function(f){var c=i.index("_doc_id_rev"),d=t+"::"+f;c.getKey(d).onsuccess=function(v){var y=v.target.result;if(typeof y!="number")return l();i.delete(y);var _=a.index("seq").openCursor(IDBKeyRange.only(y));_.onsuccess=function(x){var h=x.target.result;if(h){var m=h.value.digestSeq.split("::")[0];r.push(m),a.delete(h.primaryKey),h.continue()}else l()}}})}function Tn(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var vs=new RP;function wD(e,t,n,r,i,o){for(var a=t.docs,s,l,u,f,c,d,v,y,_=0,x=a.length;_<x;_++){var h=a[_];h._id&&Bi(h._id)||(h=a[_]=yS(h,n.new_edits,e),h.error&&!v&&(v=h))}if(v)return o(v);var m=!1,g=0,p=new Array(a.length),w=new Ht,S=!1,C=r._meta.blobSupport?"blob":"base64";dD(a,C,function(I){if(I)return o(I);R()});function R(){var I=[st,bt,dn,Kn,Ti,Mt],U=Tn(i,I,"readwrite");if(U.error)return o(U.error);s=U.txn,s.onabort=Jn(o),s.ontimeout=Jn(o),s.oncomplete=z,l=s.objectStore(st),u=s.objectStore(bt),f=s.objectStore(dn),c=s.objectStore(Ti),d=s.objectStore(Mt),d.get(Mt).onsuccess=function(Y){y=Y.target.result,F()},M(function(Y){if(Y)return S=!0,o(Y);L()})}function O(){m=!0,F()}function B(){gD(e.revs_limit,a,r,w,s,p,D,n,O)}function F(){!y||!m||(y.docCount+=g,d.put(y))}function L(){if(!a.length)return;var I=0;function U(){++I===a.length&&B()}function Y(G){var Z=Oi(G.target.result);Z&&w.set(Z.id,Z),U()}for(var V=0,K=a.length;V<K;V++){var j=a[V];if(j._id&&Bi(j._id)){U();continue}var H=l.get(j.metadata.id);H.onsuccess=Y}}function z(){S||(vs.notify(r._meta.name),o(null,p))}function T(I,U){var Y=f.get(I);Y.onsuccess=function(V){if(V.target.result)U();else{var K=me(MP,"unknown stub attachment with digest "+I);K.status=412,U(K)}}}function M(I){var U=[];if(a.forEach(function(j){j.data&&j.data._attachments&&Object.keys(j.data._attachments).forEach(function(H){var G=j.data._attachments[H];G.stub&&U.push(G.digest)})}),!U.length)return I();var Y=0,V;function K(){++Y===U.length&&I(V)}U.forEach(function(j){T(j,function(H){H&&!V&&(V=H),K()})})}function D(I,U,Y,V,K,j,H,G){I.metadata.winningRev=U,I.metadata.deleted=Y;var Z=I.data;Z._id=I.metadata.id,Z._rev=I.metadata.rev,V&&(Z._deleted=!0);var ee=Z._attachments&&Object.keys(Z._attachments).length;if(ee)return b(I,U,Y,K,H,G);g+=j,F(),P(I,U,Y,K,H,G)}function P(I,U,Y,V,K,j){var H=I.data,G=I.metadata;H._doc_id_rev=G.id+"::"+G.rev,delete H._id,delete H._rev;function Z(_e){var we=I.stemmedRevs||[];V&&r.auto_compaction&&(we=we.concat(QP(I.metadata))),we&&we.length&&xS(we,I.metadata.id,s),G.seq=_e.target.result;var he=Ph(G,U,Y),ae=l.put(he);ae.onsuccess=se}function ee(_e){_e.preventDefault(),_e.stopPropagation();var we=u.index("_doc_id_rev"),he=we.getKey(H._doc_id_rev);he.onsuccess=function(ae){var X=u.put(H,ae.target.result);X.onsuccess=Z}}function se(){p[K]={ok:!0,id:G.id,rev:G.rev},w.set(I.metadata.id,I.metadata),A(I,G.seq,j)}var ge=u.put(H);ge.onsuccess=Z,ge.onerror=ee}function b(I,U,Y,V,K,j){var H=I.data,G=0,Z=Object.keys(H._attachments);function ee(){G===Z.length&&P(I,U,Y,V,K,j)}function se(){G++,ee()}Z.forEach(function(ge){var _e=I.data._attachments[ge];if(_e.stub)G++,ee();else{var we=_e.data;delete _e.data,_e.revpos=parseInt(U,10);var he=_e.digest;N(he,we,se)}})}function A(I,U,Y){var V=0,K=Object.keys(I.data._attachments||{});if(!K.length)return Y();function j(){++V===K.length&&Y()}function H(Z){var ee=I.data._attachments[Z].digest,se=c.put({seq:U,digestSeq:ee+"::"+U});se.onsuccess=j,se.onerror=function(ge){ge.preventDefault(),ge.stopPropagation(),j()}}for(var G=0;G<K.length;G++)H(K[G])}function N(I,U,Y){var V=f.count(I);V.onsuccess=function(K){var j=K.target.result;if(j)return Y();var H={digest:I,body:U},G=f.put(H);G.onsuccess=Y}}}function SS(e,t,n,r,i){r===-1&&(r=1e3);var o=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&r>1&&!n,a,s,l;function u(v){s=v.target.result,a&&i(a,s,l)}function f(v){a=v.target.result,s&&i(a,s,l)}function c(){if(!a.length)return i();var v=a[a.length-1],y;if(t&&t.upper)try{y=IDBKeyRange.bound(v,t.upper,!0,t.upperOpen)}catch(_){if(_.name==="DataError"&&_.code===0)return i()}else y=IDBKeyRange.lowerBound(v,!0);t=y,a=null,s=null,e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=f}function d(v){var y=v.target.result;if(!y)return i();i([y.key],[y.value],y)}o?(l={continue:c},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=f):n?e.openCursor(t,"prev").onsuccess=d:e.openCursor(t).onsuccess=d}function _D(e,t,n){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=n;return}var r=[];function i(o){var a=o.target.result;a?(r.push(a.value),a.continue()):n({target:{result:r}})}e.openCursor(t).onsuccess=i}function xD(e,t,n){var r=new Array(e.length),i=0;e.forEach(function(o,a){t.get(o).onsuccess=function(s){s.target.result?r[a]=s.target.result:r[a]={key:o,error:"not_found"},i++,i===e.length&&n(e,r,{})}})}function SD(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function ED(e,t,n){var r="startkey"in e?e.startkey:!1,i="endkey"in e?e.endkey:!1,o="key"in e?e.key:!1,a="keys"in e?e.keys:!1,s=e.skip||0,l=typeof e.limit=="number"?e.limit:-1,u=e.inclusive_end!==!1,f,c;if(!a&&(f=SD(r,i,u,o,e.descending),c=f&&f.error,c&&!(c.name==="DataError"&&c.code===0)))return n(me(Pg,c.name,c.message));var d=[st,bt,Mt];e.attachments&&d.push(dn);var v=Tn(t,d,"readonly");if(v.error)return n(v.error);var y=v.txn;y.oncomplete=z,y.onabort=Jn(n);var _=y.objectStore(st),x=y.objectStore(bt),h=y.objectStore(Mt),m=x.index("_doc_id_rev"),g=[],p,w;h.get(Mt).onsuccess=function(T){p=T.target.result.docCount},e.update_seq&&S(x,function(T){T.target.result&&T.target.result.length>0&&(w=T.target.result[0])});function S(T,M){function D(P){var b=P.target.result,A=void 0;return b&&b.key&&(A=b.key),M({target:{result:[A]}})}T.openCursor(null,"prev").onsuccess=D}function C(T,M,D){var P=T.id+"::"+D;m.get(P).onsuccess=function(A){if(M.doc=Ju(A.target.result)||{},e.conflicts){var N=Hg(T);N.length&&(M.doc._conflicts=N)}_S(M.doc,e,y)}}function R(T,M){var D={id:M.id,key:M.id,value:{rev:T}},P=M.deleted;P?a&&(g.push(D),D.value.deleted=!0,D.doc=null):s--<=0&&(g.push(D),e.include_docs&&C(M,D,T))}function O(T){for(var M=0,D=T.length;M<D&&g.length!==l;M++){var P=T[M];if(P.error&&a){g.push(P);continue}var b=Oi(P),A=b.winningRev;R(A,b)}}function B(T,M,D){D&&(O(M),g.length<l&&D.continue())}function F(T){var M=T.target.result;e.descending&&(M=M.reverse()),O(M)}function L(){var T={total_rows:p,offset:e.skip,rows:g};e.update_seq&&w!==void 0&&(T.update_seq=w),n(null,T)}function z(){e.attachments?Dh(g,e.binary).then(L):L()}if(!(c||l===0)){if(a)return xD(e.keys,_,B);if(l===-1)return _D(_,f,F);SS(_,f,e.descending,l+s,B)}}function bD(e){return new Promise(function(t){var n=Lg([""]),r=e.objectStore(Oh).put(n,"key");r.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);t(o||!i||parseInt(i[1],10)>=43)},r.onerror=e.onabort=function(i){i.preventDefault(),i.stopPropagation(),t(!1)}}).catch(function(){return!1})}function kD(e,t){var n=e.objectStore(st).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(r){t(r.target.result)}}var Ih=!1,Mh=[];function CD(e,t,n,r){try{e(t,n)}catch(i){r.emit("error",i)}}function M0(){Ih||!Mh.length||(Ih=!0,Mh.shift()())}function AD(e,t,n){Mh.push(function(){e(function(o,a){CD(t,o,a,n),Ih=!1,nr(function(){M0()})})}),M0()}function RD(e,t,n,r){if(e=pt(e),e.continuous){var i=n+":"+zc();return vs.addListener(n,i,t,e),vs.notify(n),{cancel:function(){vs.removeListener(n,i)}}}var o=e.doc_ids&&new ca(e.doc_ids);e.since=e.since||0;var a=e.since,s="limit"in e?e.limit:-1;s===0&&(s=1);var l=[],u=0,f=Dg(e),c=new Ht,d,v,y,_;function x(R,O,B){if(!B||!R.length)return;var F=new Array(R.length),L=new Array(R.length);function z(D,P){var b=e.processChange(P,D,e);a=b.seq=D.seq;var A=f(b);return typeof A=="object"?Promise.reject(A):A?(u++,e.return_docs&&l.push(b),e.attachments&&e.include_docs?new Promise(function(N){_S(P,e,d,function(){Dh([b],e.binary).then(function(){N(b)})})}):Promise.resolve(b)):Promise.resolve()}function T(){for(var D=[],P=0,b=F.length;P<b&&u!==s;P++){var A=F[P];if(A){var N=L[P];D.push(z(N,A))}}Promise.all(D).then(function(I){for(var U=0,Y=I.length;U<Y;U++)I[U]&&e.onChange(I[U])}).catch(e.complete),u!==s&&B.continue()}var M=0;O.forEach(function(D,P){var b=Ju(D),A=R[P];m(b,A,function(N,I){L[P]=N,F[P]=I,++M===R.length&&T()})})}function h(R,O,B,F){if(B.seq!==O)return F();if(B.winningRev===R._rev)return F(B,R);var L=R._id+"::"+B.winningRev,z=_.get(L);z.onsuccess=function(T){F(B,Ju(T.target.result))}}function m(R,O,B){if(o&&!o.has(R._id))return B();var F=c.get(R._id);if(F)return h(R,O,F,B);y.get(R._id).onsuccess=function(L){F=Oi(L.target.result),c.set(R._id,F),h(R,O,F,B)}}function g(){e.complete(null,{results:l,last_seq:a})}function p(){!e.continuous&&e.attachments?Dh(l).then(g):g()}var w=[st,bt];e.attachments&&w.push(dn);var S=Tn(r,w,"readonly");if(S.error)return e.complete(S.error);d=S.txn,d.onabort=Jn(e.complete),d.oncomplete=p,v=d.objectStore(bt),y=d.objectStore(st),_=v.index("_doc_id_rev");var C=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;SS(v,C,e.descending,s,x)}var fo=new Ht,Mf,Lf=new Ht;function ES(e,t){var n=this;AD(function(r){ND(n,e,r)},t,n.constructor)}function ND(e,t,n){var r=t.name,i=null,o=null;e._meta=null;function a(x){return function(h,m){h&&h instanceof Error&&!h.reason&&o&&(h.reason=o),x(h,m)}}function s(x){var h=x.createObjectStore(st,{keyPath:"id"});x.createObjectStore(bt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),x.createObjectStore(dn,{keyPath:"digest"}),x.createObjectStore(Mt,{keyPath:"id",autoIncrement:!1}),x.createObjectStore(Oh),h.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),x.createObjectStore(Kn,{keyPath:"_id"});var m=x.createObjectStore(Ti,{autoIncrement:!0});m.createIndex("seq","seq"),m.createIndex("digestSeq","digestSeq",{unique:!0})}function l(x,h){var m=x.objectStore(st);m.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),m.openCursor().onsuccess=function(g){var p=g.target.result;if(p){var w=p.value,S=gr(w);w.deletedOrLocal=S?"1":"0",m.put(w),p.continue()}else h()}}function u(x){x.createObjectStore(Kn,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function f(x,h){var m=x.objectStore(Kn),g=x.objectStore(st),p=x.objectStore(bt),w=g.openCursor();w.onsuccess=function(S){var C=S.target.result;if(C){var R=C.value,O=R.id,B=Bi(O),F=Gi(R);if(B){var L=O+"::"+F,z=O+"::",T=O+"::~",M=p.index("_doc_id_rev"),D=IDBKeyRange.bound(z,T,!1,!1),P=M.openCursor(D);P.onsuccess=function(b){if(P=b.target.result,!P)g.delete(C.primaryKey),C.continue();else{var A=P.value;A._doc_id_rev===L&&m.put(A),p.delete(P.primaryKey),P.continue()}}}else C.continue()}else h&&h()}}function c(x){var h=x.createObjectStore(Ti,{autoIncrement:!0});h.createIndex("seq","seq"),h.createIndex("digestSeq","digestSeq",{unique:!0})}function d(x,h){var m=x.objectStore(bt),g=x.objectStore(dn),p=x.objectStore(Ti),w=g.count();w.onsuccess=function(S){var C=S.target.result;if(!C)return h();m.openCursor().onsuccess=function(R){var O=R.target.result;if(!O)return h();for(var B=O.value,F=O.primaryKey,L=Object.keys(B._attachments||{}),z={},T=0;T<L.length;T++){var M=B._attachments[L[T]];z[M.digest]=!0}var D=Object.keys(z);for(T=0;T<D.length;T++){var P=D[T];p.put({seq:F,digestSeq:P+"::"+F})}O.continue()}}}function v(x){function h(w){return w.data?Oi(w):(w.deleted=w.deletedOrLocal==="1",w)}var m=x.objectStore(bt),g=x.objectStore(st),p=g.openCursor();p.onsuccess=function(w){var S=w.target.result;if(!S)return;var C=h(S.value);C.winningRev=C.winningRev||Gi(C);function R(){var B=C.id+"::",F=C.id+"::",L=m.index("_doc_id_rev").openCursor(IDBKeyRange.bound(B,F)),z=0;L.onsuccess=function(T){var M=T.target.result;if(!M)return C.seq=z,O();var D=M.primaryKey;D>z&&(z=D),M.continue()}}function O(){var B=Ph(C,C.winningRev,C.deleted),F=g.put(B);F.onsuccess=function(){S.continue()}}if(C.seq)return O();R()}}e._remote=!1,e.type=function(){return"idb"},e._id=Gx(function(x){x(null,e._meta.instanceId)}),e._bulkDocs=function(h,m,g){wD(t,h,m,e,i,a(g))},e._get=function(h,m,g){var p,w,S,C=m.ctx;if(!C){var R=Tn(i,[st,bt,dn],"readonly");if(R.error)return g(R.error);C=R.txn}function O(){g(S,{doc:p,metadata:w,ctx:C})}C.objectStore(st).get(h).onsuccess=function(B){if(w=Oi(B.target.result),!w)return S=me(fn,"missing"),O();var F;if(m.rev)F=m.latest?a5(m.rev,w):m.rev;else{F=w.winningRev;var L=gr(w);if(L)return S=me(fn,"deleted"),O()}var z=C.objectStore(bt),T=w.id+"::"+F;z.index("_doc_id_rev").get(T).onsuccess=function(M){if(p=M.target.result,p&&(p=Ju(p)),!p)return S=me(fn,"missing"),O();O()}}},e._getAttachment=function(x,h,m,g,p){var w;if(g.ctx)w=g.ctx;else{var S=Tn(i,[st,bt,dn],"readonly");if(S.error)return p(S.error);w=S.txn}var C=m.digest,R=m.content_type;w.objectStore(dn).get(C).onsuccess=function(O){var B=O.target.result.body;wS(B,R,g.binary,function(F){p(null,F)})}},e._info=function(h){var m,g,p=Tn(i,[Mt,bt],"readonly");if(p.error)return h(p.error);var w=p.txn;w.objectStore(Mt).get(Mt).onsuccess=function(S){g=S.target.result.docCount},w.objectStore(bt).openCursor(null,"prev").onsuccess=function(S){var C=S.target.result;m=C?C.key:0},w.oncomplete=function(){h(null,{doc_count:g,update_seq:m,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(h,m){ED(h,i,a(m))},e._changes=function(h){return RD(h,e,r,i)},e._close=function(x){i.close(),fo.delete(r),x()},e._getRevisionTree=function(x,h){var m=Tn(i,[st],"readonly");if(m.error)return h(m.error);var g=m.txn,p=g.objectStore(st).get(x);p.onsuccess=function(w){var S=Oi(w.target.result);S?h(null,S.rev_tree):h(me(fn))}},e._doCompaction=function(x,h,m){var g=[st,bt,dn,Ti],p=Tn(i,g,"readwrite");if(p.error)return m(p.error);var w=p.txn,S=w.objectStore(st);S.get(x).onsuccess=function(C){var R=Oi(C.target.result);Yi(R.rev_tree,function(F,L,z,T,M){var D=L+"-"+z;h.indexOf(D)!==-1&&(M.status="missing")}),xS(h,x,w);var O=R.winningRev,B=R.deleted;w.objectStore(st).put(Ph(R,O,B))},w.onabort=Jn(m),w.oncomplete=function(){m()}},e._getLocal=function(x,h){var m=Tn(i,[Kn],"readonly");if(m.error)return h(m.error);var g=m.txn,p=g.objectStore(Kn).get(x);p.onerror=Jn(h),p.onsuccess=function(w){var S=w.target.result;S?(delete S._doc_id_rev,h(null,S)):h(me(fn))}},e._putLocal=function(x,h,m){typeof h=="function"&&(m=h,h={}),delete x._revisions;var g=x._rev,p=x._id;g?x._rev="0-"+(parseInt(g.split("-")[1],10)+1):x._rev="0-1";var w=h.ctx,S;if(!w){var C=Tn(i,[Kn],"readwrite");if(C.error)return m(C.error);w=C.txn,w.onerror=Jn(m),w.oncomplete=function(){S&&m(null,S)}}var R=w.objectStore(Kn),O;g?(O=R.get(p),O.onsuccess=function(B){var F=B.target.result;if(!F||F._rev!==g)m(me(fa));else{var L=R.put(x);L.onsuccess=function(){S={ok:!0,id:x._id,rev:x._rev},h.ctx&&m(null,S)}}}):(O=R.add(x),O.onerror=function(B){m(me(fa)),B.preventDefault(),B.stopPropagation()},O.onsuccess=function(){S={ok:!0,id:x._id,rev:x._rev},h.ctx&&m(null,S)})},e._removeLocal=function(x,h,m){typeof h=="function"&&(m=h,h={});var g=h.ctx;if(!g){var p=Tn(i,[Kn],"readwrite");if(p.error)return m(p.error);g=p.txn,g.oncomplete=function(){w&&m(null,w)}}var w,S=x._id,C=g.objectStore(Kn),R=C.get(S);R.onerror=Jn(m),R.onsuccess=function(O){var B=O.target.result;!B||B._rev!==x._rev?m(me(fn)):(C.delete(S),w={ok:!0,id:S,rev:"0-0"},h.ctx&&m(null,w))}},e._destroy=function(x,h){vs.removeAllListeners(r);var m=Lf.get(r);m&&m.result&&(m.result.close(),fo.delete(r));var g=indexedDB.deleteDatabase(r);g.onsuccess=function(){Lf.delete(r),Vu()&&r in localStorage&&delete localStorage[r],h(null,{ok:!0})},g.onerror=Jn(h)};var y=fo.get(r);if(y)return i=y.idb,e._meta=y.global,nr(function(){n(null,e)});var _=indexedDB.open(r,mD);Lf.set(r,_),_.onupgradeneeded=function(x){var h=x.target.result;if(x.oldVersion<1)return s(h);var m=x.currentTarget.transaction;x.oldVersion<3&&u(h),x.oldVersion<4&&c(h);var g=[l,f,d,v],p=x.oldVersion;function w(){var S=g[p-1];p++,S&&S(m,w)}w()},_.onsuccess=function(x){i=x.target.result,i.onversionchange=function(){i.close(),fo.delete(r)},i.onabort=function(O){xn("error","Database has a globalThis failure",O.target.error),o=O.target.error,i.close(),fo.delete(r)};var h=i.transaction([Mt,Oh,st],"readwrite"),m=!1,g,p,w,S;function C(){typeof w>"u"||!m||(e._meta={name:r,instanceId:S,blobSupport:w},fo.set(r,{idb:i,globalThis:e._meta}),n(null,e))}function R(){if(!(typeof p>"u"||typeof g>"u")){var O=r+"_id";O in g?S=g[O]:g[O]=S=zc(),g.docCount=p,h.objectStore(Mt).put(g)}}h.objectStore(Mt).get(Mt).onsuccess=function(O){g=O.target.result||{id:Mt},R()},kD(h,function(O){p=O,R()}),Mf||(Mf=bD(h)),Mf.then(function(O){w=O,C()}),h.oncomplete=function(){m=!0,C()},h.onabort=Jn(n)},_.onerror=function(x){var h=x.target.error&&x.target.error.message;h?h.indexOf("stored database is a higher version")!==-1&&(h=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):h="Failed to open indexedDB, are you in private browsing mode?",xn("error",h),n(me(Pg,h))}}ES.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function TD(e){e.adapter("idb",ES,!0)}function OD(e,t){return new Promise(function(n,r){var i=0,o=0,a=0,s=e.length,l;function u(){i++,e[o++]().then(c,d)}function f(){++a===s?l?r(l):n():v()}function c(){i--,f()}function d(y){i--,l=l||y,f()}function v(){for(;i<t&&o<s;)u()}v()})}const PD=25,DD=50,Ul=5e3,ID=1e4;let Bf={};function zf(e){let t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(r){let i=n[r];i.data=zg(i.data,i.content_type)})}function mi(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function L0(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){let n=e._attachments[t];if(n.data&&typeof n.data!="string")return new Promise(function(r){jg(n.data,r)}).then(function(r){n.data=r})}))}function MD(e){if(!e.prefix)return!1;let t=eS(e.prefix).protocol;return t==="http"||t==="https"}function LD(e,t){if(MD(t)){let i=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(i)}let n=eS(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});let r=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=r.pop(),n.db.indexOf("%")===-1&&(n.db=encodeURIComponent(n.db)),n.path=r.join("/"),n}function ft(e,t){return uu(e,e.db+"/"+t)}function uu(e,t){let n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function Hl(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function BD(e){let t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=t.indexOf("msie")!==-1,r=t.indexOf("trident")!==-1,i=t.indexOf("edge")!==-1,o=!("method"in e)||e.method==="GET";return(n||r||i)&&o}function Lh(e,t){let n=this,r=LD(e.name,e),i=ft(r,"");e=pt(e);const o=async function(c,d){if(d=d||{},d.headers=d.headers||new Vo,d.credentials="include",e.auth||r.auth){let _=e.auth||r.auth,x=_.username+":"+_.password,h=sl(unescape(encodeURIComponent(x)));d.headers.set("Authorization","Basic "+h)}let v=e.headers||{};return Object.keys(v).forEach(function(_){d.headers.append(_,v[_])}),BD(d)&&(c+=(c.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),await(e.fetch||fS)(c,d)};function a(c,d){return nt(c,function(...v){u().then(function(){return d.apply(this,v)}).catch(function(y){v.pop()(y)})}).bind(n)}async function s(c,d){let v={};d=d||{},d.headers=d.headers||new Vo,d.headers.get("Content-Type")||d.headers.set("Content-Type","application/json"),d.headers.get("Accept")||d.headers.set("Accept","application/json");const y=await o(c,d);v.ok=y.ok,v.status=y.status;const _=await y.json();if(v.data=_,!v.ok)throw v.data.status=v.status,da(v.data);return Array.isArray(v.data)&&(v.data=v.data.map(function(x){return x.error||x.missing?da(x):x})),v}let l;async function u(){return e.skip_setup?Promise.resolve():l||(l=s(i).catch(function(c){return c&&c.status&&c.status===404?(bh(404,"PouchDB is just detecting if the remote exists."),s(i,{method:"PUT"})):Promise.reject(c)}).catch(function(c){return c&&c.status&&c.status===412?!0:Promise.reject(c)}),l.catch(function(){l=null}),l)}nr(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=a("id",async function(c){let d;try{d=await(await o(uu(r,""))).json()}catch{d={}}let v=d&&d.uuid?d.uuid+r.db:ft(r,"");c(null,v)}),n.compact=a("compact",async function(c,d){typeof c=="function"&&(d=c,c={}),c=pt(c),await s(ft(r,"_compact"),{method:"POST"});function v(){n.info(function(y,_){_&&!_.compact_running?d(null,{ok:!0}):setTimeout(v,c.interval||200)})}v()}),n.bulkGet=nt("bulkGet",function(c,d){let v=this;async function y(m){let g={};c.revs&&(g.revs=!0),c.attachments&&(g.attachments=!0),c.latest&&(g.latest=!0);try{const p=await s(ft(r,"_bulk_get"+Hl(g)),{method:"POST",body:JSON.stringify({docs:c.docs})});c.attachments&&c.binary&&p.data.results.forEach(function(w){w.docs.forEach(zf)}),m(null,p.data)}catch(p){m(p)}}function _(){let m=DD,g=Math.ceil(c.docs.length/m),p=0,w=new Array(g);function S(C){return function(R,O){w[C]=O.results,++p===g&&d(null,{results:Ku(w)})}}for(let C=0;C<g;C++){let R=al(c,["revs","attachments","binary","latest"]);R.docs=c.docs.slice(C*m,Math.min(c.docs.length,(C+1)*m)),Yx(v,R,S(C))}}let x=uu(r,""),h=Bf[x];typeof h!="boolean"?y(function(m,g){m?(Bf[x]=!1,bh(m.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),_()):(Bf[x]=!0,d(null,g))}):h?y(d):_()}),n._info=async function(c){try{await u();const v=await(await o(ft(r,""))).json();v.host=ft(r,""),c(null,v)}catch(d){c(d)}},n.fetch=async function(c,d){await u();const v=c.substring(0,1)==="/"?uu(r,c.substring(1)):ft(r,c);return o(v,d)},n.get=a("get",async function(c,d,v){typeof d=="function"&&(v=d,d={}),d=pt(d);let y={};d.revs&&(y.revs=!0),d.revs_info&&(y.revs_info=!0),d.latest&&(y.latest=!0),d.open_revs&&(d.open_revs!=="all"&&(d.open_revs=JSON.stringify(d.open_revs)),y.open_revs=d.open_revs),d.rev&&(y.rev=d.rev),d.conflicts&&(y.conflicts=d.conflicts),d.update_seq&&(y.update_seq=d.update_seq),c=mi(c);function _(m){let g=m._attachments,p=g&&Object.keys(g);if(!g||!p.length)return;async function w(C){const R=g[C],O=mi(m._id)+"/"+f(C)+"?rev="+m._rev,B=await o(ft(r,O));let F;"buffer"in B?F=await B.buffer():F=await B.blob();let L;if(d.binary){let z=Object.getOwnPropertyDescriptor(F.__proto__,"type");(!z||z.set)&&(F.type=R.content_type),L=F}else L=await new Promise(function(z){jg(F,z)});delete R.stub,delete R.length,R.data=L}let S=p.map(function(C){return function(){return w(C)}});return OD(S,5)}function x(m){return Array.isArray(m)?Promise.all(m.map(function(g){if(g.ok)return _(g.ok)})):_(m)}const h=ft(r,c+Hl(y));try{const m=await s(h);d.attachments&&await x(m.data),v(null,m.data)}catch(m){m.docId=c,v(m)}}),n.remove=a("remove",async function(c,d,v,y){let _;typeof d=="string"?(_={_id:c,_rev:d},typeof v=="function"&&(y=v,v={})):(_=c,typeof d=="function"?(y=d,v={}):(y=v,v=d));const x=_._rev||v.rev,h=ft(r,mi(_._id))+"?rev="+x;try{const m=await s(h,{method:"DELETE"});y(null,m.data)}catch(m){y(m)}});function f(c){return c.split("/").map(encodeURIComponent).join("/")}n.getAttachment=a("getAttachment",async function(c,d,v,y){typeof v=="function"&&(y=v,v={});const _=v.rev?"?rev="+v.rev:"",x=ft(r,mi(c))+"/"+f(d)+_;let h;try{const g=await o(x,{method:"GET"});if(!g.ok)throw g;h=g.headers.get("content-type");let p;if(typeof process<"u"&&!process.browser&&typeof g.buffer=="function"?p=await g.buffer():p=await g.blob(),typeof process<"u"&&!process.browser){var m=Object.getOwnPropertyDescriptor(p.__proto__,"type");(!m||m.set)&&(p.type=h)}y(null,p)}catch(g){y(g)}}),n.removeAttachment=a("removeAttachment",async function(c,d,v,y){const _=ft(r,mi(c)+"/"+f(d))+"?rev="+v;try{const x=await s(_,{method:"DELETE"});y(null,x.data)}catch(x){y(x)}}),n.putAttachment=a("putAttachment",async function(c,d,v,y,_,x){typeof _=="function"&&(x=_,_=y,y=v,v=null);const h=mi(c)+"/"+f(d);let m=ft(r,h);if(v&&(m+="?rev="+v),typeof y=="string"){let g;try{g=Mg(y)}catch{return x(me(Qx,"Attachment is not a valid base64 string"))}y=g?Bg(g,_):""}try{const g=await s(m,{headers:new Vo({"Content-Type":_}),method:"PUT",body:y});x(null,g.data)}catch(g){x(g)}}),n._bulkDocs=async function(c,d,v){c.new_edits=d.new_edits;try{await u(),await Promise.all(c.docs.map(L0));const y=await s(ft(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(c)});v(null,y.data)}catch(y){v(y)}},n._put=async function(c,d,v){try{await u(),await L0(c);const y=await s(ft(r,mi(c._id)),{method:"PUT",body:JSON.stringify(c)});v(null,y.data)}catch(y){y.docId=c&&c._id,v(y)}},n.allDocs=a("allDocs",async function(c,d){typeof c=="function"&&(d=c,c={}),c=pt(c);let v={},y,_="GET";c.conflicts&&(v.conflicts=!0),c.update_seq&&(v.update_seq=!0),c.descending&&(v.descending=!0),c.include_docs&&(v.include_docs=!0),c.attachments&&(v.attachments=!0),c.key&&(v.key=JSON.stringify(c.key)),c.start_key&&(c.startkey=c.start_key),c.startkey&&(v.startkey=JSON.stringify(c.startkey)),c.end_key&&(c.endkey=c.end_key),c.endkey&&(v.endkey=JSON.stringify(c.endkey)),typeof c.inclusive_end<"u"&&(v.inclusive_end=!!c.inclusive_end),typeof c.limit<"u"&&(v.limit=c.limit),typeof c.skip<"u"&&(v.skip=c.skip);let x=Hl(v);typeof c.keys<"u"&&(_="POST",y={keys:c.keys});try{const h=await s(ft(r,"_all_docs"+x),{method:_,body:JSON.stringify(y)});c.include_docs&&c.attachments&&c.binary&&h.data.rows.forEach(zf),d(null,h.data)}catch(h){d(h)}}),n._changes=function(c){let d="batch_size"in c?c.batch_size:PD;c=pt(c),c.continuous&&!("heartbeat"in c)&&(c.heartbeat=ID);let v="timeout"in c?c.timeout:30*1e3;"timeout"in c&&c.timeout&&v-c.timeout<Ul&&(v=c.timeout+Ul),"heartbeat"in c&&c.heartbeat&&v-c.heartbeat<Ul&&(v=c.heartbeat+Ul);let y={};"timeout"in c&&c.timeout&&(y.timeout=c.timeout);let _=typeof c.limit<"u"?c.limit:!1,x=_;if(c.style&&(y.style=c.style),(c.include_docs||c.filter&&typeof c.filter=="function")&&(y.include_docs=!0),c.attachments&&(y.attachments=!0),c.continuous&&(y.feed="longpoll"),c.seq_interval&&(y.seq_interval=c.seq_interval),c.conflicts&&(y.conflicts=!0),c.descending&&(y.descending=!0),c.update_seq&&(y.update_seq=!0),"heartbeat"in c&&c.heartbeat&&(y.heartbeat=c.heartbeat),c.filter&&typeof c.filter=="string"&&(y.filter=c.filter),c.view&&typeof c.view=="string"&&(y.filter="_view",y.view=c.view),c.query_params&&typeof c.query_params=="object")for(let R in c.query_params)Object.prototype.hasOwnProperty.call(c.query_params,R)&&(y[R]=c.query_params[R]);let h="GET",m;c.doc_ids?(y.filter="_doc_ids",h="POST",m={doc_ids:c.doc_ids}):c.selector&&(y.filter="_selector",h="POST",m={selector:c.selector});let g=new _5,p;const w=async function(R,O){if(c.aborted)return;y.since=R,typeof y.since=="object"&&(y.since=JSON.stringify(y.since)),c.descending?_&&(y.limit=x):y.limit=!_||x>d?d:x;let B=ft(r,"_changes"+Hl(y)),F={signal:g.signal,method:h,body:JSON.stringify(m)};if(p=R,!c.aborted)try{await u();const L=await s(B,F);O(null,L.data)}catch(L){O(L)}};let S={results:[]};const C=function(R,O){if(c.aborted)return;let B=0;if(O&&O.results){B=O.results.length,S.last_seq=O.last_seq;let L=null,z=null;typeof O.pending=="number"&&(L=O.pending),(typeof S.last_seq=="string"||typeof S.last_seq=="number")&&(z=S.last_seq),c.query_params,O.results=O.results.filter(function(T){x--;let M=Dg(c)(T);return M&&(c.include_docs&&c.attachments&&c.binary&&zf(T),c.return_docs&&S.results.push(T),c.onChange(T,L,z)),M})}else if(R){c.aborted=!0,c.complete(R);return}O&&O.last_seq&&(p=O.last_seq);let F=_&&x<=0||O&&B<d||c.descending;c.continuous&&!(_&&x<=0)||!F?nr(function(){w(p,C)}):c.complete(null,S)};return w(c.since||0,C),{cancel:function(){c.aborted=!0,g.abort()}}},n.revsDiff=a("revsDiff",async function(c,d,v){typeof d=="function"&&(v=d,d={});try{const y=await s(ft(r,"_revs_diff"),{method:"POST",body:JSON.stringify(c)});v(null,y.data)}catch(y){v(y)}}),n._close=function(c){c()},n._destroy=async function(c,d){try{const v=await s(ft(r,""),{method:"DELETE"});d(null,v)}catch(v){v.status===404?d(null,{ok:!0}):d(v)}}}Lh.valid=function(){return!0};function zD(e){e.adapter("http",Lh,!1),e.adapter("https",Lh,!1)}class Ei extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Ei)}catch{}}}class jc extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,jc)}catch{}}}class Fc extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Fc)}catch{}}}function bS(e,t){return t&&e.then(function(n){nr(function(){t(null,n)})},function(n){nr(function(){t(n)})}),e}function jD(e){return function(...t){var n=t.pop(),r=e.apply(this,t);return typeof n=="function"&&bS(r,n),r}}function FD(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}function jf(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function B0(e){var t=new ca(e),n=new Array(t.size),r=-1;return t.forEach(function(i){n[++r]=i}),n}function Ff(e){var t=new Array(e.size),n=-1;return e.forEach(function(r,i){t[++n]=i}),t}function z0(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Fc(t)}function Bh(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if(typeof i!="number")if(Array.isArray(i)){t=typeof t=="number"?[t]:t;for(var o=0,a=i.length;o<a;o++){var s=i[o];if(typeof s!="number")throw z0("_sum");typeof t[o]>"u"?t.push(s):t[o]+=s}}else throw z0("_sum");else typeof t=="number"?t+=i:t[0]+=i}return t}var UD=xn.bind(null,"log"),HD=Array.isArray,qD=JSON.parse;function kS(e,t){return Ig("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bh,log:UD,isArray:HD,toJSON:qD})}class zh{constructor(){this.promise=new Promise(function(t){t()})}add(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise}finish(){return this.promise}}function j0(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function $D(e,t){return j0(e)+j0(t)+"undefined"}async function F0(e,t,n,r,i,o){const a=$D(n,r);let s;if(!i&&(s=e._cachedViews=e._cachedViews||{},s[a]))return s[a];const l=e.info().then(async function(u){const f=u.db_name+"-mrview-"+(i?"temp":rS(a));function c(x){x.views=x.views||{};let h=t;h.indexOf("/")===-1&&(h=t+"/"+t);const m=x.views[h]=x.views[h]||{};if(!m[f])return m[f]=!0,x}await Gu(e,"_local/"+o,c);const v=(await e.registerDependentDatabase(f)).db;v.auto_compaction=!0;const y={name:f,db:v,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};let _;try{_=await y.db.get("_local/lastSeq")}catch(x){if(x.status!==404)throw x}return y.seq=_?_.seq:0,s&&y.db.once("destroyed",function(){delete s[a]}),y});return s&&(s[a]=l),l}var U0={},H0=new zh,WD=50;function Uf(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function VD(e){return e.length===1&&/^1-/.test(e[0].rev)}function q0(e,t,n){try{e.emit("error",t)}catch{xn("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),xn("error",t,n)}}function KD(e,t,n,r){function i(b,A,N){try{A(N)}catch(I){q0(b,I,{fun:A,doc:N})}}function o(b,A,N,I,U){try{return{output:A(N,I,U)}}catch(Y){return q0(b,Y,{fun:A,keys:N,values:I,rereduce:U}),{error:Y}}}function a(b,A){const N=ot(b.key,A.key);return N!==0?N:ot(b.value,A.value)}function s(b,A,N){return N=N||0,typeof A=="number"?b.slice(N,A+N):N>0?b.slice(N):b}function l(b){const A=b.value;return A&&typeof A=="object"&&A._id||b.id}function u(b){b.rows.forEach(function(A){const N=A.doc&&A.doc._attachments;N&&Object.keys(N).forEach(function(I){const U=N[I];N[I].data=zg(U.data,U.content_type)})})}function f(b){return function(A){return b.include_docs&&b.attachments&&b.binary&&u(A),A}}function c(b,A,N,I){let U=A[b];typeof U<"u"&&(I&&(U=encodeURIComponent(JSON.stringify(U))),N.push(b+"="+U))}function d(b){if(typeof b<"u"){const A=Number(b);return!isNaN(A)&&A===parseInt(b,10)?A:b}}function v(b){return b.group_level=d(b.group_level),b.limit=d(b.limit),b.skip=d(b.skip),b}function y(b){if(b){if(typeof b!="number")return new Ei(`Invalid value for integer: "${b}"`);if(b<0)return new Ei(`Invalid value for positive integer: "${b}"`)}}function _(b,A){const N=b.descending?"endkey":"startkey",I=b.descending?"startkey":"endkey";if(typeof b[N]<"u"&&typeof b[I]<"u"&&ot(b[N],b[I])>0)throw new Ei("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(A.reduce&&b.reduce!==!1){if(b.include_docs)throw new Ei("{include_docs:true} is invalid for reduce");if(b.keys&&b.keys.length>1&&!b.group&&!b.group_level)throw new Ei("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(U){const Y=y(b[U]);if(Y)throw Y})}async function x(b,A,N){let I=[],U,Y="GET",V;if(c("reduce",N,I),c("include_docs",N,I),c("attachments",N,I),c("limit",N,I),c("descending",N,I),c("group",N,I),c("group_level",N,I),c("skip",N,I),c("stale",N,I),c("conflicts",N,I),c("startkey",N,I,!0),c("start_key",N,I,!0),c("endkey",N,I,!0),c("end_key",N,I,!0),c("inclusive_end",N,I),c("key",N,I,!0),c("update_seq",N,I),I=I.join("&"),I=I===""?"":"?"+I,typeof N.keys<"u"){const G=`keys=${encodeURIComponent(JSON.stringify(N.keys))}`;G.length+I.length+1<=2e3?I+=(I[0]==="?"?"&":"?")+G:(Y="POST",typeof A=="string"?U={keys:N.keys}:A.keys=N.keys)}if(typeof A=="string"){const H=Uf(A),G=await b.fetch("_design/"+H[0]+"/_view/"+H[1]+I,{headers:new Vo({"Content-Type":"application/json"}),method:Y,body:JSON.stringify(U)});V=G.ok;const Z=await G.json();if(!V)throw Z.status=G.status,da(Z);return Z.rows.forEach(function(ee){if(ee.value&&ee.value.error&&ee.value.error==="builtin_reduce_error")throw new Error(ee.reason)}),new Promise(function(ee){ee(Z)}).then(f(N))}U=U||{},Object.keys(A).forEach(function(H){Array.isArray(A[H])?U[H]=A[H]:U[H]=A[H].toString()});const K=await b.fetch("_temp_view"+I,{headers:new Vo({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(U)});V=K.ok;const j=await K.json();if(!V)throw j.status=K.status,da(j);return new Promise(function(H){H(j)}).then(f(N))}function h(b,A,N){return new Promise(function(I,U){b._query(A,N,function(Y,V){if(Y)return U(Y);I(V)})})}function m(b){return new Promise(function(A,N){b._viewCleanup(function(I,U){if(I)return N(I);A(U)})})}function g(b){return function(A){if(A.status===404)return b;throw A}}async function p(b,A,N){const I="_local/doc_"+b,U={_id:I,keys:[]},Y=N.get(b),V=Y[0],K=Y[1];function j(){return VD(K)?Promise.resolve(U):A.db.get(I).catch(g(U))}function H(se){return se.keys.length?A.db.allDocs({keys:se.keys,include_docs:!0}):Promise.resolve({rows:[]})}function G(se,ge){const _e=[],we=new ca;for(let ae=0,X=ge.rows.length;ae<X;ae++){const ke=ge.rows[ae].doc;if(ke&&(_e.push(ke),we.add(ke._id),ke._deleted=!V.has(ke._id),!ke._deleted)){const Ee=V.get(ke._id);"value"in Ee&&(ke.value=Ee.value)}}const he=Ff(V);return he.forEach(function(ae){if(!we.has(ae)){const X={_id:ae},ye=V.get(ae);"value"in ye&&(X.value=ye.value),_e.push(X)}}),se.keys=B0(he.concat(se.keys)),_e.push(se),_e}const Z=await j(),ee=await H(Z);return G(Z,ee)}function w(b){return b.sourceDB.get("_local/purges").then(function(A){const N=A.purgeSeq;return b.db.get("_local/purgeSeq").then(function(I){return I._rev}).catch(function(I){if(I.status!==404)throw I}).then(function(I){return b.db.put({_id:"_local/purgeSeq",_rev:I,purgeSeq:N})})}).catch(function(A){if(A.status!==404)throw A})}function S(b,A,N){var I="_local/lastSeq";return b.db.get(I).catch(g({_id:I,seq:0})).then(function(U){var Y=Ff(A);return Promise.all(Y.map(function(V){return p(V,b,A)})).then(function(V){var K=Ku(V);return U.seq=N,K.push(U),b.db.bulkDocs({docs:K})}).then(()=>w(b))})}function C(b){const A=typeof b=="string"?b:b.name;let N=U0[A];return N||(N=U0[A]=new zh),N}async function R(b,A){return jf(C(b),function(){return O(b,A)})()}async function O(b,A){let N,I,U;function Y(ae,X){const ye={id:I._id,key:Ji(ae)};typeof X<"u"&&X!==null&&(ye.value=Ji(X)),N.push(ye)}const V=t(b.mapFun,Y);let K=b.seq||0;function j(){return b.sourceDB.info().then(function(ae){U=b.sourceDB.activeTasks.add({name:"view_indexing",total_items:ae.update_seq-K})})}function H(ae,X){return function(){return S(b,ae,X)}}let G=0;const Z={view:b.name,indexed_docs:G};b.sourceDB.emit("indexing",Z);const ee=new zh;async function se(){const ae=await b.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:K,limit:A.changes_batch_size}),X=await ge();return _e(ae,X)}function ge(){return b.db.get("_local/purgeSeq").then(function(ae){return ae.purgeSeq}).catch(function(ae){if(ae&&ae.status!==404)throw ae;return-1}).then(function(ae){return b.sourceDB.get("_local/purges").then(function(X){const ye=X.purges.filter(function(Ee,Ne){return Ne>ae}).map(Ee=>Ee.docId),ke=ye.filter(function(Ee,Ne){return ye.indexOf(Ee)===Ne});return Promise.all(ke.map(function(Ee){return b.sourceDB.get(Ee).then(function(Ne){return{docId:Ee,doc:Ne}}).catch(function(Ne){if(Ne.status!==404)throw Ne;return{docId:Ee}})}))}).catch(function(X){if(X&&X.status!==404)throw X;return[]})})}function _e(ae,X){var ye=ae.results;if(!ye.length&&!X.length)return;for(let Ne of X)if(ye.findIndex(function(Nt){return Nt.id===Ne.docId})<0){const Nt={_id:Ne.docId,doc:{_id:Ne.docId,_deleted:1},changes:[]};Ne.doc&&(Nt.doc=Ne.doc,Nt.changes.push({rev:Ne.doc._rev})),ye.push(Nt)}var ke=we(ye);ee.add(H(ke,K)),G=G+ye.length;const Ee={view:b.name,last_seq:ae.last_seq,results_count:ye.length,indexed_docs:G};if(b.sourceDB.emit("indexing",Ee),b.sourceDB.activeTasks.update(U,{completed_items:G}),!(ye.length<A.changes_batch_size))return se()}function we(ae){const X=new Ht;for(let ye=0,ke=ae.length;ye<ke;ye++){const Ee=ae[ye];if(Ee.doc._id[0]!=="_"){N=[],I=Ee.doc,I._deleted||i(b.sourceDB,V,I),N.sort(a);const Ne=he(N);X.set(Ee.doc._id,[Ne,Ee.changes])}K=Ee.seq}return X}function he(ae){const X=new Ht;let ye;for(let ke=0,Ee=ae.length;ke<Ee;ke++){const Ne=ae[ke],Vt=[Ne.key,Ne.id];ke>0&&ot(Ne.key,ye)===0&&Vt.push(ke),X.set(Nn(Vt),Ne),ye=Ne.key}return X}try{await j(),await se(),await ee.finish(),b.seq=K,b.sourceDB.activeTasks.remove(U)}catch(ae){b.sourceDB.activeTasks.remove(U,ae)}}function B(b,A,N){N.group_level===0&&delete N.group_level;const I=N.group||N.group_level,U=n(b.reduceFun),Y=[],V=isNaN(N.group_level)?Number.POSITIVE_INFINITY:N.group_level;A.forEach(function(K){const j=Y[Y.length-1];let H=I?K.key:null;if(I&&Array.isArray(H)&&(H=H.slice(0,V)),j&&ot(j.groupKey,H)===0){j.keys.push([K.key,K.id]),j.values.push(K.value);return}Y.push({keys:[[K.key,K.id]],values:[K.value],groupKey:H})}),A=[];for(let K=0,j=Y.length;K<j;K++){const H=Y[K],G=o(b.sourceDB,U,H.keys,H.values,!1);if(G.error&&G.error instanceof Fc)throw G.error;A.push({value:G.error?null:G.output,key:H.groupKey})}return{rows:s(A,N.limit,N.skip)}}function F(b,A){return jf(C(b),function(){return L(b,A)})()}async function L(b,A){let N;const I=b.reduceFun&&A.reduce!==!1,U=A.skip||0;typeof A.keys<"u"&&!A.keys.length&&(A.limit=0,delete A.keys);async function Y(K){K.include_docs=!0;const j=await b.db.allDocs(K);return N=j.total_rows,j.rows.map(function(H){if("value"in H.doc&&typeof H.doc.value=="object"&&H.doc.value!==null){const Z=Object.keys(H.doc.value).sort(),ee=["id","key","value"];if(!(Z<ee||Z>ee))return H.doc.value}const G=z5(H.doc._id);return{key:G[0],id:G[1],value:"value"in H.doc?H.doc.value:null}})}async function V(K){let j;if(I?j=B(b,K,A):typeof A.keys>"u"?j={total_rows:N,offset:U,rows:K}:j={total_rows:N,offset:U,rows:s(K,A.limit,A.skip)},A.update_seq&&(j.update_seq=b.seq),A.include_docs){const G=B0(K.map(l)),Z=await b.sourceDB.allDocs({keys:G,include_docs:!0,conflicts:A.conflicts,attachments:A.attachments,binary:A.binary});var H=new Ht;return Z.rows.forEach(function(ee){H.set(ee.id,ee.doc)}),K.forEach(function(ee){var se=l(ee),ge=H.get(se);ge&&(ee.doc=ge)}),j}else return j}if(typeof A.keys<"u"){const j=A.keys.map(function(Z){const ee={startkey:Nn([Z]),endkey:Nn([Z,{}])};return A.update_seq&&(ee.update_seq=!0),Y(ee)}),H=await Promise.all(j),G=Ku(H);return V(G)}else{const K={descending:A.descending};A.update_seq&&(K.update_seq=!0);let j,H;if("start_key"in A&&(j=A.start_key),"startkey"in A&&(j=A.startkey),"end_key"in A&&(H=A.end_key),"endkey"in A&&(H=A.endkey),typeof j<"u"&&(K.startkey=A.descending?Nn([j,{}]):Nn([j])),typeof H<"u"){let Z=A.inclusive_end!==!1;A.descending&&(Z=!Z),K.endkey=Nn(Z?[H,{}]:[H])}if(typeof A.key<"u"){const Z=Nn([A.key]),ee=Nn([A.key,{}]);K.descending?(K.endkey=Z,K.startkey=ee):(K.startkey=Z,K.endkey=ee)}I||(typeof A.limit=="number"&&(K.limit=A.limit),K.skip=U);const G=await Y(K);return V(G)}}async function z(b){return(await b.fetch("_view_cleanup",{headers:new Vo({"Content-Type":"application/json"}),method:"POST"})).json()}async function T(b){try{const A=await b.get("_local/"+e),N=new Ht;Object.keys(A.views).forEach(function(j){const H=Uf(j),G="_design/"+H[0],Z=H[1];let ee=N.get(G);ee||(ee=new ca,N.set(G,ee)),ee.add(Z)});const I={keys:Ff(N),include_docs:!0},U=await b.allDocs(I),Y={};U.rows.forEach(function(j){const H=j.key.substring(8);N.get(j.key).forEach(function(G){let Z=H+"/"+G;A.views[Z]||(Z=G);const ee=Object.keys(A.views[Z]),se=j.doc&&j.doc.views&&j.doc.views[G];ee.forEach(function(ge){Y[ge]=Y[ge]||se})})});const K=Object.keys(Y).filter(function(j){return!Y[j]}).map(function(j){return jf(C(j),function(){return new b.constructor(j,b.__opts).destroy()})()});return Promise.all(K).then(function(){return{ok:!0}})}catch(A){if(A.status===404)return{ok:!0};throw A}}async function M(b,A,N){if(typeof b._query=="function")return h(b,A,N);if(Zn(b))return x(b,A,N);const I={changes_batch_size:b.__opts.view_update_changes_batch_size||WD};if(typeof A!="string")return _(N,A),H0.add(async function(){const U=await F0(b,"temp_view/temp_view",A.map,A.reduce,!0,e);return FD(R(U,I).then(function(){return F(U,N)}),function(){return U.db.destroy()})}),H0.finish();{const U=A,Y=Uf(U),V=Y[0],K=Y[1],j=await b.get("_design/"+V);if(A=j.views&&j.views[K],!A)throw new jc(`ddoc ${j._id} has no view named ${K}`);r(j,K),_(N,A);const H=await F0(b,U,A.map,A.reduce,!1,e);return N.stale==="ok"||N.stale==="update_after"?(N.stale==="update_after"&&nr(function(){R(H,I)}),F(H,N)):(await R(H,I),F(H,N))}}function D(b,A,N){const I=this;typeof A=="function"&&(N=A,A={}),A=A?v(A):{},typeof b=="function"&&(b={map:b});const U=Promise.resolve().then(function(){return M(I,b,A)});return bS(U,N),U}const P=jD(function(){const b=this;return typeof b._viewCleanup=="function"?m(b):Zn(b)?z(b):T(b)});return{query:D,viewCleanup:P}}var Hf={_sum:function(e,t){return Bh(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(r){for(var i=0,o=0,a=r.length;o<a;o++){var s=r[o];i+=s*s}return i}return{sum:Bh(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}};function GD(e){if(/^_sum/.test(e))return Hf._sum;if(/^_count/.test(e))return Hf._count;if(/^_stats/.test(e))return Hf._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function YD(e,t){if(typeof e=="function"&&e.length===2){var n=e;return function(r){return n(r,t)}}else return kS(e.toString(),t)}function JD(e){var t=e.toString(),n=GD(t);return n||kS(t)}function QD(e,t){var n=e.views&&e.views[t];if(typeof n.map!="string")throw new jc("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}var ZD="mrviews",CS=KD(ZD,YD,JD,QD);function XD(e,t,n){return CS.query.call(this,e,t,n)}function eI(e){return CS.viewCleanup.call(this,e)}var tI={query:XD,viewCleanup:eI};function nI(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function $0(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function rI(e,t,n){var r=Zn(t)&&!Zn(e),i=Object.keys(n._attachments);return r?e.get(n._id).then(function(o){return Promise.all(i.map(function(a){return nI(o,n,a)?t.getAttachment(n._id,a):e.getAttachment(o._id,a)}))}).catch(function(o){if(o.status!==404)throw o;return $0(t,n)}):$0(t,n)}function iI(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(i){t.push({id:n,rev:i})})}),{docs:t,revs:!0,latest:!0}}function oI(e,t,n,r){n=pt(n);var i=[],o=!0;function a(){var l=iI(n);if(l.docs.length)return e.bulkGet(l).then(function(u){if(r.cancelled)throw new Error("cancelled");return Promise.all(u.results.map(function(f){return Promise.all(f.docs.map(function(c){var d=c.ok;return c.error&&(o=!1),!d||!d._attachments?d:rI(t,e,d).then(function(v){var y=Object.keys(d._attachments);return v.forEach(function(_,x){var h=d._attachments[y[x]];delete h.stub,delete h.length,h.data=_}),d})}))})).then(function(f){i=i.concat(Ku(f).filter(Boolean))})})}function s(){return{ok:o,docs:i}}return Promise.resolve().then(a).then(s)}var W0=1,V0="pouchdb",aI=5,Gn=0;function jh(e,t,n,r,i){return e.get(t).catch(function(o){if(o.status===404)return(e.adapter==="http"||e.adapter==="https")&&bh(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:V0,version:W0};throw o}).then(function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(a){return a.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,aI),o.version=W0,o.replicator=V0,o.session_id=r,o.last_seq=n,e.put(o).catch(function(a){if(a.status===409)return jh(e,t,n,r,i);throw a})})}class K0{constructor(t,n,r,i,o){this.src=t,this.target=n,this.id=r,this.returnValue=i,this.opts=o||{}}writeCheckpoint(t,n){var r=this;return this.updateTarget(t,n).then(function(){return r.updateSource(t,n)})}updateTarget(t,n){return this.opts.writeTargetCheckpoint?jh(this.target,this.id,t,n,this.returnValue):Promise.resolve(!0)}updateSource(t,n){if(this.opts.writeSourceCheckpoint){var r=this;return jh(this.src,this.id,t,n,this.returnValue).catch(function(i){if(Y0(i))return r.opts.writeSourceCheckpoint=!1,!0;throw i})}else return Promise.resolve(!0)}getCheckpoint(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(n){return n.last_seq||Gn}).catch(function(n){if(n.status!==404)throw n;return Gn}):t.target.get(t.id).then(function(n){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?n.last_seq||Gn:t.src.get(t.id).then(function(r){if(n.version!==r.version)return Gn;var i;return n.version?i=n.version.toString():i="undefined",i in G0?G0[i](n,r):Gn},function(r){if(r.status===404&&n.last_seq)return t.src.put({_id:t.id,last_seq:Gn}).then(function(){return Gn},function(i){return Y0(i)?(t.opts.writeSourceCheckpoint=!1,n.last_seq):Gn});throw r})}).catch(function(n){if(n.status!==404)throw n;return Gn})}}var G0={undefined:function(e,t){return ot(e.last_seq,t.last_seq)===0?t.last_seq:0},1:function(e,t){return sI(t,e).last_seq}};function sI(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:AS(e.history,t.history)}function AS(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);if(!n||t.length===0)return{last_seq:Gn,history:[]};var a=n.session_id;if(Fh(a,t))return{last_seq:n.last_seq,history:e};var s=i.session_id;return Fh(s,r)?{last_seq:i.last_seq,history:o}:AS(r,o)}function Fh(e,t){var n=t[0],r=t.slice(1);return!e||t.length===0?!1:e===n.session_id?!0:Fh(e,r)}function Y0(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}function RS(e,t,n,r,i){return this instanceof K0?RS:new K0(e,t,n,r,i)}var J0=0;function lI(e,t,n,r){if(e.retry===!1){t.emit("error",n),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=TP),t.emit("requestError",n),t.state==="active"||t.state==="pending"){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=J0},o=function(){t.removeListener("active",i)};t.once("paused",o),t.once("active",i)}e.current_back_off=e.current_back_off||J0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function uI(e){return Object.keys(e).sort(ot).reduce(function(t,n){return t[n]=e[n],t},{})}function cI(e,t,n){var r=n.doc_ids?n.doc_ids.sort(ot):"",i=n.filter?n.filter.toString():"",o="",a="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(uI(n.query_params))),n.filter&&n.filter==="_view"&&(a=n.view.toString()),Promise.all([e.id(),t.id()]).then(function(l){var u=l[0]+l[1]+i+a+o+r+s;return new Promise(function(f){Fg(u,f)})}).then(function(l){return l=l.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+l})}function NS(e,t,n,r,i){var o=[],a,s={seq:0,changes:[],docs:[]},l=!1,u=!1,f=!1,c=0,d=0,v=n.continuous||n.live||!1,y=n.batch_size||100,_=n.batches_limit||10,x=n.style||"all_docs",h=!1,m=n.doc_ids,g=n.selector,p,w,S=[],C=zc(),R;i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var O={};r.ready(e,t);function B(){return w?Promise.resolve():cI(e,t,n).then(function(j){p=j;var H={};n.checkpoint===!1?H={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:n.checkpoint==="source"?H={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:n.checkpoint==="target"?H={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:H={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},w=new RS(e,t,p,r,H)})}function F(){if(S=[],a.docs.length!==0){var j=a.docs,H={timeout:n.timeout};return t.bulkDocs({docs:j,new_edits:!1},H).then(function(G){if(r.cancelled)throw b(),new Error("cancelled");var Z=Object.create(null);G.forEach(function(se){se.error&&(Z[se.id]=se)});var ee=Object.keys(Z).length;i.doc_write_failures+=ee,i.docs_written+=j.length-ee,j.forEach(function(se){var ge=Z[se._id];if(ge){i.errors.push(ge);var _e=(ge.name||"").toLowerCase();if(_e==="unauthorized"||_e==="forbidden")r.emit("denied",pt(ge));else throw ge}else S.push(se)})},function(G){throw i.doc_write_failures+=j.length,G})}}function L(){if(a.error)throw new Error("There was a problem getting docs.");i.last_seq=d=a.seq;var j=pt(i);return S.length&&(j.docs=S,typeof a.pending=="number"&&(j.pending=a.pending,delete a.pending),r.emit("change",j)),l=!0,e.info().then(function(H){var G=e.activeTasks.get(R);if(!(!a||!G)){var Z=G.completed_items||0,ee=parseInt(H.update_seq,10)-parseInt(c,10);e.activeTasks.update(R,{completed_items:Z+a.changes.length,total_items:ee})}}),w.writeCheckpoint(a.seq,C).then(function(){if(r.emit("checkpoint",{checkpoint:a.seq}),l=!1,r.cancelled)throw b(),new Error("cancelled");a=void 0,U()}).catch(function(H){throw K(H),H})}function z(){var j={};return a.changes.forEach(function(H){r.emit("checkpoint",{revs_diff:H}),H.id!=="_user/"&&(j[H.id]=H.changes.map(function(G){return G.rev}))}),t.revsDiff(j).then(function(H){if(r.cancelled)throw b(),new Error("cancelled");a.diffs=H})}function T(){return oI(e,t,a.diffs,r).then(function(j){a.error=!j.ok,j.docs.forEach(function(H){delete a.diffs[H._id],i.docs_read++,a.docs.push(H)})})}function M(){if(!(r.cancelled||a)){if(o.length===0){D(!0);return}a=o.shift(),r.emit("checkpoint",{start_next_batch:a.seq}),z().then(T).then(F).then(L).then(M).catch(function(j){P("batch processing terminated with error",j)})}}function D(j){if(s.changes.length===0){o.length===0&&!a&&((v&&O.live||u)&&(r.state="pending",r.emit("paused")),u&&b());return}(j||u||s.changes.length>=y)&&(o.push(s),s={seq:0,changes:[],docs:[]},(r.state==="pending"||r.state==="stopped")&&(r.state="active",r.emit("active")),M())}function P(j,H){f||(H.message||(H.message=j),i.ok=!1,i.status="aborting",o=[],s={seq:0,changes:[],docs:[]},b(H))}function b(j){if(!f&&!(r.cancelled&&(i.status="cancelled",l)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=d,f=!0,e.activeTasks.remove(R,j),j){j=me(j),j.result=i;var H=(j.name||"").toLowerCase();H==="unauthorized"||H==="forbidden"?(r.emit("error",j),r.removeAllListeners()):lI(n,r,j,function(){NS(e,t,n,r)})}else r.emit("complete",i),r.removeAllListeners()}function A(j,H,G){if(r.cancelled)return b();typeof H=="number"&&(s.pending=H);var Z=Dg(n)(j);if(!Z){var ee=e.activeTasks.get(R);if(ee){var se=ee.completed_items||0;e.activeTasks.update(R,{completed_items:++se})}return}s.seq=j.seq||G,s.changes.push(j),r.emit("checkpoint",{pending_batch:s.seq}),nr(function(){D(o.length===0&&O.live)})}function N(j){if(h=!1,r.cancelled)return b();if(j.results.length>0)O.since=j.results[j.results.length-1].seq,U(),D(!0);else{var H=function(){v?(O.live=!0,U()):u=!0,D(!0)};!a&&j.results.length===0?(l=!0,w.writeCheckpoint(j.last_seq,C).then(function(){if(l=!1,i.last_seq=d=j.last_seq,r.cancelled)throw b(),new Error("cancelled");H()}).catch(K)):H()}}function I(j){if(h=!1,r.cancelled)return b();P("changes rejected",j)}function U(){if(!(!h&&!u&&o.length<_))return;h=!0;function j(){G.cancel()}function H(){r.removeListener("cancel",j)}r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",j);var G=e.changes(O).on("change",A);G.then(H,H),G.then(N).catch(I),n.retry&&(r._changes=G,r._abortChanges=j)}function Y(j){return e.info().then(function(H){var G=typeof n.since>"u"?parseInt(H.update_seq,10)-parseInt(j,10):parseInt(H.update_seq,10);return R=e.activeTasks.add({name:`${v?"continuous ":""}replication from ${H.db_name}`,total_items:G}),j})}function V(){B().then(function(){if(r.cancelled){b();return}return w.getCheckpoint().then(Y).then(function(j){d=j,c=j,O={since:d,limit:y,batch_size:y,style:x,doc_ids:m,selector:g,return_docs:!0},n.filter&&(typeof n.filter!="string"?O.include_docs=!0:O.filter=n.filter),"heartbeat"in n&&(O.heartbeat=n.heartbeat),"timeout"in n&&(O.timeout=n.timeout),n.query_params&&(O.query_params=n.query_params),n.view&&(O.view=n.view),U()})}).catch(function(j){P("getCheckpoint rejected with ",j)})}function K(j){l=!1,P("writeCheckpoint completed with error",j)}if(r.cancelled){b();return}r._addedListeners||(r.once("cancel",b),typeof n.complete=="function"&&(r.once("error",n.complete),r.once("complete",function(j){n.complete(null,j)})),r._addedListeners=!0),typeof n.since>"u"?V():B().then(function(){return l=!0,w.writeCheckpoint(n.since,C)}).then(function(){if(l=!1,r.cancelled){b();return}d=n.since,V()}).catch(K)}class fI extends _n{constructor(){super(),this.cancelled=!1,this.state="pending";const t=new Promise((n,r)=>{this.once("complete",n),this.once("error",r)});this.then=function(n,r){return t.then(n,r)},this.catch=function(n){return t.catch(n)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(t,n){if(this._readyCalled)return;this._readyCalled=!0;const r=()=>{this.cancel()};t.once("destroyed",r),n.once("destroyed",r);function i(){t.removeListener("destroyed",r),n.removeListener("destroyed",r)}this.once("complete",i),this.once("error",i)}}function Qu(e,t){var n=t.PouchConstructor;return typeof e=="string"?new n(e,t):e}function Uh(e,t,n,r){if(typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw me(Bc,"`doc_ids` filter parameter is not a list.");n.complete=r,n=pt(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var i=new fI(n),o=Qu(e,n),a=Qu(t,n);return NS(o,a,n,i),i}function dI(e,t,n,r){return typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n=pt(n),n.PouchConstructor=n.PouchConstructor||this,e=Qu(e,n),t=Qu(t,n),new hI(e,t,n,r)}class hI extends _n{constructor(t,n,r,i){super(),this.canceled=!1;const o=r.push?Ki({},r,r.push):r,a=r.pull?Ki({},r,r.pull):r;this.push=Uh(t,n,o),this.pull=Uh(n,t,a),this.pushPaused=!0,this.pullPaused=!0;const s=g=>{this.emit("change",{direction:"pull",change:g})},l=g=>{this.emit("change",{direction:"push",change:g})},u=g=>{this.emit("denied",{direction:"push",doc:g})},f=g=>{this.emit("denied",{direction:"pull",doc:g})},c=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},d=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},v=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},y=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let _={};const x=g=>(p,w)=>{(p==="change"&&(w===s||w===l)||p==="denied"&&(w===f||w===u)||p==="paused"&&(w===d||w===c)||p==="active"&&(w===y||w===v))&&(p in _||(_[p]={}),_[p][g]=!0,Object.keys(_[p]).length===2&&this.removeAllListeners(p))};r.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function h(g,p,w){g.listeners(p).indexOf(w)==-1&&g.on(p,w)}this.on("newListener",function(g){g==="change"?(h(this.pull,"change",s),h(this.push,"change",l)):g==="denied"?(h(this.pull,"denied",f),h(this.push,"denied",u)):g==="active"?(h(this.pull,"active",y),h(this.push,"active",v)):g==="paused"&&(h(this.pull,"paused",d),h(this.push,"paused",c))}),this.on("removeListener",function(g){g==="change"?(this.pull.removeListener("change",s),this.push.removeListener("change",l)):g==="denied"?(this.pull.removeListener("denied",f),this.push.removeListener("denied",u)):g==="active"?(this.pull.removeListener("active",y),this.push.removeListener("active",v)):g==="paused"&&(this.pull.removeListener("paused",d),this.push.removeListener("paused",c))}),this.pull.on("removeListener",x("pull")),this.push.on("removeListener",x("push"));const m=Promise.all([this.push,this.pull]).then(g=>{const p={push:g[0],pull:g[1]};return this.emit("complete",p),i&&i(null,p),this.removeAllListeners(),p},g=>{if(this.cancel(),i?i(g):this.emit("error",g),this.removeAllListeners(),i)throw g});this.then=function(g,p){return m.then(g,p)},this.catch=function(g){return m.catch(g)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}function pI(e){e.replicate=Uh,e.sync=dI,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(n,r,i){return t.constructor.replicate(n,t,r,i)},to:function(n,r,i){return t.constructor.replicate(t,n,r,i)}}),this.replicateMethods}}),e.prototype.sync=function(t,n,r){return this.constructor.sync(this,t,n,r)}}pe.plugin(TD).plugin(zD).plugin(tI).plugin(pI);function ql(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hh={},gI={get exports(){return Hh},set exports(e){Hh=e}};(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function a(u,f){if(!i[u]){if(!r[u]){var c=typeof ql=="function"&&ql;if(!f&&c)return c(u,!0);if(s)return s(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var v=i[u]={exports:{}};r[u][0].call(v.exports,function(y){var _=r[u][1][y];return a(_||y)},v,v.exports,n,r,i,o)}return i[u].exports}for(var s=typeof ql=="function"&&ql,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(n,r,i){var o=n("pouchdb-promise");function a(l,u,f){return typeof u!="string"?o.reject(new Error("doc id is required")):l.get(u).catch(function(c){if(c.status!==404)throw c;return{}}).then(function(c){var d=c._rev,v=f(c);return v?(v._id=u,v._rev=d,s(l,v,f)):{updated:!1,rev:d,id:u}})}function s(l,u,f){return l.put(u).then(function(c){return{updated:!0,rev:c.rev,id:u._id}},function(c){if(c.status!==409)throw c;return a(l,u._id,f)})}i.upsert=function(u,f,c){var d=this,v=a(d,u,f);if(typeof c!="function")return v;v.then(function(y){c(null,y)},c)},i.putIfNotExists=function(u,f,c){var d=this;typeof u!="string"&&(c=f,f=u,u=f._id);var v=function(_){return _._rev?!1:f},y=a(d,u,v);if(typeof c!="function")return y;y.then(function(_){c(null,_)},c)},typeof window<"u"&&window.PouchDB&&window.PouchDB.plugin(i)},{"pouchdb-promise":4}],2:[function(n,r,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var l=0,u=new a(y),f=o.document.createTextNode("");u.observe(f,{characterData:!0}),s=function(){f.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var c=new o.MessageChannel;c.port1.onmessage=y,s=function(){c.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var x=o.document.createElement("script");x.onreadystatechange=function(){y(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},o.document.documentElement.appendChild(x)}:s=function(){setTimeout(y,0)};var d,v=[];function y(){d=!0;for(var x,h,m=v.length;m;){for(h=v,v=[],x=-1;++x<m;)h[x]();m=v.length}d=!1}r.exports=_;function _(x){v.push(x)===1&&!d&&s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],3:[function(n,r,i){var o=n("immediate");function a(){}var s={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];r.exports=c;function c(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==a&&_(this,w)}c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,S){if(typeof w!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var C=new this.constructor(a);if(this.state!==f){var R=this.state===u?w:S;v(C,R,this.outcome)}else this.queue.push(new d(C,w,S));return C};function d(w,S,C){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},d.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},d.prototype.callRejected=function(w){s.reject(this.promise,w)},d.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)};function v(w,S,C){o(function(){var R;try{R=S(C)}catch(O){return s.reject(w,O)}R===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,R)})}s.resolve=function(w,S){var C=x(y,S);if(C.status==="error")return s.reject(w,C.value);var R=C.value;if(R)_(w,R);else{w.state=u,w.outcome=S;for(var O=-1,B=w.queue.length;++O<B;)w.queue[O].callFulfilled(S)}return w},s.reject=function(w,S){w.state=l,w.outcome=S;for(var C=-1,R=w.queue.length;++C<R;)w.queue[C].callRejected(S);return w};function y(w){var S=w&&w.then;if(w&&typeof w=="object"&&typeof S=="function")return function(){S.apply(w,arguments)}}function _(w,S){var C=!1;function R(L){C||(C=!0,s.reject(w,L))}function O(L){C||(C=!0,s.resolve(w,L))}function B(){S(O,R)}var F=x(B);F.status==="error"&&R(F.value)}function x(w,S){var C={};try{C.value=w(S),C.status="success"}catch(R){C.status="error",C.value=R}return C}c.resolve=h;function h(w){return w instanceof this?w:s.resolve(new this(a),w)}c.reject=m;function m(w){var S=new this(a);return s.reject(S,w)}c.all=g;function g(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,R=!1;if(!C)return this.resolve([]);for(var O=new Array(C),B=0,F=-1,L=new this(a);++F<C;)z(w[F],F);return L;function z(T,M){S.resolve(T).then(D,function(P){R||(R=!0,s.reject(L,P))});function D(P){O[M]=P,++B===C&&!R&&(R=!0,s.resolve(L,O))}}}c.race=p;function p(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,R=!1;if(!C)return this.resolve([]);for(var O=-1,B=new this(a);++O<C;)F(w[O]);return B;function F(L){S.resolve(L).then(function(z){R||(R=!0,s.resolve(B,z))},function(z){R||(R=!0,s.reject(B,z))})}}},{immediate:2}],4:[function(n,r,i){function o(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var a=o(n("lie")),s=typeof Promise=="function"?Promise:a;r.exports=s},{lie:3}]},{},[1])(1)})})(gI);const mI=Hh,vI=mI;pe.plugin(vI);const Oe=new pe("alternis-v1/documents");globalThis.global=globalThis;globalThis._pouchdb=Oe;const Q0=()=>-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),Z0={api:{async syncMe(){},async syncMyRecentDocuments(){},async getDocument(e){return Oe.get(e)},async patchDocument(e){return await Oe.upsert(`${e.id}`,()=>e),e},async updateDocumentMeta(e,t){const n=await Oe.get(e);return Oe.put({...n,...t,_id:`${e}`}).then()},async deleteDocument(e){const t=await Oe.get(e);await Oe.remove(t)},async createDocument(e={}){const n=`${Q0()}`;await Oe.put({name:"",ownerEmail:void 0,updatedAt:new Date().toString(),functions:{},variables:{},dialogues:{},participants:[],...e,_id:n,id:n})},async duplicateDocument(e){const n=`${Q0()}`,r=await Oe.get(e.id);await Oe.put({...r,ownerEmail:void 0,_id:n,id:n})}}},jn=e=>{const t=cP({include_docs:!0}),n=oe.useMemo(()=>({documents:t.rows.filter(r=>!r.doc._deleted).map(r=>r.doc),me:void 0,...Z0}),[t,Z0]);return typeof e=="function"?e(n):n},yI={Left:0,Middle:1,Right:2,DoubleClick:"double-click"};var TS=(e=>(e.Control="Control",e.Meta="Meta",e.Alt="Alt",e.Shift="Shift",e))(TS||{});const Wg=/Mac/.test(navigator.userAgent),wI=/Linux/.test(navigator.userAgent),_I={nodes:[{id:"1",type:"entry",position:{x:540,y:100}}],edges:[]},OS="My Dialogue",Vg={preferences:{participantEditor:{iconSize:"medium",lastSelected:void 0},graph:{enableBoxSelectOnDrag:!1,dragBoxSelectMouseBinding:{button:0},dragPanMouseBinding:{button:0},...Wg?{addNodeMouseBinding:{button:0,type:"dblclick"},appendToSelectModifier:"Meta"}:{addNodeMouseBinding:{button:2},appendToSelectModifier:"Control"}}},permissions:{version:"trial"},projectId:void 0,currentDialogueId:OS};Object.freeze(Vg);const PS="alternis-v1_appState",cu=Tg,xI=Tg.id;let qh=()=>window.location.hash.includes("demo")||window.location.search.includes("demo");const DS=structuredClone(Vg);delete DS.document;const SI=(()=>{let e;try{const t=localStorage.getItem(PS);t!==null&&(e=JSON.parse(t))}catch{}return{...DS,...e,...qh()&&{currentDialogueId:Object.keys(cu.dialogues)[0]}}})(),ve=va()(TO.temporal(()=>({...SI})));globalThis._appState=ve;const $h=OS,ys={id:"0",name:"",dialogues:{[$h]:{nodes:[{id:"1",type:"entry",position:{x:255,y:105},data:{},width:68,height:41,selected:!1,positionAbsolute:{x:255,y:105},dragging:!1}],edges:[]}},updatedAt:new Date().toISOString(),ownerEmail:void 0,participants:[],variables:{},functions:{}},IS="";function En(e){const t=ve(r=>r.projectId)??"",n=$x(t??IS,void 0,ys).doc;return typeof e=="function"?e(n):n}function kt(e){const t=ve(s=>s.projectId),n=$x(t??IS,void 0,ys).doc,r=n===ys,i=ve(s=>s.currentDialogueId),o=r?$h:i,a=n.dialogues[o]??ys.dialogues[$h];return e?e(a):a}(e=>{e.setState=async t=>{const n=ve.getState().projectId;if(n===void 0)return;const r=ve.getState().currentDialogueId,i=await Oe.get(n);if(i===void 0)return;const o=i.dialogues[r];await Oe.upsert(i._id,a=>({...a,dialogues:{...a.dialogues,[r]:{...o,...typeof t=="function"?t(o):t}}}))},e.getState=async()=>{const t=ve.getState().projectId;if(t===void 0)throw Error("attempted to useCurrentDialogue.getState without a loaded document");const n=await Oe.get(t),r=ve.getState().currentDialogueId;return n.dialogues[r]}})(kt||(kt={}));const X0=(e,t)=>Sc(ve.temporal,e,t);ve.subscribe(e=>localStorage.setItem(PS,JSON.stringify(e)));if(qh()){const e=r=>[Object.entries(r.dialogues).map(([i,o])=>[i,o.nodes.map(a=>[a.id,a.type,a.data]),o.edges.map(a=>[a.id,a.source,a.target])])],t=JSON.stringify(e(cu));(async()=>{await Oe.putIfNotExists({...cu,_id:"hidden/demo1"}),ve.setState({projectId:"hidden/demo1",currentDialogueId:Object.keys(cu.dialogues)[0]});const r=Oe.changes({since:"now",include_docs:!0,live:!0}).on("change",i=>{const o=()=>JSON.stringify(e(i.doc))!==t;i.id===xI&&qh()&&o()&&(window.location.hash=window.location.hash.replace("demo",""),window.location.search=window.location.search.replace("demo",""),r.removeAllListeners())})})()}function EI(){ve.setState(vh(Vg))}const MS=e=>kt(t=>t.nodes.find(n=>n.id===e)),di=e=>t=>{kt.setState(n=>{const r=n.nodes.slice(),i=n.nodes.findIndex(a=>a.id===e),o=n.nodes[i];return o===void 0?n:(r[i]={...o,data:{...o.data,...typeof t=="function"?t(o.data):t}},{...n,nodes:r})})},LS=e=>k.createElement("svg",{width:"83.111717mm",height:"107.62805mm",viewBox:"0 0 83.111718 107.62805",id:"svg5","inkscape:version":"1.1.2 (0a00cf5339, 2022-02-04)","sodipodi:docname":"inkscape-lock.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},k.createElement("sodipodi:namedview",{id:"namedview7",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:pageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":0,"inkscape:document-units":"mm",showgrid:"false","inkscape:snap-global":"true","inkscape:snap-bbox":"true","inkscape:snap-nodes":"true","inkscape:snap-bbox-midpoints":"false","inkscape:snap-grids":"true","inkscape:zoom":1.4142136,"inkscape:cx":354.9676,"inkscape:cy":226.27417,"inkscape:window-width":1876,"inkscape:window-height":1141,"inkscape:window-x":44,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:lockguides":"false"}),k.createElement("defs",{id:"defs2"}),k.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1",transform:"translate(0,-0.03113688)"},k.createElement("path",{id:"rect1687",style:{fill:"#ffffff",strokeWidth:12,strokeLinecap:"round"},d:"M 157.19336,0 C 99.334303,0 52.278722,46.126522 50.712891,103.60742 h -0.07422 l -0.03516,73.32031 H 15.117188 C 6.7417575,176.92773 0,183.67148 0,192.04688 v 199.61914 c 0,8.37543 6.7417575,15.11718 15.117188,15.11718 H 299.00391 c 8.37543,0 15.11914,-6.74175 15.11914,-15.11718 V 192.04688 c 0,-8.3754 -6.74371,-15.11915 -15.11914,-15.11915 h -35.48438 c 0.0777,-24.39458 0.14857,-49.00108 0.22455,-73.32031 h -0.0723 C 262.10621,46.126522 215.05243,-1.0015748e-5 157.19336,0 Z m 0,49.208984 c 30.67533,-7e-6 55.65167,24.106749 57.19531,54.398436 h -0.0332 c 0.0789,24.49506 -0.2192,48.98835 -0.3887,73.48242 0,0 -40.93831,0.0352 -56.77344,0.0352 -15.79488,0 -57.449219,0.041 -57.449219,0.041 l 0.18164,-72.10547 C 100.72565,74.087508 126.02747,49.208984 157.19336,49.208984 Z m -0.98828,175.193356 c 18.65004,-9.8e-4 33.76943,15.11754 33.76953,33.76758 -5e-5,9.32502 -3.77992,17.76716 -9.89104,23.87792 -3.05555,3.05538 -6.69392,5.52792 -10.73403,7.23655 -2.02005,0.85432 7.77046,49.1033 7.77046,49.1033 0,0 -18.58366,-0.029 -20.91492,-0.0291 -2.33116,-10e-6 -23.02587,0.0334 -23.02587,0.0334 0,0 11.90198,-48.25381 9.88204,-49.10818 -4.03989,-1.70874 -7.67804,-4.18132 -10.7334,-7.23668 -6.11073,-6.11072 -9.8903,-14.55259 -9.89035,-23.87723 1e-4,-18.64928 15.1183,-33.76748 33.76758,-33.76758 z","sodipodi:nodetypes":"scccsssssssscccsscccsccsccsscccssccc",transform:"matrix(0.26458333,0,0,0.26458333,0,0.03113688)"}))),BS=e=>k.createElement("svg",{width:"83.111717mm",height:"107.62805mm",viewBox:"0 0 83.111718 107.62805",id:"svg5","inkscape:version":"1.1.2 (0a00cf5339, 2022-02-04)","sodipodi:docname":"inkscape-unlock.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},k.createElement("sodipodi:namedview",{id:"namedview7",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:pageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":0,"inkscape:document-units":"mm",showgrid:"false","inkscape:snap-global":"true","inkscape:snap-bbox":"true","inkscape:snap-nodes":"true","inkscape:snap-bbox-midpoints":"false","inkscape:snap-grids":"true","inkscape:zoom":1.4142136,"inkscape:cx":236.52721,"inkscape:cy":226.27416,"inkscape:window-width":1876,"inkscape:window-height":1141,"inkscape:window-x":44,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:lockguides":"false"}),k.createElement("defs",{id:"defs2"}),k.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1",transform:"translate(0,-0.03113688)"},k.createElement("path",{id:"rect1687",style:{fill:"#ffffff",strokeWidth:12,strokeLinecap:"round"},d:"M 157.19336,0 C 99.334303,0 52.278722,46.126525 50.712891,103.60742 h -0.07422 l -0.03516,73.32031 H 15.117188 C 6.7417571,176.92773 0,183.67148 0,192.04688 v 199.61914 c 0,8.37543 6.7417571,15.11718 15.117188,15.11718 H 299.00391 c 8.37543,0 15.11914,-6.74175 15.11914,-15.11718 V 192.04688 c 0,-8.3754 -6.74371,-15.11915 -15.11914,-15.11915 h -35.48438 c 0.0294,-9.22107 -0.0281,9.25467 0,0 l -49.55272,0.16211 c -0.0737,9.29246 0.0643,-9.29254 0,0 0,0 -40.93831,0.0352 -56.77344,0.0352 -15.79488,0 -57.449219,0.041 -57.449219,0.041 l 0.18164,-72.10547 c 0.799899,-30.973065 26.101689,-55.851566 57.267579,-55.851566 30.67533,-7e-6 55.65167,24.106751 57.19531,54.398436 h -0.0332 49.38872 -0.0723 C 262.10631,46.126525 215.05243,-1.0015748e-5 157.19336,0 Z m -0.98828,224.40234 c 18.65004,-9.8e-4 33.76943,15.11754 33.76953,33.76758 -5e-5,9.32502 -3.77951,17.7662 -9.89063,23.87696 -3.05555,3.05537 -6.69426,5.52965 -10.73437,7.23828 -2.02005,0.85432 7.76953,49.10156 7.76953,49.10156 0,0 -18.5828,-0.0273 -20.91406,-0.0273 -2.33116,-10e-6 -23.02539,0.0332 -23.02539,0.0332 0,0 11.9008,-48.25501 9.88086,-49.10938 -4.03989,-1.70874 -7.67707,-4.18097 -10.73243,-7.23632 -6.11072,-6.11072 -9.89057,-14.55232 -9.89062,-23.87696 1e-4,-18.64928 15.1183,-33.76748 33.76758,-33.76758 z",transform:"matrix(0.26458333,0,0,0.26458333,0,0.03113688)","sodipodi:nodetypes":"scccssssssssccccsccsccccsccsscccssccc"}))),bI=e=>k.createElement("svg",{width:50,height:50,viewBox:"0 0 13.229167 13.229167",id:"svg1","sodipodi:docname":"inkscape-export.svg","inkscape:version":"1.3.1 (9b9bdc1480, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/",...e},k.createElement("title",{id:"title3"},"export"),k.createElement("sodipodi:namedview",{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:showpageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":"true","inkscape:deskcolor":"#d1d1d1","inkscape:document-units":"mm","inkscape:zoom":11.313708,"inkscape:cx":28.107495,"inkscape:cy":27.621359,"inkscape:window-width":1920,"inkscape:window-height":1051,"inkscape:window-x":1920,"inkscape:window-y":120,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:clip-to-page":"false",labelstyle:"default"}),k.createElement("defs",{id:"defs1"},k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-7",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-0",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"})),k.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},k.createElement("path",{id:"path1",style:{display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299286px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 7.5256388,1.1162109 -6.1370931,0.00827 V 12.262301 H 10.591085 V 7.0328496 C 10.413171,8.0235417 7.8018916,10.11356 4.0798543,10.298596 5.8597731,8.7653467 7.6011023,7.6586117 8.3255812,5.2883712 c -0.4595366,0 -0.7821478,0.00588 -1.2500441,0.00588 0.7290811,-0.861936 1.458361,-1.7239718 2.1874634,-2.5858887 z","sodipodi:nodetypes":"cccccccccc"}),k.createElement("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299802px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"M 5.5223578,9.5982164 C 9.8695995,8.7475548 10.997358,4.8028001 10.997358,4.8028001 l 0.881313,-0.0033 -1.833606,-2.194417 -1.8258447,2.154869 0.9335514,-0.00388 c 0.070035,0.7362425 -1.5070449,3.675449 -3.6304139,4.8421523 z",id:"path2-3","sodipodi:nodetypes":"cccccccc"}),k.createElement("path",{style:{fill:"none",stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"M 0.50828191,5.1345798 H 13.03882",id:"path3"})),k.createElement("metadata",{id:"metadata3"},k.createElement("rdf:RDF",null,k.createElement("cc:Work",{"rdf:about":""},k.createElement("cc:license",{"rdf:resource":"http://creativecommons.org/publicdomain/zero/1.0/"}),k.createElement("dc:creator",null,k.createElement("cc:Agent",null,k.createElement("dc:title",null,"Michael Belousov"))),k.createElement("dc:title",null,"import")),k.createElement("cc:License",{"rdf:about":"http://creativecommons.org/publicdomain/zero/1.0/"},k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Reproduction"}),k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Distribution"}),k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#DerivativeWorks"}))))),kI=e=>k.createElement("svg",{width:50,height:50,viewBox:"0 0 13.229167 13.229167",id:"svg1","sodipodi:docname":"inkscape-import.svg","inkscape:version":"1.3.1 (9b9bdc1480, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/",...e},k.createElement("title",{id:"title3"},"import"),k.createElement("sodipodi:namedview",{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:showpageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":"true","inkscape:deskcolor":"#d1d1d1","inkscape:document-units":"mm","inkscape:zoom":18.222562,"inkscape:cx":23.706875,"inkscape:cy":20.359376,"inkscape:window-width":1920,"inkscape:window-height":1104,"inkscape:window-x":0,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:clip-to-page":"false",labelstyle:"default",showgrid:"false"}),k.createElement("defs",{id:"defs1"},k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-7",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),k.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"})),k.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},k.createElement("path",{id:"path1",style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299286px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 7.5258843,1.1163962 -6.1372508,0.0083 V 12.262377 h 9.2021945 l 0.04107,-4.4927067 C 9.9177201,8.3889424 9.0836048,8.9466215 8.1879079,9.2431668 c 0,0.6558232 0.00581,1.0615142 0.00581,1.5554832 C 7.8207157,10.425647 5.9090437,8.8362336 4.8653148,7.7925047 5.8994765,6.758343 7.0507665,5.6350168 8.0128717,4.6364225 c 0,1.3011782 0.0049,0.9333658 0.0049,1.536714 0.2049676,-0.0033 0.3884703,0.00482 0.5905113,-0.029421 0.6101967,-0.094289 1.1759846,-0.3977802 1.621881,-0.8204074 0.127747,-0.1226487 0.247171,-0.2519554 0.360664,-0.385976 V 3.9252504 Z","sodipodi:nodetypes":"ccccccccccccccc"}),k.createElement("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 151.58928,100.74713 c -4.93339,40.04652 -41.94974,48.92432 -41.94974,48.92432 l -0.0636,8.5016 -18.020211,-16.48971 17.157391,-17.78539 0.0518,9.49921 c 24.2447,0.58583 32.24087,-14.20471 42.82433,-32.65003 z",id:"path2","sodipodi:nodetypes":"ccccccc",transform:"matrix(0.1131163,0,0,0.1131163,-4.7599082,-8.2414495)","inkscape:original-d":"m 151.58928,100.74713 c -4.93339,40.04652 -41.94974,48.92432 -41.94974,48.92432 l -0.0636,8.5016 -18.020211,-16.48971 17.157391,-17.78539 0.0518,9.49921 c 24.2447,0.58583 32.24087,-14.20471 42.82433,-32.65003 z","inkscape:path-effect":"#path-effect2"})),k.createElement("metadata",{id:"metadata3"},k.createElement("rdf:RDF",null,k.createElement("cc:Work",{"rdf:about":""},k.createElement("cc:license",{"rdf:resource":"http://creativecommons.org/publicdomain/zero/1.0/"}),k.createElement("dc:creator",null,k.createElement("cc:Agent",null,k.createElement("dc:title",null,"Michael Belousov"))),k.createElement("dc:title",null,"import")),k.createElement("cc:License",{"rdf:about":"http://creativecommons.org/publicdomain/zero/1.0/"},k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Reproduction"}),k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Distribution"}),k.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#DerivativeWorks"}))))),zS="/app/assets/participant-icon-592e6262.svg",CI="_contextMenuRoot_ybg2e_2",AI="_contextMenuOptions_ybg2e_9",RI="_contextMenuOption_ybg2e_9",Zu={contextMenuRoot:CI,contextMenuOptions:AI,contextMenuOption:RI},NI={0:"left mouse button",1:"middle mouse button",2:"right mouse button",3:"aux mouse button 1",4:"aux mouse button 2"};function TI(e){return e.type==="dblclick"?"double click":(e.ctrlKey?"ctrl+":"")+(e.shiftKey?"shift+":"")+(e.altKey?"alt+":"")+(e.metaKey?"meta+":"")+NI[e.button]}function OI(e,t){return(t.type===void 0&&e.type==="mousedown"||e.type===t.type)&&e.button===t.button&&!!t.ctrlKey===e.ctrlKey&&!!t.altKey===e.altKey&&!!t.shiftKey===e.shiftKey&&!!t.metaKey===e.metaKey}function ey(e){const[t,n]=k.useState(!1);return k.useEffect(()=>{if(t){const r=async i=>{var u;i.preventDefault(),i.stopPropagation();let o;const a=new Promise(f=>{o=f,document.addEventListener("dblclick",o)}).finally(()=>document.removeEventListener("dblclick",o)),s=new Promise(f=>setTimeout(()=>f("timeout"),200)),l=await Promise.race([a,s]);return l!=="timeout"&&(i=l),(u=e.onChange)==null||u.call(e,{type:i.type,button:i.button,ctrlKey:!e.ignoreModifiers&&i.ctrlKey,altKey:!e.ignoreModifiers&&i.altKey,metaKey:!e.ignoreModifiers&&i.metaKey,shiftKey:!e.ignoreModifiers&&i.shiftKey}),n(!1),!1};return document.addEventListener("mousedown",r,!0),()=>document.removeEventListener("mousedown",r,!0)}},[t]),E("button",{onClick:()=>n(!0),children:t?E(De,{children:"press your button..."}):TI(e.value)})}function Je(e,t){if(!e)throw Error(t??"Assertion error, condition was falsy")}function ai(e){return jS(e)?(e.nodeName||"").toLowerCase():"#document"}function en(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nr(e){var t;return(t=(jS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jS(e){return e instanceof Node||e instanceof en(e).Node}function ht(e){return e instanceof Element||e instanceof en(e).Element}function rn(e){return e instanceof HTMLElement||e instanceof en(e).HTMLElement}function Wh(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof en(e).ShadowRoot}function ll(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=on(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function PI(e){return["table","td","th"].includes(ai(e))}function Kg(e){const t=Gg(),n=on(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DI(e){let t=Qi(e);for(;rn(t)&&!ul(t);){if(Kg(t))return t;t=Qi(t)}return null}function Gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ul(e){return["html","body","#document"].includes(ai(e))}function on(e){return en(e).getComputedStyle(e)}function Uc(e){return ht(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qi(e){if(ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wh(e)&&e.host||Nr(e);return Wh(t)?t.host:t}function FS(e){const t=Qi(e);return ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:rn(t)&&ll(t)?t:FS(t)}function ti(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=FS(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=en(i);return o?t.concat(a,a.visualViewport||[],ll(i)?i:[],a.frameElement&&n?ti(a.frameElement):[]):t.concat(i,ti(i,[],n))}function ty(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Wh(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function II(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function MI(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function LI(e){return e.mozInputSource===0&&e.isTrusted?!0:US()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function BI(e){return!US()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function US(){const e=/android/i;return e.test(II())||e.test(MI())}function ny(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function zI(e){return"nativeEvent"in e}function jI(e){return e.matches("html,body")}function qf(e){return(e==null?void 0:e.ownerDocument)||document}function $f(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ga(e){return"composedPath"in e?e.composedPath()[0]:e.target}const FI="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function UI(e){return rn(e)&&e.matches(FI)}const Vh=Math.min,Go=Math.max,Xu=Math.round,$l=Math.floor,si=e=>({x:e,y:e});function HS(e){return e.split("-")[0]}function HI(e){return e.split("-")[1]}function qI(e){return e==="x"?"y":"x"}function $I(e){return e==="y"?"height":"width"}function qS(e){return["top","bottom"].includes(HS(e))?"y":"x"}function WI(e){return qI(qS(e))}function $S(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ry(e,t,n){let{reference:r,floating:i}=e;const o=qS(t),a=WI(t),s=$I(a),l=HS(t),u=o==="y",f=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let v;switch(l){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:c};break;case"left":v={x:r.x-i.width,y:c};break;default:v={x:r.x,y:r.y}}switch(HI(t)){case"start":v[a]-=d*(n&&u?-1:1);break;case"end":v[a]+=d*(n&&u?-1:1);break}return v}const VI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=ry(u,r,l),d=r,v={},y=0;for(let _=0;_<s.length;_++){const{name:x,fn:h}=s[_],{x:m,y:g,data:p,reset:w}=await h({x:f,y:c,initialPlacement:r,placement:d,strategy:i,middlewareData:v,rects:u,platform:a,elements:{reference:e,floating:t}});if(f=m??f,c=g??c,v={...v,[x]:{...v[x],...p}},w&&y<=50){y++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:f,y:c}=ry(u,d,l)),_=-1;continue}}return{x:f,y:c,placement:d,strategy:i,middlewareData:v}};function WS(e){const t=on(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=rn(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Xu(n)!==o||Xu(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Yg(e){return ht(e)?e:e.contextElement}function Yo(e){const t=Yg(e);if(!rn(t))return si(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=WS(t);let a=(o?Xu(n.width):n.width)/r,s=(o?Xu(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const KI=si(0);function VS(e){const t=en(e);return!Gg()||!t.visualViewport?KI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==en(e)?!1:t}function Zi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Yg(e);let a=si(1);t&&(r?ht(r)&&(a=Yo(r)):a=Yo(e));const s=GI(o,n,r)?VS(o):si(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,c=i.height/a.y;if(o){const d=en(o),v=r&&ht(r)?en(r):r;let y=d.frameElement;for(;y&&r&&v!==d;){const _=Yo(y),x=y.getBoundingClientRect(),h=on(y),m=x.left+(y.clientLeft+parseFloat(h.paddingLeft))*_.x,g=x.top+(y.clientTop+parseFloat(h.paddingTop))*_.y;l*=_.x,u*=_.y,f*=_.x,c*=_.y,l+=m,u+=g,y=en(y).frameElement}}return $S({width:f,height:c,x:l,y:u})}function YI(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=rn(n),o=Nr(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s=si(1);const l=si(0);if((i||!i&&r!=="fixed")&&((ai(n)!=="body"||ll(o))&&(a=Uc(n)),rn(n))){const u=Zi(n);s=Yo(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function JI(e){return Array.from(e.getClientRects())}function KS(e){return Zi(Nr(e)).left+Uc(e).scrollLeft}function QI(e){const t=Nr(e),n=Uc(e),r=e.ownerDocument.body,i=Go(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Go(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+KS(e);const s=-n.scrollTop;return on(r).direction==="rtl"&&(a+=Go(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function ZI(e,t){const n=en(e),r=Nr(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=Gg();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function XI(e,t){const n=Zi(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=rn(e)?Yo(e):si(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function iy(e,t,n){let r;if(t==="viewport")r=ZI(e,n);else if(t==="document")r=QI(Nr(e));else if(ht(t))r=XI(t,n);else{const i=VS(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return $S(r)}function GS(e,t){const n=Qi(e);return n===t||!ht(n)||ul(n)?!1:on(n).position==="fixed"||GS(n,t)}function eM(e,t){const n=t.get(e);if(n)return n;let r=ti(e,[],!1).filter(s=>ht(s)&&ai(s)!=="body"),i=null;const o=on(e).position==="fixed";let a=o?Qi(e):e;for(;ht(a)&&!ul(a);){const s=on(a),l=Kg(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ll(a)&&!l&&GS(e,a))?r=r.filter(f=>f!==a):i=s,a=Qi(a)}return t.set(e,r),r}function tM(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?eM(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,f)=>{const c=iy(t,f,i);return u.top=Go(c.top,u.top),u.right=Vh(c.right,u.right),u.bottom=Vh(c.bottom,u.bottom),u.left=Go(c.left,u.left),u},iy(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nM(e){return WS(e)}function rM(e,t,n){const r=rn(t),i=Nr(t),o=n==="fixed",a=Zi(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=si(0);if(r||!r&&!o)if((ai(t)!=="body"||ll(i))&&(s=Uc(t)),r){const u=Zi(t,!0,o,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=KS(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function oy(e,t){return!rn(e)||on(e).position==="fixed"?null:t?t(e):e.offsetParent}function YS(e,t){const n=en(e);if(!rn(e))return n;let r=oy(e,t);for(;r&&PI(r)&&on(r).position==="static";)r=oy(r,t);return r&&(ai(r)==="html"||ai(r)==="body"&&on(r).position==="static"&&!Kg(r))?n:r||DI(e)||n}const iM=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||YS,o=this.getDimensions;return{reference:rM(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function oM(e){return on(e).direction==="rtl"}const aM={convertOffsetParentRelativeRectToViewportRelativeRect:YI,getDocumentElement:Nr,getClippingRect:tM,getOffsetParent:YS,getElementRects:iM,getClientRects:JI,getDimensions:nM,getScale:Yo,isElement:ht,isRTL:oM};function sM(e,t){let n=null,r;const i=Nr(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:f,width:c,height:d}=e.getBoundingClientRect();if(s||t(),!c||!d)return;const v=$l(f),y=$l(i.clientWidth-(u+c)),_=$l(i.clientHeight-(f+d)),x=$l(u),m={rootMargin:-v+"px "+-y+"px "+-_+"px "+-x+"px",threshold:Go(0,Vh(1,l))||1};let g=!0;function p(w){const S=w[0].intersectionRatio;if(S!==l){if(!g)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},100)}g=!1}try{n=new IntersectionObserver(p,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(p,m)}n.observe(e)}return a(!0),o}function lM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Yg(e),f=i||o?[...u?ti(u):[],...ti(t)]:[];f.forEach(h=>{i&&h.addEventListener("scroll",n,{passive:!0}),o&&h.addEventListener("resize",n)});const c=u&&s?sM(u,n):null;let d=-1,v=null;a&&(v=new ResizeObserver(h=>{let[m]=h;m&&m.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{v&&v.observe(t)})),n()}),u&&!l&&v.observe(u),v.observe(t));let y,_=l?Zi(e):null;l&&x();function x(){const h=Zi(e);_&&(h.x!==_.x||h.y!==_.y||h.width!==_.width||h.height!==_.height)&&n(),_=h,y=requestAnimationFrame(x)}return n(),()=>{f.forEach(h=>{i&&h.removeEventListener("scroll",n),o&&h.removeEventListener("resize",n)}),c&&c(),v&&v.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const uM=(e,t,n)=>{const r=new Map,i={platform:aM,...n},o={...i.platform,_c:r};return VI(e,t,{...i,platform:o})};var fu=typeof document<"u"?k.useLayoutEffect:k.useEffect;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function JS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ay(e,t){const n=JS(e);return Math.round(t*n)/n}function sy(e){const t=k.useRef(e);return fu(()=>{t.current=e}),t}function cM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[f,c]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,v]=k.useState(r);ec(d,r)||v(r);const[y,_]=k.useState(null),[x,h]=k.useState(null),m=k.useCallback(D=>{D!=S.current&&(S.current=D,_(D))},[_]),g=k.useCallback(D=>{D!==C.current&&(C.current=D,h(D))},[h]),p=o||y,w=a||x,S=k.useRef(null),C=k.useRef(null),R=k.useRef(f),O=sy(l),B=sy(i),F=k.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:n,middleware:d};B.current&&(D.platform=B.current),uM(S.current,C.current,D).then(P=>{const b={...P,isPositioned:!0};L.current&&!ec(R.current,b)&&(R.current=b,_s.flushSync(()=>{c(b)}))})},[d,t,n,B]);fu(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,c(D=>({...D,isPositioned:!1})))},[u]);const L=k.useRef(!1);fu(()=>(L.current=!0,()=>{L.current=!1}),[]),fu(()=>{if(p&&(S.current=p),w&&(C.current=w),p&&w){if(O.current)return O.current(p,w,F);F()}},[p,w,F,O]);const z=k.useMemo(()=>({reference:S,floating:C,setReference:m,setFloating:g}),[m,g]),T=k.useMemo(()=>({reference:p,floating:w}),[p,w]),M=k.useMemo(()=>{const D={position:n,left:0,top:0};if(!T.floating)return D;const P=ay(T.floating,f.x),b=ay(T.floating,f.y);return s?{...D,transform:"translate("+P+"px, "+b+"px)",...JS(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:b}},[n,s,T.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:F,refs:z,elements:T,floatingStyles:M}),[f,F,z,T,M])}const fM=up["useInsertionEffect".toString()],dM=fM||(e=>e());function mo(e){const t=k.useRef(()=>{});return dM(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var QS=typeof document<"u"?k.useLayoutEffect:k.useEffect;let Wf=!1,hM=0;const ly=()=>"floating-ui-"+hM++;function pM(){const[e,t]=k.useState(()=>Wf?ly():void 0);return QS(()=>{e==null&&t(ly())},[]),k.useEffect(()=>{Wf||(Wf=!0)},[]),e}const gM=up["useId".toString()],mM=gM||pM;function vM(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const yM=k.createContext(null),wM=k.createContext(null),_M=()=>{var e;return((e=k.useContext(yM))==null?void 0:e.id)||null},ZS=()=>k.useContext(wM);function xM(e){return"data-floating-ui-"+e}function Vf(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(a=>{var s;return i.parentId===a.id&&((s=i.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function uy(e){return rn(e.target)&&e.target.tagName==="BUTTON"}function cy(e){return UI(e)}function SM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:a=!0,event:s="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:f=!0}=t,c=k.useRef(),d=k.useRef(!1);return k.useMemo(()=>a?{reference:{onPointerDown(v){c.current=v.pointerType},onMouseDown(v){v.button===0&&(ny(c.current,!0)&&u||s!=="click"&&(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,v.nativeEvent):(v.preventDefault(),r(!0,v.nativeEvent))))},onClick(v){if(s==="mousedown"&&c.current){c.current=void 0;return}ny(c.current,!0)&&u||(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,v.nativeEvent):r(!0,v.nativeEvent))},onKeyDown(v){c.current=void 0,!(v.defaultPrevented||!f||uy(v))&&(v.key===" "&&!cy(o)&&(v.preventDefault(),d.current=!0),v.key==="Enter"&&r(!(n&&l),v.nativeEvent))},onKeyUp(v){v.defaultPrevented||!f||uy(v)||cy(o)||v.key===" "&&d.current&&(d.current=!1,r(!(n&&l),v.nativeEvent))}}}:{},[a,i,s,u,f,o,l,n,r])}const EM={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},bM={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},fy=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function kM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:a,domReference:s,floating:l},dataRef:u}=e,{enabled:f=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:v="pointerdown",referencePress:y=!1,referencePressEvent:_="pointerdown",ancestorScroll:x=!1,bubbles:h,capture:m}=t,g=ZS(),p=_M()!=null,w=mo(typeof d=="function"?d:()=>!1),S=typeof d=="function"?w:d,C=k.useRef(!1),R=k.useRef(!1),{escapeKey:O,outsidePress:B}=fy(h),{escapeKey:F,outsidePress:L}=fy(m),z=mo(P=>{if(!n||!f||!c||P.key!=="Escape")return;const b=g?Vf(g.nodesRef.current,o):[];if(!O&&(P.stopPropagation(),b.length>0)){let A=!0;if(b.forEach(N=>{var I;if((I=N.context)!=null&&I.open&&!N.context.dataRef.current.__escapeKeyBubbles){A=!1;return}}),!A)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,zI(P)?P.nativeEvent:P)}),T=mo(P=>{var b;const A=()=>{var N;z(P),(N=Ga(P))==null||N.removeEventListener("keydown",A)};(b=Ga(P))==null||b.addEventListener("keydown",A)}),M=mo(P=>{const b=C.current;C.current=!1;const A=R.current;if(R.current=!1,v==="click"&&A||b||typeof S=="function"&&!S(P))return;const N=Ga(P),I="["+xM("inert")+"]",U=qf(l).querySelectorAll(I);let Y=ht(N)?N:null;for(;Y&&!ul(Y);){const j=Qi(Y);if(j===qf(l).body||!ht(j))break;Y=j}if(U.length&&ht(N)&&!jI(N)&&!ty(N,l)&&Array.from(U).every(j=>!ty(Y,j)))return;if(rn(N)&&l){const j=N.clientWidth>0&&N.scrollWidth>N.clientWidth,H=N.clientHeight>0&&N.scrollHeight>N.clientHeight;let G=H&&P.offsetX>N.clientWidth;if(H&&on(N).direction==="rtl"&&(G=P.offsetX<=N.offsetWidth-N.clientWidth),G||j&&P.offsetY>N.clientHeight)return}const V=g&&Vf(g.nodesRef.current,o).some(j=>{var H;return $f(P,(H=j.context)==null?void 0:H.elements.floating)});if($f(P,l)||$f(P,s)||V)return;const K=g?Vf(g.nodesRef.current,o):[];if(K.length>0){let j=!0;if(K.forEach(H=>{var G;if((G=H.context)!=null&&G.open&&!H.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:p?{preventScroll:!0}:LI(P)||BI(P)}}),r(!1,P)}),D=mo(P=>{var b;const A=()=>{var N;M(P),(N=Ga(P))==null||N.removeEventListener(v,A)};(b=Ga(P))==null||b.addEventListener(v,A)});return k.useEffect(()=>{if(!n||!f)return;u.current.__escapeKeyBubbles=O,u.current.__outsidePressBubbles=B;function P(N){r(!1,N)}const b=qf(l);c&&b.addEventListener("keydown",F?T:z,F),S&&b.addEventListener(v,L?D:M,L);let A=[];return x&&(ht(s)&&(A=ti(s)),ht(l)&&(A=A.concat(ti(l))),!ht(a)&&a&&a.contextElement&&(A=A.concat(ti(a.contextElement)))),A=A.filter(N=>{var I;return N!==((I=b.defaultView)==null?void 0:I.visualViewport)}),A.forEach(N=>{N.addEventListener("scroll",P,{passive:!0})}),()=>{c&&b.removeEventListener("keydown",F?T:z,F),S&&b.removeEventListener(v,L?D:M,L),A.forEach(N=>{N.removeEventListener("scroll",P)})}},[u,l,s,a,c,S,v,n,r,x,f,O,B,z,F,T,M,L,D]),k.useEffect(()=>{C.current=!1},[S,v]),k.useMemo(()=>f?{reference:{onKeyDown:z,[EM[_]]:P=>{y&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,P.nativeEvent))}},floating:{onKeyDown:z,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[bM[v]]:()=>{C.current=!0}}}:{},[f,i,y,v,_,r,z])}function CM(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:i}=e,[o,a]=k.useState(null),s=((t=e.elements)==null?void 0:t.reference)||o,l=cM(e),u=ZS(),f=mo((p,w)=>{p&&(d.current.openEvent=w),r==null||r(p,w)}),c=k.useRef(null),d=k.useRef({}),v=k.useState(()=>vM())[0],y=mM(),_=k.useCallback(p=>{const w=ht(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;l.refs.setReference(w)},[l.refs]),x=k.useCallback(p=>{(ht(p)||p===null)&&(c.current=p,a(p)),(ht(l.refs.reference.current)||l.refs.reference.current===null||p!==null&&!ht(p))&&l.refs.setReference(p)},[l.refs]),h=k.useMemo(()=>({...l.refs,setReference:x,setPositionReference:_,domReference:c}),[l.refs,x,_]),m=k.useMemo(()=>({...l.elements,domReference:s}),[l.elements,s]),g=k.useMemo(()=>({...l,refs:h,elements:m,dataRef:d,nodeId:i,floatingId:y,events:v,open:n,onOpenChange:f}),[l,i,y,v,n,f,h,m]);return QS(()=>{const p=u==null?void 0:u.nodesRef.current.find(w=>w.id===i);p&&(p.context=g)}),k.useMemo(()=>({...l,context:g,refs:h,elements:m}),[l,h,m,g])}function Kf(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(a=>{let[s,l]=a;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof l=="function"){var u;(u=r.get(s))==null||u.push(l),i[s]=function(){for(var f,c=arguments.length,d=new Array(c),v=0;v<c;v++)d[v]=arguments[v];return(f=r.get(s))==null?void 0:f.map(y=>y(...d)).find(y=>y!==void 0)}}}else i[s]=l}),i),{})}}function AM(e){e===void 0&&(e=[]);const t=e,n=k.useCallback(o=>Kf(o,e,"reference"),t),r=k.useCallback(o=>Kf(o,e,"floating"),t),i=k.useCallback(o=>Kf(o,e,"item"),e.map(o=>o==null?void 0:o.item));return k.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}const XS=document.getElementById("context-menu-root");Je(XS,"context menu root didn't exist");const RM="force-custom-contextmenu",eE=oe.forwardRef(({autoCloseDelay:e=500,children:t,mouseBinding:n={button:2},onHide:r,forceEventKey:i=RM},o)=>{const a=k.useRef(null),s=k.useRef(null),l=SO({delayMs:e,onUninterested(){u()}}),u=()=>{a.current&&(a.current.style.display="none"),r==null||r()},f=()=>{a.current&&(a.current.style.display=null)};k.useImperativeHandle(o,()=>({hide:u,show:f})),k.useLayoutEffect(()=>{var x;u();const d=(x=s.current)==null?void 0:x.parentElement,v=h=>{if(!(!OI(h,n)&&h.type!==i))return h.preventDefault(),h.stopPropagation(),a.current&&(a.current.style.top=`${h.pageY}px`,a.current.style.left=`${h.pageX}px`),f(),!1},y=h=>h.preventDefault(),_=["contextmenu","click","dblclick","auxclick"];return d==null||d.addEventListener("mousedown",v),d==null||d.addEventListener("dblclick",v),document.addEventListener(i,v),_.forEach(h=>d==null?void 0:d.addEventListener(h,y)),_.forEach(h=>{var m;return(m=a.current)==null?void 0:m.addEventListener(h,y)}),()=>{d==null||d.removeEventListener("mousedown",v),d==null||d.removeEventListener("dblclick",v),document.removeEventListener(i,v),_.forEach(h=>d==null?void 0:d.removeEventListener(h,y)),_.forEach(h=>{var m;return(m=a.current)==null?void 0:m.removeEventListener(h,y)})}},[n]);const c=k.useRef(!0);return k.useEffect(()=>void(c.current=!1),[]),E("div",{ref:s,style:{display:"none"},children:mk.createPortal(E("div",{ref:a,className:Zu.contextMenuRoot,...l.props,style:{display:c?"none":"initial"},children:t}),XS)})}),Jg=oe.forwardRef((e,t)=>{const{options:n,onAfterSelect:r,...i}=e;return E("div",{...i,...Re("alternis__floatingbox",Zu.contextMenuOptions,i.className),ref:t,children:e.options.map(o=>E("div",{onClick:async a=>{var s;await o.onSelect(a),(s=e.onAfterSelect)==null||s.call(e)},...Re(Zu.contextMenuOption,"alternis__hoverable"),children:E("a",{style:{color:"inherit"},children:o.label??o.id})},o.id))})});function tE(e){const{options:t,autoCloseDelay:n,mouseBinding:r,onHide:i,forceEventKey:o,ref:a,...s}=e,l={autoCloseDelay:n,mouseBinding:r,onHide:i,forceEventKey:o},u=k.useRef(null);return E(eE,{ref:u,...l,children:E(Jg,{onAfterSelect:()=>{var f;return(f=u.current)==null?void 0:f.hide()},options:t,...s})})}const NM=q("div",{style:{display:"flex",flexDirection:"row",gap:4,padding:8},children:[E("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}}),E("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}}),E("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}})]});function Kh(e){const[t,n]=k.useState(!1),{context:r,floatingStyles:i,refs:o}=CM({open:t,onOpenChange:n,placement:"bottom-start",whileElementsMounted:lM}),a=SM(r),s=kM(r),{getReferenceProps:l,getFloatingProps:u}=AM([a,s]),{options:f,...c}=e;return q("div",{...c,style:{position:"absolute",...c.style},children:[E("div",{ref:o.setReference,...l(),children:e.button??NM}),t&&E(Jg,{options:e.options,onAfterSelect:()=>{n(!1)},...Re(Zu.contextMenuOptions,e.className),style:{width:"max-content",height:"fit-content",zIndex:1,...e.style,...i},ref:o.setFloating,...u()})]})}(e=>{})(Kh||(Kh={}));const TM="_selectionGrid_1kuq2_1",OM="_portraitImage_1kuq2_11",PM="_details_1kuq2_19",DM="_bigPortrait_1kuq2_36",as={selectionGrid:TM,portraitImage:OM,details:PM,bigPortrait:DM},IM="_selectionGrid_1oi92_1",MM="_cell_1oi92_11",dy={selectionGrid:IM,cell:MM};function LM(e){return E("div",{className:dy.selectionGrid,style:{gridTemplateColumns:`repeat(auto-fit, minmax(${e.size==="small"?"40px":e.size==="large"?"150px":"80px"}, 0.5fr))`,gridAutoRows:"fit-content"},children:e.cells.map(t=>E("div",{...Re(dy.cell,"alternis__center"),children:t.content},t.key))})}var br={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.useErrorOnUnstableShape=pn.useStable=pn.useOnUnmount=pn.useOnMount=pn.useOnMountInRenderOrder=void 0;var zi=k;function BM(e){var t=zi.useRef(!1),n=zi.useRef();if(!t.current){t.current=!0;var r=e();r&&(n.current=r)}zi.useEffect(function(){return function(){var i;return(i=n.current)===null||i===void 0?void 0:i.call(n)}},[])}pn.useOnMountInRenderOrder=BM;function zM(e){zi.useEffect(function(){return void e()},[])}pn.useOnMount=zM;function jM(e){zi.useEffect(function(){return function(){return e()}},[])}pn.useOnUnmount=jM;function nE(e){var t=zi.useMemo(e,[]);return zi.useRef(t).current}pn.useStable=nE;function FM(e,t){t===void 0&&(t="useErrorOnUnstableShape");var n=nE(function(){return Object.keys(e)}),r=Object.keys(e);if(!(n.length===r.length&&n.every(function(i,o){return n[o]===r[o]})))throw Error('"'+t+'" must always receive the same object shape/scheme each time (i.e. same property set in same order, so no conditional/dynamic properties)')}pn.useErrorOnUnstableShape=FM;var Hc={},UM=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.makeContextWithProviderRequired=void 0;var HM=UM(k),qM=function(e){return e===void 0&&(e="UntitledContext"),HM.default.createContext(new Proxy({},{get:function(){throw Error("Consuming the "+e+" is invalid without a provider")}}))};Hc.makeContextWithProviderRequired=qM;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.useAsyncEffect=void 0;var $M=k;function rE(e,t){return new Promise(function(n,r){return $M.useEffect(function(){var i=!1,o,a=function(u){o=u},s=e({isStale:function(){return i},setPerformCancel:a,setCancel:a}),l=function(u){return u!==void 0};return l(s)?s.then(function(){o=void 0,n()}).catch(r):n(),function(){i=!0,o==null||o()}},t)})}Sa.useAsyncEffect=rE;Sa.default=rE;var cl={},Ea={},WM=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.useInterval=void 0;var Gf=WM(k);function iE(e,t){var n=Gf.default.useRef();Gf.default.useEffect(function(){n.current=e}),Gf.default.useEffect(function(){function r(){typeof(n==null?void 0:n.current)<"u"&&(n==null||n.current())}if(t!==null){var i=setInterval(r,t);return function(){return clearInterval(i)}}return function(){}},[t])}Ea.useInterval=iE;Ea.default=iE;var VM=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cl,"__esModule",{value:!0});cl.useAsyncInterval=void 0;var hy=k,KM=VM(Ea);function oE(e,t){var n=hy.useRef(),r=hy.useRef(!0);return new Promise(function(i,o){return KM.default(function(){var a;(a=n.current)===null||a===void 0||a.call(n);var s=function(u){n.current=function(){u(),r.current=!0}},l=e({isStale:function(){return r.current},setCancel:s,setPerformCancel:s});l&&l.then(function(){n.current=void 0,r.current=!1,i()}).catch(o)},t)})}cl.useAsyncInterval=oE;cl.default=oE;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.useClass=void 0;var py=k;function aE(e,t){t===void 0&&(t={});var n=py.useRef({}).current;return Object.assign(n,t),py.useRef(e(n)).current}fl.useClass=aE;fl.default=aE;var sE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useInlineComponent=void 0;var t=k,n=function(r){return t.useRef(r).current};e.useInlineComponent=n,e.default=e.useInlineComponent})(sE);var Qg={},Gh=fe&&fe.__assign||function(){return Gh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gh.apply(this,arguments)},GM=fe&&fe.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(f){try{u(r.next(f))}catch(c){a(c)}}function l(f){try{u(r.throw(f))}catch(c){a(c)}}function u(f){f.done?o(f.value):i(f.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},YM=fe&&fe.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},JM=fe&&fe.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},QM=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qg,"__esModule",{value:!0});var gy=k,ZM=QM(Sa);function XM(e,t,n){var r=this,i,o=JM(n!==void 0?[t,n]:[!0,t],2),a=o[0],s=o[1],l=gy.useRef(!1),u=gy.useRef(),f=!u.current||s.length!==u.current.length||(s==null?void 0:s.some(function(v,y){var _;return s[y]!==((_=u.current)===null||_===void 0?void 0:_[y])}));f&&(l.current=!1);var c=(i=u.current)!==null&&i!==void 0?i:new Array(s.length).fill(void 0),d=ZM.default(function(v){return GM(r,void 0,void 0,function(){return YM(this,function(y){return a&&!l.current&&(l.current=!0,e(Gh({prev:c},v))),[2]})})});return u.current=s,d}Qg.default=XM;var lE={};(function(e){var t=fe&&fe.__assign||function(){return t=Object.assign||function(s){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s},t.apply(this,arguments)},n=fe&&fe.__read||function(s,l){var u=typeof Symbol=="function"&&s[Symbol.iterator];if(!u)return s;var f=u.call(s),c,d=[],v;try{for(;(l===void 0||l-- >0)&&!(c=f.next()).done;)d.push(c.value)}catch(y){v={error:y}}finally{try{c&&!c.done&&(u=f.return)&&u.call(f)}finally{if(v)throw v.error}}return d},r=fe&&fe.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.usePropertySetter=e.isAction=void 0;var i=r(k);function o(s){return typeof s=="function"}e.isAction=o;var a=function(s,l){return i.default.useRef(function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var c=n(u,1),d=c[0];return l(function(v){var y,_=o(d)?d(v[s]):d;return t(t({},v),(y={},y[s]=_,y))})}).current};e.usePropertySetter=a,e.default=e.usePropertySetter})(lE);var uE={};(function(e){var t=fe&&fe.__assign||function(){return t=Object.assign||function(l){for(var u,f=1,c=arguments.length;f<c;f++){u=arguments[f];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])}return l},t.apply(this,arguments)},n=fe&&fe.__read||function(l,u){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var c=f.call(l),d,v=[],y;try{for(;(u===void 0||u-- >0)&&!(d=c.next()).done;)v.push(d.value)}catch(_){y={error:_}}finally{try{d&&!d.done&&(f=c.return)&&f.call(c)}finally{if(y)throw y.error}}return v};Object.defineProperty(e,"__esModule",{value:!0}),e.InputStatus=e.useValidatedInput=void 0;var r=k;function i(l,u){u=t({parse:s,pattern:a},u);var f=n(r.useState(l??""),2),c=f[0],d=f[1],v=n(r.useMemo(function(){if(u!=null&&u.pattern&&!u.pattern.test(c))return[null,u.pattern===a?"invalid number":"invalid format"];var h=u.parse(c);if(u.validate&&h.value!==null){var m=u.validate(h.value);if(!m.valid)return[null,m.status]}return[h.value,h.status]},[c,u==null?void 0:u.parse,u==null?void 0:u.pattern,u==null?void 0:u.validate]),2),y=v[0],_=v[1],x=y!==null?o.Success:o.Error;return[y,c,d,x,_]}e.useValidatedInput=i;var o;(function(l){l.Success="success",l.Warning="warning",l.Error="error"})(o=e.InputStatus||(e.InputStatus={}));var a=/^-?(0|[1-9]\d*)(\.\d+)?$/i,s=function(l){var u=parseFloat(l);return Number.isNaN(u)?{value:null,status:"invalid number"}:{value:u}};e.default=i})(uE);var Zg={},e8=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zg,"__esModule",{value:!0});var t8=e8(k);function n8(e,t){t8.default.useEffect(function(){function n(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,t])}Zg.default=n8;var ha={},cE=fe&&fe.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},r8=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ha,"__esModule",{value:!0});ha.useScrolling=ha.useMediaQuery=void 0;var tc=r8(k),i8=function(e){var t=window.matchMedia(e),n=cE(tc.default.useState(t.matches),2),r=n[0],i=n[1];return tc.default.useEffect(function(){var o=function(a){return i(a.matches)};return t.addListener(o),function(){return t.removeListener(o)}}),r};ha.useMediaQuery=i8;var o8=function(e){var t=cE(tc.default.useState(!1),2),n=t[0],r=t[1];return tc.default.useEffect(function(){var i=!1,o,a=function(){o&&clearTimeout(o),r(!0),i||(o=setTimeout(function(){return r(!1)},250))},s=function(){i=!0},l=function(u){i=u.touches.length!==0,i||r(!1)};if(e)return e.addEventListener("scroll",a),e.addEventListener("touchstart",s),e.addEventListener("touchend",l),function(){e.removeEventListener("scroll",a),e.removeEventListener("touchstart",s),e.removeEventListener("touchend",l)}},[e]),n};ha.useScrolling=o8;var fE={};(function(e){var t=fe&&fe.__assign||function(){return t=Object.assign||function(c){for(var d,v=1,y=arguments.length;v<y;v++){d=arguments[v];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(c[_]=d[_])}return c},t.apply(this,arguments)},n=fe&&fe.__createBinding||(Object.create?function(c,d,v,y){y===void 0&&(y=v),Object.defineProperty(c,y,{enumerable:!0,get:function(){return d[v]}})}:function(c,d,v,y){y===void 0&&(y=v),c[y]=d[v]}),r=fe&&fe.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),i=fe&&fe.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&n(d,c,v);return r(d,c),d},o=fe&&fe.__read||function(c,d){var v=typeof Symbol=="function"&&c[Symbol.iterator];if(!v)return c;var y=v.call(c),_,x=[],h;try{for(;(d===void 0||d-- >0)&&!(_=y.next()).done;)x.push(_.value)}catch(m){h={error:m}}finally{try{_&&!_.done&&(v=y.return)&&v.call(y)}finally{if(h)throw h.error}}return x};Object.defineProperty(e,"__esModule",{value:!0}),e.openUrlInNewTab=e.useHelp=e.HelpContextProvider=e.HelpContext=void 0;var a=i(k),s={baseUrl:"",pushHelp:function(){},popHelp:function(){},showHelp:function(){},replaceHelp:function(){return!1}};e.HelpContext=a.createContext(s);function l(c){var d=c.baseUrl,v=c.fallbackTopic,y=c.requestHelp,_=c.children,x=a.useRef([v]),h=a.useCallback(function(){var C=x.current[x.current.length-1],R=typeof C=="function"?C():C;y(d,R)},[d,y]),m=o(a.useState(t(t({},s),{baseUrl:d,pushHelp:p,popHelp:w,showHelp:h,replaceHelp:S})),1),g=m[0];function p(C){x.current.push(C)}function w(){x.current.pop(),x.current.length===0&&(console.warn("HelpTopic Stack not expected to be empty"),x.current.push(v))}function S(C){x.current[x.current.length-1]=C}return a.useEffect(function(){var C=function(R){R.isComposing||R.keyCode===229||R.key==="F1"&&(R.preventDefault(),h())};return document.addEventListener("keydown",C),function(){return document.removeEventListener("keydown",C)}},[h]),a.default.createElement(e.HelpContext.Provider,{value:g},_)}e.HelpContextProvider=l;function u(c){var d=a.useContext(e.HelpContext),v=d.pushHelp,y=d.popHelp,_=d.replaceHelp;return a.useEffect(function(){return v(c),function(){return y()}},[y,v,c]),_}e.useHelp=u;function f(c){var d=window.open(c,"_blank");d!==null&&(d.opener=null)}e.openUrlInNewTab=f})(fE);(function(e){var t=fe&&fe.__createBinding||(Object.create?function(_,x,h,m){m===void 0&&(m=h),Object.defineProperty(_,m,{enumerable:!0,get:function(){return x[h]}})}:function(_,x,h,m){m===void 0&&(m=h),_[m]=x[h]}),n=fe&&fe.__exportStar||function(_,x){for(var h in _)h!=="default"&&!Object.prototype.hasOwnProperty.call(x,h)&&t(x,_,h)},r=fe&&fe.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.useOnExternalClick=e.useValidatedInput=e.usePropertySetter=e.useOnChange=e.useInterval=e.useInlineComponent=e.useClass=e.useAsyncInterval=e.useAsyncEffect=e.makeContextWithProviderRequired=e.useStable=e.useOnUnmount=e.useOnMountInRenderOrder=e.useOnMount=void 0;var i=pn;Object.defineProperty(e,"useOnMount",{enumerable:!0,get:function(){return i.useOnMount}}),Object.defineProperty(e,"useOnMountInRenderOrder",{enumerable:!0,get:function(){return i.useOnMountInRenderOrder}}),Object.defineProperty(e,"useOnUnmount",{enumerable:!0,get:function(){return i.useOnUnmount}}),Object.defineProperty(e,"useStable",{enumerable:!0,get:function(){return i.useStable}});var o=Hc;Object.defineProperty(e,"makeContextWithProviderRequired",{enumerable:!0,get:function(){return o.makeContextWithProviderRequired}});var a=Sa;Object.defineProperty(e,"useAsyncEffect",{enumerable:!0,get:function(){return r(a).default}});var s=cl;Object.defineProperty(e,"useAsyncInterval",{enumerable:!0,get:function(){return r(s).default}});var l=fl;Object.defineProperty(e,"useClass",{enumerable:!0,get:function(){return r(l).default}});var u=sE;Object.defineProperty(e,"useInlineComponent",{enumerable:!0,get:function(){return r(u).default}});var f=Ea;Object.defineProperty(e,"useInterval",{enumerable:!0,get:function(){return r(f).default}});var c=Qg;Object.defineProperty(e,"useOnChange",{enumerable:!0,get:function(){return r(c).default}});var d=lE;Object.defineProperty(e,"usePropertySetter",{enumerable:!0,get:function(){return r(d).default}});var v=uE;Object.defineProperty(e,"useValidatedInput",{enumerable:!0,get:function(){return r(v).default}});var y=Zg;Object.defineProperty(e,"useOnExternalClick",{enumerable:!0,get:function(){return r(y).default}}),n(ha,e),n(fE,e)})(br);function dE(e){const t=En(f=>f.participants),{onSelectParticipant:n,getParticipantTitle:r,onExternalClick:i,onDragParticipantEnd:o,header:a,...s}=e,l=e.getParticipantTitle??((f,c)=>f.name+`
Click (or drag) to place a new line from this participant`),u=oe.useRef(null);return br.useOnExternalClick(u,e.onExternalClick??(()=>{})),q("div",{className:"alternis__floatingbox",ref:u,...s,children:[E("strong",{children:e.header??"Pick a participant"}),q("div",{style:{height:"max-content",width:300,overflowY:"scroll",marginTop:"var(--gap)"},children:[E(LM,{size:"small",cells:t.map((f,c)=>({key:f.name,content:E("div",{...Re(as.portraitImage,"alternis__hoverable","alternis__draggable","alternis__center"),onClick:()=>{var d;return(d=e.onSelectParticipant)==null?void 0:d.call(e,f,c)},title:l(f,c),children:E("img",{src:f.portraitUrl,alt:f.name,onDragStart:d=>{d.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"participants",data:f,id:String(c)})),d.dataTransfer.effectAllowed="move"},onDragEnd:d=>{var v;return(v=e.onDragParticipantEnd)==null?void 0:v.call(e,f,c,d)}})},f.name)}))}),t.length===0&&E("span",{children:"You haven't added a participant yet"})]})]})}function a8(e){const t=En(c=>c.functions),{onSelectFunction:n,getTitle:r,onExternalClick:i,onDragFunctionEnd:o,header:a,...s}=e,l=e.getTitle??(c=>c+`
Click (or drag) to place a emit event for this function`),u=oe.useRef(null);br.useOnExternalClick(u,e.onExternalClick??(()=>{}));const f=oe.useMemo(()=>Object.entries(t),[t]);return q("div",{className:"alternis__floatingbox",ref:u,...s,children:[E("strong",{children:e.header??"Pick a function"}),q("div",{style:{height:"max-content",minWidth:200,width:"fit-content",overflowY:"scroll",marginTop:"var(--gap)"},children:[f.map(([c,d])=>E("div",{...Re("alternis__hoverable","alternis__draggable"),onClick:()=>{var v;return(v=e.onSelectFunction)==null?void 0:v.call(e,c)},title:l(c),children:E("div",{draggable:!0,onDragStart:v=>{console.log("started!"),v.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"functions",data:d,id:c})),v.dataTransfer.effectAllowed="move"},onDragEnd:v=>{var y;return(y=e.onDragFunctionEnd)==null?void 0:y.call(e,c,v)},children:c})},c)),f.length===0&&E("span",{children:"You haven't added a function yet"})]})]})}function s8(e){const t=En(c=>c.variables),{onSelectVariable:n,getTitle:r,onExternalClick:i,onDragVariableEnd:o,header:a,...s}=e,l=e.getTitle??(c=>c+`
Drag text variables into text to add to that text.
Drag and drop true/false variables to make a lock node`),u=oe.useRef(null);br.useOnExternalClick(u,e.onExternalClick??(()=>{}));const f=oe.useMemo(()=>Object.entries(t),[t]);return q("div",{className:"alternis__floatingbox",ref:u,...s,children:[E("strong",{children:e.header??"Pick a variable"}),q("div",{style:{height:"max-content",minWidth:200,width:"fit-content",overflowY:"scroll",marginTop:"var(--gap)"},children:[f.map(([c,d])=>E("div",{...Re("alternis__hoverable","alternis__draggable"),onClick:()=>{var v;return(v=e.onSelectVariable)==null?void 0:v.call(e,c)},title:l(c),children:E("div",{draggable:!0,onDragStart:v=>{console.log("started!"),v.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"variables",data:d,id:c})),v.dataTransfer.effectAllowed="move"},onDragEnd:v=>{var y;return(y=e.onDragVariableEnd)==null?void 0:y.call(e,c,v)},children:c})},c)),f.length===0&&E("span",{children:"You haven't added a variable yet"})]})]})}const l8="_select_1gbkf_1",u8={select:l8},hE=e=>E("select",{...e,...Re(u8.select,e.className)});function my(e,t){const n=k.useRef(new Array(t.length).fill(void 0));k.useEffect(()=>{n.current=t});const r=n.current;Je(r===void 0||r.length===t.length,"changed amount of params!"),k.useEffect(()=>e(r),t)}const c8=e=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},k.createElement("g",{className:"",style:{},transform:"translate(0,0)"},k.createElement("path",{d:"M333.78 20.188c-39.97 0-79.96 15.212-110.405 45.656-58.667 58.667-60.796 152.72-6.406 213.97l-15.782 15.748 13.25 13.25 15.75-15.78c61.248 54.39 155.3 52.26 213.968-6.407 60.887-60.886 60.888-159.894 0-220.78C413.713 35.4 373.753 20.187 333.78 20.187zm0 18.562c35.15 0 70.285 13.44 97.158 40.313 53.745 53.745 53.744 140.6 0 194.343-51.526 51.526-133.46 53.643-187.5 6.375l.218-.217c-2.35-2.05-4.668-4.17-6.906-6.407-2.207-2.206-4.288-4.496-6.313-6.812l-.218.22c-47.27-54.04-45.152-135.976 6.374-187.502C263.467 52.19 298.63 38.75 333.78 38.75zm0 18.813c-30.31 0-60.63 11.6-83.81 34.78-46.362 46.362-46.362 121.234 0 167.594 10.14 10.142 21.632 18.077 33.905 23.782-24.91-19.087-40.97-49.133-40.97-82.94 0-15.323 3.292-29.888 9.22-43-4.165 20.485.44 40.88 14.47 54.907 24.583 24.585 68.744 20.318 98.624-9.562 29.88-29.88 34.146-74.04 9.56-98.625-2.375-2.376-4.943-4.473-7.655-6.313 45.13 8.648 79.954 46.345 84.25 92.876 4.44-35.07-6.82-71.726-33.813-98.72-23.18-23.18-53.47-34.78-83.78-34.78zM176.907 297.688L42.094 432.5l34.562 34.563L211.47 332.25l-34.564-34.563zM40 456.813L24 472.78 37.22 486l15.968-16L40 456.812z",fill:"#fff",fillOpacity:1})));function f8(e){return oe.useMemo(()=>{if(e===void 0)return e;const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*");return new RegExp(n,"sgi")},[e])}function d8(){const[e,t]=oe.useState(!1),[n,r]=oe.useState(),i=f8(n),o=wa(),a=kt(),s=oe.useMemo(()=>{var y;if(i===void 0)return[];const d=[],v={dialogueEntry:(_,x)=>{_.test(x.data.text)&&d.push(x)},playerReplies:(_,x)=>{x.data.replies.some(h=>_.test(h.text))&&d.push(x)}};for(const _ of a.nodes)_.type!==void 0&&((y=v[_.type])==null||y.call(v,i,_));return d},[a.nodes,i]),[l,u]=oe.useState(),f=oe.useRef(null);oe.useEffect(()=>{var d;e&&((d=f.current)==null||d.focus())},[e]);const c=oe.useMemo(()=>l!==void 0?s[l]:void 0,[s,l]);return my(([d])=>{const v=d!==void 0&&d.length>0,y=s.length>0;!v&&y&&u(0),v&&!y&&u(void 0)},[s]),my(([d])=>{d!==c&&c&&o.setCenter(c.position.x,c.position.y,{duration:.7})},[c]),q(De,{children:[E("button",{className:"alternis__toolBtn alternis__hoverable",onClick:()=>t(d=>!d),children:E(c8,{width:20,height:20,className:"alternis__center"})}),e&&q("div",{style:{position:"absolute",top:"100%",right:0},children:[E("input",{ref:f,placeholder:"search node text",value:n??"",onChange:d=>r(d.currentTarget.value)}),E("button",{style:{height:25,width:25},className:"alternis__toolBtn",disabled:l===void 0,onClick:()=>l!==void 0&&u(d=>d===void 0?void 0:d===0?s.length-1:d-1),children:E("strong",{children:"<"})}),E("button",{style:{height:25,width:25},className:"alternis__toolBtn",disabled:l===void 0,onClick:()=>l!==void 0&&u(d=>d===void 0?void 0:d===s.length-1?0:d+1),children:E("strong",{children:">"})}),q("span",{children:[(l??-1)+1,"/",s.length]})]})]})}const h8=/^-?(0|[1-9]\d*)(\.\d+)?$/i,p8=e=>{const t=parseFloat(e);return Number.isNaN(t)?{value:null,status:"invalid number"}:{value:t}},g8={parse:p8,pattern:{regex:h8,mismatchMessage:"invalid number"}};function pE(e,t=g8){var s,l;const[n,r]=k.useState(e??""),[i,o]=k.useMemo(()=>{if(t&&"pattern"in t&&t.pattern&&!t.pattern.regex.test(n))return[null,t.pattern.mismatchMessage];const u=c=>({value:c,status:void 0}),f=(t.parse??u)(n);if(t&&"validate"in t&&f.value!==null){const c=t.validate(f.value);if(!c.valid)return[null,c.status]}return[f.value,f.status]},[n,t==null?void 0:t.parse,"pattern"in t&&((s=t==null?void 0:t.pattern)==null?void 0:s.regex.source),"pattern"in t&&((l=t==null?void 0:t.pattern)==null?void 0:l.mismatchMessage),"validate"in t&&(t==null?void 0:t.validate)]),a=i!==null?Gs.Success:Gs.Error;return[i,n,r,a,o]}var Gs=(e=>(e.Success="success",e.Warning="warning",e.Error="error",e))(Gs||{});function m8(){const e=k.useRef({pageX:0,pageY:0});return k.useEffect(()=>{const t=n=>{e.current={pageX:n.pageX,pageY:n.pageY}};return document.addEventListener("mousemove",t),()=>document.removeEventListener("mousemove",t)}),{position:e}}function vy(e){return`${(e.map(n=>+n.id).filter(n=>!Number.isNaN(n)).reduce((n,r)=>n>r?n:r,0)??0)+1}`}function v8(e){const t=oe.useRef(),n=oe.useRef();uN({onChange:i=>n.current={nodes:i.nodes,edges:i.edges}});const r=wa();m8(),k.useEffect(()=>{const i=o=>{var c,d;const a=v=>Wg?o.metaKey:o.ctrlKey,s=o.key==="c"&&a(),l=o.key==="x"&&a(),u=o.key==="v"&&a();if(!s&&!l&&!u)return;const f=()=>t.current=n.current;if(s)f();else if(l){const v=new Set((c=t.current)==null?void 0:c.edges.map(_=>_.id)),y=new Set((d=t.current)==null?void 0:d.nodes.map(_=>_.id));f(),kt.setState(_=>({nodes:_.nodes.filter(x=>!y.has(x.id)),edges:_.edges.filter(x=>!v.has(x.id))}))}else u&&kt.setState(v=>{if(n.current===void 0)return v;let y=new Map,_=new Map;{let h=+vy(v.nodes);for(const{id:g}of n.current.nodes)y.set(g,String(h++));let m=+vy(v.edges);for(const{id:g}of n.current.edges)_.set(g,String(m++))}const x=h=>{const m=h.indexOf("_");Je(m!==-1,`encountered an invalid node handle: '${h}'`);const g=h.slice(0,m),p=y.get(g);if(p!==void 0)return`${p}_${h.slice(m+1)}`};return n.current.nodes.reduce((h,m)=>Math.min(m.position.x,h),Number.POSITIVE_INFINITY),n.current.nodes.reduce((h,m)=>Math.min(m.position.y,h),Number.POSITIVE_INFINITY),{nodes:v.nodes.concat(n.current.nodes.map(h=>({...h,id:y.get(h.id),position:{x:h.position.x+200,y:h.position.y+200}}))),edges:v.edges.concat(n.current.edges.map(h=>({...h,id:_.get(h.id),source:y.get(h.source)??h.source,target:y.get(h.target)??h.target,sourceHandle:h.sourceHandle&&x(h.sourceHandle)||h.sourceHandle,targetHandle:h.targetHandle&&x(h.targetHandle)||h.targetHandle})))}})};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[r])}function Sn(e){const{nodeId:t,index:n,...r}=e;return E(qs,{"data-tut-id":"node-handle",id:`${t}_${e.type}_${n}`,...r,...Re(He.handle,e.className),style:{...e.style}})}const yy="Can't be empty",gE=oe.forwardRef((e,t)=>{const{initialValue:n,valueLabel:r,takenSet:i,onChange:o,inputClassName:a,...s}=e,[l,u,f,c,d]=pE(n,{parse:y=>({value:y}),validate(y){return y===""?{valid:!1,status:yy}:i.includes(y)?{valid:!1,status:`The ${r??"value"} '${y}' already exists`}:{valid:!0}}});k.useEffect(()=>{l!==null&&(o==null||o(l))},[l]);const v=c!==Gs.Success&&d!==yy;return q("div",{...s,children:[E("div",{...Re(v&&"alternis__invalidInputMessage"),children:v&&d}),E("input",{value:u,onChange:y=>f(y.currentTarget.value),...Re(v&&"alternis__invalidInput",a),style:{width:"100%"},ref:t})]})}),y8="_dialogueViewer_1slnr_1",w8="_speaker_1slnr_15",_8="_line_1slnr_21",x8="_dialogueButton_1slnr_26",S8="_nextButton_1slnr_34",E8="_options_1slnr_38",b8="_playButton_1slnr_44",k8="_stopButton_1slnr_58",An={dialogueViewer:y8,speaker:w8,line:_8,dialogueButton:x8,nextButton:S8,options:E8,playButton:b8,stopButton:k8},C8="modulepreload",A8=function(e){return"/app/"+e},wy={},_y=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=A8(o),o in wy)return;wy[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const c=i[f];if(c.href===o&&(!a||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":C8,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((f,c)=>{u.addEventListener("load",f),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function R8(){return new Worker("/app/assets/worker-dca19dc9.js",{type:"module"})}let Wl;async function N8(){if(!Wl)if("Worker"in globalThis){const e=new R8;Wl={addEventListener:(...t)=>e.addEventListener(...t),removeEventListener:(...t)=>e.removeEventListener(...t),postMessage:(...t)=>e.postMessage(...t)}}else{globalThis.self={location:import.meta.url};const e=await _y(()=>Promise.resolve().then(()=>Rx),void 0).then(r=>r.Worker),t=await _y(()=>import("./worker-0f99efd1.js"),[]),n=new e(t.default,{name:"AlternisWasmWorker"});delete globalThis.self,Wl={addEventListener:(...r)=>n.addListener(...r),removeEventListener:(...r)=>n.removeListener(...r),postMessage:(...r)=>n.postMessage(...r)}}return Wl}let T8=0;const O8=()=>T8++;async function ho(e){const t=await N8();return new Promise((n,r)=>{const i=O8(),o=a=>{a.data.id===i&&(t.removeEventListener("message",o),a.data.error?r(a.data.error):n(a.data.result))};t.addEventListener("message",o),t.postMessage({...e,id:i})})}async function P8(...e){const t=await ho({type:"makeDialogueContext",args:e});return{async step(n){return await ho({type:"DialogueContext.step",ptr:t.ptr,args:[n]})},async reset(n,r=0){return ho({type:"DialogueContext.reset",ptr:t.ptr,args:[n,r]})},async reply(n,r){return ho({type:"DialogueContext.reply",ptr:t.ptr,args:[n,r]})},async getNodeByLabel(n,r){return ho({type:"DialogueContext.getNodeByLabel",ptr:t.ptr,args:[n,r]})},async dispose(){return ho({type:"DialogueContext.dispose",ptr:t.ptr})}}}async function D8(){const e=ve.getState().projectId;if(e===void 0)throw Error("no project set");const t=await Oe.get(e);return mE(t)}function mE(e){return{version:1,entryId:0,dialogues:Object.fromEntries(Object.entries(e.dialogues).map(([n,r])=>{const i=[],o=new Map(r.nodes.map(y=>[y.id,y])),a=new Map;for(const y of r.edges){Je(y.sourceHandle&&y.targetHandle);const[_,x,h]=y.sourceHandle.split("_"),[m,g,p]=y.targetHandle.split("_"),w=x==="target",[S,C,R]=w?[m,_,+p]:[_,m,+h];Je(!Number.isNaN(S)&&!Number.isNaN(C)&&!Number.isNaN(R),"invalid connection found");let O=a.get(S);O===void 0&&(O=[],a.set(S,O)),O[R]=C}const s=r.nodes.find(y=>y.type==="entry");Je(s);const l=new Map,u=y=>{let _=l.get(y);return _===void 0&&(_=l.size+1,l.set(y,_)),_};function f(y){var h;if(y===void 0)return;const _=o.get(y);Je(_,"bad node id");const x=_.type==="goto"?(h=r.nodes.find(m=>{var g;return((g=m.data)==null?void 0:g.label)&&m.data.label===_.data.target}))==null?void 0:h.id:y;return Je(x,`invalid raw next id, probably a bad goto label: '${_.data.target}'`),u(x)}const c={entry:{data(){},visit(y,_){const x=o.get(_.outputs[0]);x&&v(x.id)}},dialogueEntry:{data(y,_){const x=y.data,h={line:{data:{speaker:e.participants[x.speakerIndex].name,text:x.text,metadata:x.customData}}};return _.pushNode(h),h},visit(y,_){const x=o.get(_.outputs[0]);x&&(y.line.next=f(x.id),v(x.id))}},randomSwitch:{data(y,_){const x=y.data,h={random_switch:{nexts:[],chances:x.proportions}};return _.pushNode(h),h},visit(y,_){for(const x of _.outputs){const h=o.get(x);h&&(y.random_switch.nexts.push(f(h.id)),v(h.id))}}},playerReplies:{data(y,_){const x=y.data,h={reply:{nexts:[],texts:x.replies.map(m=>({text:m.text,speaker:x.speaker!==void 0&&e.participants[x.speaker].name,metadata:void 0})),conditions:x.replies.map(m=>({action:m.condition,variable:m.lockVariable}))}};return _.pushNode(h),h},visit(y,_){for(const x of _.outputs){const h=o.get(x);h&&(y.reply.nexts.push(f(h.id)),v(h.id))}}},lockNode:{data(y,_){const x=y.data,h={[x.action]:{boolean_var_name:x.variable}};return _.pushNode(h),h},visit(y,_){const x=o.get(_.outputs[0]),h="lock"in y?"lock":"unlock";x&&(y[h].next=f(x.id),v(x.id))}},emitNode:{data(y,_){const h={call:{function_name:y.data.function}};return _.pushNode(h),h},visit(y,_){const x=o.get(_.outputs[0]);x&&(y.call.next=f(x.id),v(x.id))}},goto:{data(){}},default:{data(y){Je(!1,`unknown node: ${y.id}`)}}},d=new Set;function v(y){var g;if(d.has(y))return;d.add(y);const _=o.get(y);Je(_,"bad node id");const x=_.type,h=a.get(y)??[],m=p=>i.push(p);if(x!==void 0&&(x in c||_.type==="entry")){const p=c[x],w=p.data(_,{outputs:h,pushNode:m});(g=p.visit)==null||g.call(p,w,{outputs:h})}else Je(!1,`unknown node type: ${x}`)}return v(s.id),[n,{nodes:i}]})),participants:e.participants.map(n=>({name:n.name})),functions:Object.entries(e.functions).map(([n])=>({name:n})),variables:{boolean:Object.entries(e.variables).filter(([,n])=>n.type==="boolean").map(([n])=>({name:n})),string:Object.entries(e.variables).filter(([,n])=>n.type==="string").map(([n])=>({name:n}))}}}var I8="Expected a function",xy=0/0,M8="[object Symbol]",L8=/^\s+|\s+$/g,B8=/^[-+]0x[0-9a-f]+$/i,z8=/^0b[01]+$/i,j8=/^0o[0-7]+$/i,F8=parseInt,U8=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,H8=typeof self=="object"&&self&&self.Object===Object&&self,q8=U8||H8||Function("return this")(),$8=Object.prototype,W8=$8.toString,V8=Math.max,K8=Math.min,Yf=function(){return q8.Date.now()};function G8(e,t,n){var r,i,o,a,s,l,u=0,f=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(I8);t=Sy(t)||0,Yh(n)&&(f=!!n.leading,c="maxWait"in n,o=c?V8(Sy(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function v(S){var C=r,R=i;return r=i=void 0,u=S,a=e.apply(R,C),a}function y(S){return u=S,s=setTimeout(h,t),f?v(S):a}function _(S){var C=S-l,R=S-u,O=t-C;return c?K8(O,o-R):O}function x(S){var C=S-l,R=S-u;return l===void 0||C>=t||C<0||c&&R>=o}function h(){var S=Yf();if(x(S))return m(S);s=setTimeout(h,_(S))}function m(S){return s=void 0,d&&r?v(S):(r=i=void 0,a)}function g(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function p(){return s===void 0?a:m(Yf())}function w(){var S=Yf(),C=x(S);if(r=arguments,i=this,l=S,C){if(s===void 0)return y(l);if(c)return s=setTimeout(h,t),v(l)}return s===void 0&&(s=setTimeout(h,t)),a}return w.cancel=g,w.flush=p,w}function Yh(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Y8(e){return!!e&&typeof e=="object"}function J8(e){return typeof e=="symbol"||Y8(e)&&W8.call(e)==M8}function Sy(e){if(typeof e=="number")return e;if(J8(e))return xy;if(Yh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(L8,"");var n=z8.test(e);return n||j8.test(e)?F8(e.slice(2),n?2:8):B8.test(e)?xy:+e}var Q8=G8;const Z8=Q8(async e=>{const t=nc.getState().dialogueCtx,n=e!==void 0?await P8(e):void 0;t!==void 0&&t.dispose(),nc.setState(r=>({...r,dialogueCtx:n}))},400),nc=va()(e=>({dialogueCtx:void 0,setDialogueCtx:Z8}));function vE(e){const t=nc(n=>n.setDialogueCtx);return e!==void 0&&t(e),nc(n=>n.dialogueCtx)}function X8(e){const t=En(),n=ve(f=>f.currentDialogueId),r=t.dialogues,i=Object.keys(r).findIndex(f=>f===n);Je(i!==void 0);const o=k.useMemo(()=>{try{return JSON.stringify(mE(t))}catch(f){console.error(f);return}},[t]),a=vE(o),[s,l]=k.useState(),u=e;return a===void 0?E("em",{children:"playback error"}):E("div",{"data-tut-id":"dialogue-playback",...u,...Re(An.dialogueViewer,u.className),children:s?q(De,{children:[E("div",{title:"Stop dialogue",onClick:async()=>{a&&await a.reset(i,0),l(void 0)},children:E("svg",{height:"30px",width:"30px",viewBox:"0 0 10 10",children:E("rect",{...Re(An.stopButton),x:0,y:0,width:10,height:10,rx:2})})}),"line"in s?q(De,{children:[q("div",{className:An.line,children:[E("h4",{className:An.speaker,children:s.line.speaker}),E("div",{children:E("span",{children:s.line.text})})]}),E("button",{...Re(An.dialogueButton,An.nextButton),onClick:async()=>{a&&l(await a.step(i))},children:"next"})]}):"options"in s?E("div",{className:An.options,children:s.options.map((f,c)=>E("div",{className:An.options,children:E("button",{onClick:async()=>{a&&(await a.reply(i,c),l(await a.step(i)))},className:An.dialogueButton,children:f.text})},f.id))}):"done"in s?q("svg",{height:"50px",width:"50px",viewBox:"-3 -3 16 16",children:[E("path",{...Re(An.playButton,"alternis__hover"),d:"M0 0 l0 10 l10 -5 l-10 -5"}),E("circle",{rx:5,ry:5,cx:5,cy:5})]}):Je(!1,"unreachable, unknown dialogue state")]}):E("div",{title:"Start dialogue",onClick:async()=>{a&&l(await a.step(i))},children:E("svg",{height:"30px",width:"30px",viewBox:"-3 -3 16 16",children:E("path",{...Re(An.playButton,"alternis__hover"),d:"M0 0 l0 10 l10 -5 l-10 -5"})})})})}const eL=e=>{const t=kt(s=>s.nodes),n=k.useMemo(()=>t.filter(s=>{var l;return((l=s.data)==null?void 0:l.label)&&s.id!==e.id}),[t]),r=k.useMemo(()=>n.map(s=>s.data.label),[n]),i=oe.useRef(null);oe.useMemo(()=>t.findIndex(s=>s.id===e.id),[t,e.id]),vE();const o=ve(s=>s.currentDialogueId),a=En(s=>s.dialogues);return Object.keys(a).findIndex(s=>s===o),q("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[!1,E("div",{className:"alternis__floatup",children:E(gE,{initialValue:e.data.label,takenSet:r,style:{width:e.data.label?"fit-content":5},className:"nodrag",onChange:s=>e.set({label:s||void 0}),inputClassName:He.nodeLabelInput,ref:i})}),E("button",{title:`Click to set this node's label (#${e.id})`,onClick:()=>{var s;(s=i.current)==null||s.focus()},...Re(He.nodeLabelFocusButton,"alternis__hoverable"),style:{display:e.data.label?"none":void 0},children:"#"})]})},no=e=>{var v,y;const t=(v=MS(e.id))==null?void 0:v.data,n=di(e.id),r=k.useMemo(()=>{var _;return((_=t==null?void 0:t.customData)==null?void 0:_.map(([x])=>x))??[]},[t==null?void 0:t.customData]),{id:i,children:o,showMoreContent:a,noLabel:s,noMetadata:l,...u}=e,[f,c]=oe.useState(!1),d=oe.useMemo(()=>[{id:"delete",onSelect:()=>kt.setState(_=>({nodes:_.nodes.filter(x=>x.id!==i)}))}],[]);return t?q(De,{children:[q("div",{"data-tut-id":t.label&&`node-${t.label}`,...u,...Re(He.node,u.className),style:{width:"max-content",...u.style},children:[E(eL,{id:e.id,type:e.type,data:t,set:n}),o,(a||!s)&&E(We,{title:"Click to toggle details",...Re(He.entryNodeShowMoreIndicator,"alternis__hoverable"),onClick:()=>c(_=>!_),children:E("strong",{style:{display:"block",width:"100%",textAlign:"center"},children:E("svg",{viewBox:"-5 -5 15 15",height:"15px",width:"30px",strokeWidth:"2px",strokeLinecap:"round",style:{transform:f?"scale(1, -1)":void 0,stroke:"white",fill:"none"},className:"alternis__hoverable",children:E("path",{d:"M0 0 l5 5 l5 -5"})})})}),f&&a,f&&!l&&q("div",{children:[E("div",{children:q("label",{className:"alternis__split",children:[E("span",{title:"Set custom key/value pairs for this node",children:"custom properties"}),E("button",{title:"Add a new custom property to this node",...Re("alternis__hoverable","alternis__toolBtn","alternis__newButton"),onClick:()=>{n(_=>{var x;return{customData:(_.customData??[]).concat([[`property${(((x=_.customData)==null?void 0:x.length)??0)+1}`,"value"]])}})},children:E(We,{children:"+"})})]})}),(y=t.customData)==null?void 0:y.map(([_,x],h)=>q("div",{className:"alternis__split",children:[E(gE,{initialValue:_,takenSet:r.filter(m=>m!==_),style:{maxWidth:100},className:"nodrag",onChange:m=>n(g=>{var p;return{customData:(p=g.customData)==null?void 0:p.map(([w,S],C)=>[C===h?m:w,S])}}),valueLabel:"property"}),E("input",{value:x,onChange:m=>n(g=>{var p;return{customData:(p=g.customData)==null?void 0:p.map(([w,S],C)=>[w,C===h?m.currentTarget.value:S])}})})]},_))]})]}),E(tE,{options:d})]}):null};function tL(e){var o;const n=kt(a=>a.nodes).filter(a=>{var s;return(s=a.data)==null?void 0:s.label}).map(a=>{var s;return(s=a.data)==null?void 0:s.label}),r=(o=MS(e.id))==null?void 0:o.data,i=di(e.id);return q(no,{type:"goto",id:e.id,"data-tut-id":"node-goto",title:"A Goto node jumps to any labeled node",noLabel:!0,children:[E(Sn,{nodeId:e.id,index:0,type:"target",position:re.Left,className:He.handle,isConnectable:!0}),E(We,{children:E("span",{style:{fontSize:"4rem",fontWeight:"bold"},children:""})}),q("label",{children:["go to label",E("select",{value:r==null?void 0:r.target,onChange:a=>i(()=>({target:a.currentTarget.value})),style:{maxWidth:150},children:n.map(a=>E("option",{value:a,children:a},a))})]})]})}const nL={proportions:[1,1]},rL={speaker:void 0,replies:[{text:"",lockVariable:void 0,condition:"none"}]},iL="_root_133a3_2",oL="_dialog_133a3_11",aL="_prev_133a3_22",sL="_next_133a3_28",lL="_earlyExitBtn_133a3_34",Ya={root:iL,dialog:oL,prev:aL,next:sL,earlyExitBtn:lL};function uL(e){Je(e.data.steps.length>=2,"tutorials must have at least two steps!");const t=e.highlightClass??"alternis__tutorial-highlighted",{open:n,setOpen:r}=e,[i,o]=k.useState(0),a=e.data.steps[i],s=i===e.data.steps.length-1;k.useEffect(()=>{var v;if(!n)return;(v=a==null?void 0:a.onReached)==null||v.call(a);let c;const d=setTimeout(()=>{var y;c=(y=a.highlightedTutIds)==null?void 0:y.map(_=>document.querySelectorAll(`[data-tut-id="${_}"]`));for(const _ of c??[])for(let x=0;x<_.length;++x)_[x].classList.add(t)},10);return()=>{clearTimeout(d);for(const y of c??[])for(let _=0;_<y.length;++_)y[_].classList.remove(t)}},[i,a,n]);const l=i===e.data.steps.length-1,u=()=>{var c;r(!1),(c=e.onClose)==null||c.call(e)},f=k.useRef(null);return E("div",{...Re(Ya.root,"alternis__center"),children:q("dialog",{className:Ya.dialog,open:n,children:[i===0&&E(We,{children:E("h3",{children:e.data.name})}),E(We,{children:a.body}),i!==0&&E("button",{className:Ya.prev,onClick:()=>o(c=>c-1),children:"previous"}),!a.noCloseButton&&!s&&E("button",{className:Ya.earlyExitBtn,onClick:u,children:"exit tutorial"}),E("button",{className:Ya.next,onClick:()=>{var c;l?u():(o(d=>d+1),(c=f.current)==null||c.focus())},children:l?"exit tutorial":"next"})]})})}const cL="_split_jr5j8_2",fL="_projectDataEditor_jr5j8_11",dL="_graphEditor_jr5j8_20",Jh={split:cL,projectDataEditor:fL,graphEditor:dL},hL="_newButton_8r9uy_2",yE={newButton:hL},pL=e=>{const t=new Blob([e]);return URL.createObjectURL(t)},gL={"text/csv":"csv","application/zip":"zip"},mL=async e=>{const t=document.createElement("a");t.style.display="none";let n;t.href=pL(e.content),e.fileName&&(t.download=e.fileName),e.appendEstimatedFileExtension&&n&&(t.download=`${t.download}.${gL[n]||"txt"}`),document.body.append(t),t.click(),t.remove()},wE=async e=>await new Promise((n,r)=>{const i=document.createElement("div");i.style.display="none",i.innerHTML='<input type="file" id="temp-upload" />';const o=i.children[0];o.onchange=function(){try{if(o.files===null)throw Error("No files in input");const a=o.files.item(0);if(a===null)throw Error("First file in input was null");const s=a,l=new FileReader;l.onloadend=function(u){var f;((f=u.target)==null?void 0:f.readyState)===FileReader.DONE&&n({name:a.name,content:u.target.result})},e.type==="text"?l.readAsText(s,"utf8"):l.readAsDataURL(s)}catch(a){r(a)}},o.click()}),vL={small:{label:"small"},medium:{label:"medium"},large:{label:"large"}};function yL(){const e=En(x=>x.participants),t=ve(x=>x.preferences.participantEditor),n=x=>ve.setState(h=>({preferences:{...h.preferences,participantEditor:{...h.preferences.participantEditor,iconSize:x}}})),r=t.lastSelected,i=r!==void 0?e.findIndex(x=>(x==null?void 0:x.name)===r):-1,o=i!==-1?e[i]:void 0,[a,s,l,u,f]=pE((o==null?void 0:o.name)??"",{validate:k.useCallback(x=>x===r?{valid:!0}:x?e.some(h=>(h==null?void 0:h.name)===x)?{valid:!1,status:"A participant with that name already exists"}:{valid:!0}:{valid:!1,status:"Participant can't have an empty name"},[e,r])}),c="New participant",d=k.useCallback(()=>{const[x]=e.map(m=>{var p;const g=new RegExp("^New participant (?<num>\\d+)").exec(m.name);return{participant:m,num:(p=g==null?void 0:g.groups)!=null&&p.num?+g.groups.num:void 0}}).filter(m=>m.num!==void 0).sort((m,g)=>g.num-m.num),h=((x==null?void 0:x.num)??0)+1;return`${c} ${h}`},[e]);br.useAsyncEffect(async()=>{if(a===null||!r||r===a)return;const x=r;ve.setState(g=>({preferences:{...g.preferences,participantEditor:{...g.preferences.participantEditor,lastSelected:a}}}));const h=ve.getState().projectId;if(h===void 0)throw Error("projectId cannot be undefined in the editor");const m=await Oe.get(h);await Oe.put({...m,participants:m.participants.map(g=>g.name===x?{...g,name:a}:g)})},[a,r]);const v=x=>{ve.setState(h=>({preferences:{...h.preferences,participantEditor:{...h.preferences.participantEditor,lastSelected:x}}})),l(x)},y=async(x,h)=>{const m=ve.getState().projectId;if(m===void 0)throw Error("projectId cannot be undefined in the editor");const g=await Oe.get(m);await Oe.put({...g,participants:g.participants.map(p=>p.name===x?{...p,portraitUrl:h}:p)})},_=q("div",{className:as.details,style:{width:"100%"},children:[E("h1",{children:" Details "}),r&&o?q(De,{children:[q("label",{style:{width:"100%"},children:["Participant name",E("input",{value:s,onChange:x=>l(x.currentTarget.value)})]}),E("button",{title:"Delete this participant",onClick:async()=>{const x=ve.getState().projectId;if(x===void 0)throw Error("projectId cannot be undefined in the editor");const h=await Oe.get(x);await Oe.put({...h,participants:h.participants.filter(m=>m!==o)})},children:"Delete participant"}),q("label",{style:{width:"100%"},children:["Portrait ",E("button",{onClick:async()=>{const x=await wE({type:"dataurl"});await y(r,x.content)},children:"Upload new portrait"})]}),E("img",{className:as.bigPortrait,src:o.portraitUrl,alt:o.name}),E("div",{style:{color:"#f00"},children:u!=="success"&&f})]}):E(De,{children:e.length>0?"Select a participant to see and edit them":"Add a participant above to see and edit them"})]});return q("div",{children:[q("div",{className:as.selectionGrid,style:{gridTemplateColumns:`repeat(auto-fit, minmax(${t.iconSize==="small"?"40px":t.iconSize==="large"?"150px":"80px"}, 0.5fr))`,gridAutoRows:"fit-content"},children:[E(tE,{options:Object.entries(vL).map(([x,h])=>({id:x,label:`Make icons ${h.label}`,onSelect:()=>n(x)}))}),e.map((x,h)=>E("div",{...Re(as.portraitImage,"alternis__hoverable","alternis__draggable","alternis__center"),onClick:()=>v(x.name),title:x.name+`
Click to edit. Drag and drop into the graph to add a line node`,children:E("img",{src:x.portraitUrl,alt:x.name,onDragStart:m=>{m.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"participants",data:x,id:String(h)})),m.dataTransfer.effectAllowed="move"}})},x.name)),E("div",{title:"Add a new participant","data-tut-id":"participant-add-button","data-tut-inset":!0,...Re(yE.newButton,"alternis__hoverable"),style:{height:"100%"},onClick:async()=>{const x={name:d(),portraitUrl:zS},h=ve.getState().projectId;if(h===void 0)throw Error("projectId cannot be undefined in the editor");const m=await Oe.get(h);await Oe.put({...m,participants:m.participants.concat(x)}),v(x.name)},children:E(We,{children:"+"})})]}),_]})}function _E(e){const{left:t,right:n,...r}=e;return q("div",{...r,...Re("alternis__split",r.className),children:[E("div",{children:t}),E("div",{children:n})]})}function Jf(e){const{singularEntityName:t,docPropKey:n,newInitialVal:r,extraActions:i,noDrag:o,onClickEntryName:a,getTitle:s,onRename:l,onAdd:u,disallowDeleteLast:f,...c}=e,d={singularEntityName:t,docPropKey:n,newInitialVal:r,extraActions:i,noDrag:o,onClickEntryName:a,getTitle:s,onRename:l,onAdd:u,disallowDeleteLast:f},y=En()[d.docPropKey],[_,x]=oe.useState(),[h,m]=k.useState(),g=typeof d.newInitialVal=="function"?d.newInitialVal():d.newInitialVal,p=oe.useCallback(async(L,z)=>{const T=ve.getState().projectId;if(T===void 0)throw Error("projectId cannot be undefined in the editor");const M=await Oe.get(T);await Oe.put({...M,[d.docPropKey]:{...M[d.docPropKey],[L]:{...M[d.docPropKey][L],...z}}})},[d.docPropKey]),w=oe.useCallback(L=>p(L,g),[p,g]),S=oe.useCallback(async(L,z)=>{const T=ve.getState().projectId;if(T===void 0)throw Error("projectId cannot be undefined in the editor");const M=await Oe.get(T),D=M[d.docPropKey][L];delete M[d.docPropKey][L],await Oe.put({...M,[d.docPropKey]:{...M[d.docPropKey],[z]:D}})},[d.docPropKey]),C=oe.useCallback(async L=>{const z=ve.getState().projectId;if(z===void 0)throw Error("projectId cannot be undefined in the editor");const T=await Oe.get(z),M={...T[d.docPropKey]};delete M[L],await Oe.put({...T,[d.docPropKey]:M})},[d.docPropKey]),R=k.useRef(null);k.useEffect(()=>{var L;(h===""||h===_)&&((L=R.current)==null||L.focus())},[h]);const O=async L=>{var z;_!==void 0?(await S(_,L),x(void 0)):(await w(L),(z=d.onAdd)==null||z.call(d,L)),m(void 0)},B=d.extraActions??oe.useRef(L=>null).current;oe.useLayoutEffect(()=>{R.current&&h!==void 0&&(R.current.textContent=h)},[h]);const F=Object.entries(y);return q("div",{...c,style:{display:"flex",flexDirection:"column",gap:"11px",...c.style},children:[F.filter(([L])=>L!==_).map(([L,z])=>{var T;return E(_E,{left:E("span",{title:((T=d.getTitle)==null?void 0:T.call(d,L,z))??"Double-click to edit the name."+(d.noDrag?"":`
Drag into the graph to add the corresponding node.`),className:"alternis__hoverable",onDoubleClick:()=>{var M;x(L),m(L),(M=R.current)==null||M.focus()},onDragStart:M=>{M.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:d.docPropKey,data:z,id:L})),M.dataTransfer.effectAllowed="move"},onClick:M=>{var D;return(D=d.onClickEntryName)==null?void 0:D.call(d,L,z,M)},draggable:!d.noDrag,children:L}),right:!d.disallowDeleteLast||F.length>1?q("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"3px"},children:[E(B,{data:z,set:M=>p(L,M)}),E(We,{className:"alternis__hoverable alternis__hoverable-red",title:`Delete this ${d.singularEntityName}`,onClick:async()=>{await C(L)},children:E("strong",{children:""})})]}):E("span",{})},L)}),h!==void 0?E("div",{children:E("div",{contentEditable:!0,onKeyDown:L=>{L.key==="Enter"&&(L.preventDefault(),L.currentTarget.blur(),L.currentTarget.innerText.trim()===""&&(L.currentTarget.innerText="invalid name"))},ref:R,onBlur:async L=>{var T;const z=L.currentTarget.innerText.trim();await O(z||"invalid name"),_&&((T=d.onRename)==null||T.call(d,_,z))}})}):E("div",{"data-tut-id":"generic-proj-data-add-button",title:`Add a new ${d.singularEntityName}`,...Re(yE.newButton,"alternis__hoverable"),onClick:()=>m(""),children:E(We,{children:"+"})})]})}const wL="_error_17xjh_10",_L={error:wL},xL={Alt:"alt key",Control:"ctrl key",Meta:Wg?"command key":wI?"meta key":"windows key",Shift:"shift key"},SL=(e,t,n)=>{const r=Object.entries(t).map(([i,o])=>E("option",{value:JSON.stringify(o),children:n[i]},i)).concat(E("option",{value:JSON.stringify(null),children:"none"},"null"));return()=>{const i=ve(o=>o.preferences.graph[e]);return E("select",{value:JSON.stringify(i),onChange:o=>ve.setState(a=>({preferences:{...a.preferences,graph:{...a.preferences.graph,[e]:JSON.parse(o.currentTarget.value)}}})),children:r})}},EL=SL("appendToSelectModifier",TS,xL);function Qf(e){return{binding:ve(r=>r.preferences.graph[e]),setBinding:r=>ve.setState(i=>({preferences:{...i.preferences,graph:{...i.preferences.graph,[e]:typeof r=="function"?r(i.preferences.graph[e]):r}}}))}}function bL(){const e=Qf("dragPanMouseBinding"),t=Qf("addNodeMouseBinding"),n=Qf("enableBoxSelectOnDrag"),r=n.binding&&e.binding.button===yI.Left;return q("div",{"data-tut-id":"preferences",children:[q("label",{title:"Which mouse button you can click and drag to move around the graph",className:"alternis__split",children:[E("span",{children:"Pan graph method"}),E(ey,{value:e.binding,onChange:e.setBinding,ignoreModifiers:!0})]}),q("label",{title:"If on, click and drag to start a box selection of graph elements.",className:"alternis__split",children:[E("span",{children:"Turn on box select on left mouse drag"}),E("input",{type:"checkbox",...Re(r&&_L.error),title:r?"Box select currently only works with left mouse, which is currently bound to pan graph":void 0,checked:n.binding||!1,onChange:()=>n.setBinding(i=>!i)})]}),q("label",{title:"Which modifier key you can hold to add to selection instead of starting a new one ",className:"alternis__split",children:[E("span",{children:"Append to selection modifier"}),E(EL,{})]}),q("label",{title:"Which mouse button (with modifiers e.g. shift) allow to add a node after",className:"alternis__split",children:[E("span",{children:"Add node key binding"}),E(ey,{value:t.binding,onChange:t.setBinding})]})]})}const Ey={participants:{label:"Participants",component:yL,desc:"Edit participants of the dialogue"},variables:{label:"Variables",component:()=>E(Jf,{newInitialVal:{type:"boolean",default:"value"},singularEntityName:"variable",docPropKey:"variables",extraActions:k.useRef(({data:e,set:t})=>q(De,{children:[e.type==="boolean"?E("input",{type:"checkbox",value:e.default,onChange:n=>t({default:String(n.currentTarget.checked)}),title:`The initial value for this variable when the dialogue begins (${e.default})`}):E("input",{style:{minWidth:"40%",width:"100%",flex:0},value:e.default,onChange:n=>t({default:n.currentTarget.value}),onKeyDown:n=>n.key==="Enter"&&n.currentTarget.blur(),title:"The initial value for this variable when the dialogue begins"}),q("select",{value:e.type,onChange:n=>{Je(n.currentTarget.value==="string"||n.currentTarget.value==="boolean"),t({type:n.currentTarget.value})},children:[E("option",{value:"boolean",title:"A variable which is true or false, can be used to make lock conversations",children:"true/false"}),E("option",{value:"string",title:"A variable which can be any text, can be used in reply and line nodes",children:"text"})]})]})).current}),desc:`Edit the variables in the dialogue.
Variables are values set at any time by the environment. They can be anything, and you can use the syntax {{variable_name}} to refer to them in text.`},functions:{label:"Functions",component:()=>E(Jf,{newInitialVal:{},singularEntityName:"function",docPropKey:"functions"}),desc:`Edit the functions in the dialogue.
Functions are callbacks into the environment that can invoke custom functionality during a dialogue.`},preferences:{label:"Preferences",component:()=>E(bL,{}),desc:"Editor preferences"},dialogues:{label:"Dialogues",component:()=>E(Jf,{newInitialVal:()=>structuredClone(_I),singularEntityName:"dialogue",docPropKey:"dialogues",noDrag:!0,disallowDeleteLast:!0,onClickEntryName:e=>ve.setState({currentDialogueId:e}),onRename:(e,t)=>{ve.setState({currentDialogueId:t})},"data-tut-id":"dialogues-content",onAdd:e=>ve.setState({currentDialogueId:e})}),desc:"Choose dialogues from this project to edit."}};let jr;function kL(e){let t;[t,jr]=k.useState("participants");const n=Ey[t].component;return q("div",{className:Jh.projectDataEditor,"data-tut-id":"project-data-editor","data-tut-inset":!0,children:[E("div",{style:{display:"flex",flexWrap:"wrap",gap:"calc(2 * var(--gap))"},children:Object.entries(Ey).map(([r,i])=>E("span",{title:i.desc,className:"alternis__hoverable",onClick:()=>jr(r),style:{borderBottom:"1px solid var(--fg-1)",fontWeight:r===t?"bold":"normal"},children:i.label},r))}),E("br",{}),E(n,{})]})}const xE="alternis-v1_hasSeenIntroTutorial1",CL=localStorage.getItem(xE)==="true",AL=window.location.search.includes("noTutorial"),Qh=va(()=>({tutorialOpen:!CL&&!AL})),RL={name:"Tutorial",steps:[{body:E("p",{children:"Welcome to Alternis, would you like to be shown around?"})},{body:E("div",{style:{maxWidth:"400px"},children:E("p",{children:"We try to put tooltips on most stuff, so hover over most things to learn more."})})},{body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"On the left is the side panel. Here you can edit your project data, or editor preferences."}),E("p",{children:"We will now go through each tab."})]}),highlightedTutIds:["project-data-editor"]},{onReached(){jr("participants")},body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"In the participants tab, you can press the add button to add a participant, or click on a portrait to edit one."}),q("p",{children:["You can also drag and drop the portraits into the graph to create a ",E("em",{children:"line"})," node in the dialogue, said by that participant."]})]}),highlightedTutIds:["participant-add-button"]},{onReached(){jr("variables")},body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"Variables are values in the dialogue that can change during the dialogue. Mostly:"}),q("ul",{children:[E("li",{children:"values set by the environment at startup time"}),q("li",{children:["values changed when you call a ",E("em",{children:"function"})," from the environment"]}),E("li",{children:"true/false (boolean) values locked (set false) or unlocked (set true) by lock nodes"})]}),E("p",{children:"You can add new ones to expose to the environment, or to use when locking dialogue paths."})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){jr("variables")},body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"A bit more about variables."}),q("p",{children:["You can drag and drop ",E("em",{children:"text"})," type variables onto ",E("em",{children:"line"})," and ",E("em",{children:"reply"})," nodes to add them to the text."]}),q("p",{children:["But it's usually easier to just type ",E("code",{children:"{variable name}"})," manually."]}),q("p",{children:["You can drag and drop ",E("em",{children:"true/false"})," (boolean) variables into the graph to spawn a ",E("em",{children:"lock/unlock"})," node that locks or unlocks that variable when reached."]})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){jr("functions")},body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"Functions are events that must be handled by the environment."}),E("p",{children:"For instance, if a function is reached, the environment may ask the user for some input and set a variable which will be used later in the dialogue."}),q("p",{children:["Functions are handled entirely by the configuration of the Alternis Engine, Please refer to the (non-yet-existent) ",E("a",{href:"/FIXME",children:"Alternis Engine developer documentation"})," for how to use it in a particular environment. Often there is a plugin, if not, feel free to contact ",E("a",{href:"mailto:support@alternis.io",children:"support@alternis.io"}),"."]}),q("p",{children:["Drag and drop a function name to create a ",E("em",{children:"call"})," node that calls that function."]})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){jr("preferences")},body:E("div",{style:{maxWidth:"400px"},children:E("p",{children:"Preferences are not project-specific, they are general things you can change about the editor to your liking, such as which mouse button lets you pan the graph."})}),highlightedTutIds:["preferences"]},{onReached(){jr("dialogues")},body:E("div",{style:{maxWidth:"400px"},children:E("p",{children:'You can have multiple dialogues. You can add new ones and switch between which one you are editing under the "dialogues" tab.'})}),highlightedTutIds:["dialogues-content"]},{body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"Now that we're done looking at the side panel, let's look at the graph."}),E("p",{children:"You can control/command right-click (change in preferences) to bring up a menu of node types to add. Then you can play with the inputs on each node to alter them."}),E("p",{children:"You may also select nodes with left-click-drag to box select or regular click and press backspace/return to delete them. You can add nodes to your selection with control/command held while clicking (change in preferences)."})]}),highlightedTutIds:["graph"]},{body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"Nodes lead to each other."}),q("p",{children:["Click one ",E("em",{children:"handle"})," coming out of a node (on its right), and then click another coming into one (its left), to connect them. You can also drag from one to the other."]}),q("p",{children:["Click on any ",E("em",{children:"link"})," between two nodes to delete that link."]})]}),highlightedTutIds:["node-handle"]},{body:q("div",{style:{maxWidth:"400px"},children:[q("p",{children:["Some nodes have multiple possible outcomes, namely the ",E("em",{children:"random switch"})," and the ",E("em",{children:"reply"})," nodes."]}),E("p",{children:"The random switch node lets you assign the probability of multiple outcomes. The percent is calculated for you, you just assign the count out of total chances, Try playing with it, we think it's very fast to get used to."})]}),highlightedTutIds:["node-random-switch"]},{body:q("div",{style:{maxWidth:"400px"},children:[q("p",{children:["The ",E("em",{children:"reply"})," node tells the dialogue engine that the environment will let one of the participants choose a response."]}),E("p",{children:"Typically this means the environment will present a user with an interface to select between multiple options, and the dialogue will go down the path they choose."}),q("p",{children:["The icon to the right of the input is the ",E("em",{children:"lock status"})," of a reply. You may choose to always enable a reply, or ",E("em",{children:"lock"})," or ",E("em",{children:"unlock"})," a reply on some true/false variable. This way, that reply won't be usable until some ",E("em",{children:"lock"})," node is reached."]})]}),highlightedTutIds:["node-reply"]},{body:q("div",{style:{maxWidth:"400px"},children:[q("p",{children:["The ",E("em",{children:"lock"})," node either ",E("em",{children:"locks"})," (sets false) or ",E("em",{children:"unlocks"})," (sets true) a boolean variable. You can lock replies in a ",E("em",{children:"reply"})," node on those variables."]}),q("p",{children:["Right-click a ",E("em",{children:"lock"})," node to toggle between locking and unlocking."]}),E("p",{children:"With locks, you can make future dialogue vary based on what has already been said."})]}),highlightedTutIds:["node-lock"]},{body:q("div",{style:{maxWidth:"400px"},children:[q("p",{children:["The ",E("em",{children:"call"})," node calls a ",E("em",{children:"function"})," from the environment."]}),E("p",{children:"The environment can do whatever it wants before continuing (or not) the dialogue, even changing variables that you can then use."})]}),highlightedTutIds:["node-function"]},{body:q("div",{style:{maxWidth:"400px"},children:[q("p",{children:["The ",E("em",{children:"goto"})," node redirects the dialogue state to some labeled node."]}),q("p",{children:["You can set a label for a label-able node by clicking the ",E("em",{children:"more"})," arrow of label-able nodes, and editing the label to not be empty."]}),E("p",{children:"This is a good way to bring a user back to a list of possible interogation options, and see newly unlocked dialogue paths."})]}),highlightedTutIds:["node-goto","node-more"]},{body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"You can use the playback controls to run through your dialogue and test it out."}),E("p",{children:E("strong",{children:"FIXME: There is not yet a way to set values for variables, but there will be"})})]}),highlightedTutIds:["dialogue-playback"]},{body:E("div",{style:{maxWidth:"400px"},children:q("p",{children:["When you're ready to test your conversation in your environment, press the ",E("em",{children:"export"})," button to download the ",E("code",{children:".alternis"})," file which can be loaded by your environment's Alternis integration."]})}),highlightedTutIds:["export-button"]},{body:q("div",{style:{maxWidth:"400px"},children:[E("p",{children:"And that's all! I can't believe you made it all the way to the end of this tutorial."}),q("p",{children:["Please contact ",E("a",{href:"mailto:support@alternis.io",children:"support@alternis.io"})," if you encounter any issues or want a feature!"]})]})}]};function NL(){const e=Qh();return e.tutorialOpen?E(uL,{open:e.tutorialOpen,setOpen:t=>Qh.setState({tutorialOpen:t}),data:RL,onClose:()=>{localStorage.setItem(xE,"true")}}):null}const by="force-addnode",TL=e=>{const t=e==null?void 0:e.data,n=En(a=>a.participants),r=(t==null?void 0:t.speakerIndex)!==void 0?n[t.speakerIndex]:void 0,i=di(e.id),o=oe.useRef(null);return t?q(no,{id:e.id,type:"dialogueEntry",showMoreContent:E(De,{children:q("label",{children:["subtitle",E("input",{className:"nodrag",onChange:a=>i({title:a.currentTarget.value}),value:t.title})]})}),onDrop:a=>{a.preventDefault();const s=a.dataTransfer.getData("application/alternis-project-data-item");if(!s)return;const{id:l,type:u,data:f}=JSON.parse(s);u==="variables"&&f.type==="string"&&i(c=>({text:c.text+`{${l}}`}))},children:[E(Sn,{type:"target",nodeId:e.id,index:0,position:re.Left,className:He.handle,isConnectable:!0}),r?q(De,{children:[q("div",{className:He.nodeHeader,children:[E(hE,{style:{maxWidth:150,fontSize:"1em"},value:t==null?void 0:t.speakerIndex,title:"Click to change the speaker",className:"nodrag",onChange:a=>i({speakerIndex:+a.currentTarget.value}),children:n.map((a,s)=>E("option",{value:s,children:a.name},s))}),E("img",{height:"80px",style:{width:"auto"},src:r.portraitUrl})]}),q("label",{children:["text",E("textarea",{ref:o,className:"nodrag",onChange:a=>i({text:a.currentTarget.value}),value:t.text})]})]}):E(De,{children:" unknown participant "}),E(Sn,{nodeId:e.id,index:0,type:"source",position:re.Right,className:He.handle,isConnectable:!0})]}):null},OL=e=>{const t=En(u=>u.variables),n=k.useMemo(()=>Object.entries(t).filter(([,u])=>u.type==="boolean"),[t]),r=e.data,i=di(e.id),o=(r==null?void 0:r.action)==="lock"?LS:BS,a=oe.useRef(null);k.useEffect(()=>{n.length>=1&&(r==null?void 0:r.variable)===void 0&&i({variable:n[0][0]})},[n,r==null?void 0:r.variable]);const s=(r==null?void 0:r.variable)&&n.find(u=>u[0]===r.variable);oe.useEffect(()=>{var f;const u=c=>{if(c.button===2)return c.stopImmediatePropagation(),c.preventDefault(),i(({action:d})=>({action:d==="lock"?"unlock":"lock"})),!1};return(f=a.current)==null||f.addEventListener("mousedown",u,!0),()=>{var c;return(c=a.current)==null?void 0:c.removeEventListener("mousedown",u,!0)}},[i,a.current]);const l=oe.useMemo(()=>[(r==null?void 0:r.variable)??"INVALID",...n.map(([u])=>u).filter(u=>u!==(r==null?void 0:r.variable))].map(u=>E("option",{value:u,children:u},u)),[r,n]);return r?q(no,{"data-tut-id":"node-lock",type:"lockNode",id:e.id,title:`The 'Lock' node, changes the state of a gate.
Right click to change whether it locks or unlocks it`+(s?"":n.length===0?`

Error: no true/false variables exist, create one`:`

Error: the selected variable does not exist, pick one`),...Re(s?void 0:He.errorOutline),children:[E(Sn,{nodeId:e.id,index:0,type:"target",position:re.Left,className:He.handle,isConnectable:!0}),E(We,{ref:a,children:E(o,{style:{height:80,width:80,stroke:"#000",strokeLinecap:"round"},viewBox:"-2 -2 85 112"})}),q("label",{children:["variable",E("select",{title:n.length===0?"You must create a boolean variable to lock/unlock it":void 0,value:r.variable,onChange:u=>i(()=>({variable:u.currentTarget.value})),children:l})]}),E(Sn,{nodeId:e.id,index:0,type:"source",position:re.Right,className:He.handle,isConnectable:!0})]}):null},PL=e=>{const t=En(i=>i.functions),n=e.data,r=di(e.id);return k.useEffect(()=>{const i=Object.keys(t);Object.entries(i).length>=1&&(n==null?void 0:n.function)===void 0&&r({function:i[0]})},[t,n==null?void 0:n.function]),n?q(no,{type:"emitNode","data-tut-id":"node-function",id:e.id,title:"The 'Function Call' node, triggers environment-registered handlers to run custom logic",children:[E(Sn,{nodeId:e.id,index:0,type:"target",position:re.Left,className:He.handle,isConnectable:!0}),E(We,{children:E("span",{style:{fontSize:"4rem",fontWeight:"bold"},children:"!"})}),q("label",{children:["function",E("select",{value:n.function,onChange:i=>r(()=>({function:i.currentTarget.value})),style:{maxWidth:150},children:Object.entries(t).map(([i])=>E("option",{value:i,children:i},i))})]}),E(Sn,{nodeId:e.id,index:0,type:"source",position:re.Right,className:He.handle,isConnectable:!0})]}):null},DL=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),IL=e=>{const{nodeId:t,totalProportion:n,proportion:r,index:i}=e,o=di(e.nodeId),[a,s,l,u,f]=br.useValidatedInput(String(r));return k.useEffect(()=>{a!==null&&o(({proportions:c})=>{const d=c.slice();return d[i]=a,{proportions:d}})},[a]),q("div",{className:He.randomSwitchInput,children:[E("input",{title:f||void 0,className:"nodrag",style:{outline:u!==Gs.Success?"1px solid #ee2222":void 0,width:"6em"},value:s,onChange:c=>l(c.currentTarget.value)}),q("span",{children:["(",DL.format(r/n),")"]}),E(We,{className:"alternis__hoverable alternis__hoverable-red",title:"Delete this possibility",onClick:()=>i!==0&&o(c=>{const d=c.proportions.slice();return d.splice(i,1),{proportions:d}}),children:E("strong",{children:""})}),E(Sn,{nodeId:t,index:i,type:"source",position:re.Right,className:He.inlineHandle,isConnectable:!0})]},i)},ML=e=>{const t=e.data,n=(t==null?void 0:t.proportions.reduce((s,l)=>s+l,0))??1,r=di(e.id),i=ax(),o=oe.useRef(null),a=oe.useRef(!1);return oe.useEffect(()=>{if(!a.current)return;a.current=!1;const s=o.current;if(!s)return;const l=s.querySelectorAll("input"),u=l[l.length-1];u&&u.focus()},[t==null?void 0:t.proportions.length]),t?q(no,{type:"randomSwitch",id:e.id,"data-tut-id":"node-random-switch",title:`The 'Random Switch' node picks a random output.
Each output has a number of chances compared out of the total to be reached. You can see the exact chance in each option's calculated percentage.`,children:[E(Sn,{nodeId:e.id,index:0,type:"target",position:re.Left,className:He.handle,isConnectable:!0}),q("div",{className:He.randomSwitchBody,ref:o,children:[E(We,{children:E("strong",{style:{fontSize:"2rem"},children:"?"})}),t.proportions.map((s,l)=>E(IL,{nodeId:e.id,proportion:s,totalProportion:n,index:l},l)),E("div",{title:"Add a possibility",...Re("alternis__newButton","alternis__hoverable"),onClick:()=>{r(s=>({proportions:s.proportions.concat(1)})),i(e.id),a.current=!0},children:E(We,{children:"+"})})]})]}):null},LL=e=>E("div",{style:{borderRadius:"50%",border:"2px solid var(--fg-1)",height:e.height,width:e.width}}),BL=e=>{const t=En(i=>i.variables),n=k.useMemo(()=>Object.entries(t).filter(([,i])=>i.type==="boolean"),[t]),r=e.reply.condition==="none"?LL:e.reply.condition==="unlocked"?BS:LS;return q(De,{children:[E(We,{className:"alternis__hoverable",...e.reply.condition==="none"?{title:n.length>0?`Click to condition this reply on a boolean variable being locked (false)
(cycles through conditions)`:"Add a boolean variable to set a condition",onClick:()=>{if(n.length<=0)return;const[i]=n[0];e.set({lockVariable:i,condition:"locked"})}}:e.reply.condition==="locked"?{title:"Click to condition this reply on a boolean variable being unlocked (true)",onClick:()=>{e.set({condition:"unlocked"})}}:{title:"Click to remove conditions from this reply",onClick:()=>{e.set({lockVariable:void 0,condition:"none"})}},children:E(r,{width:"1em",height:"1em"})},`${e.keyPrefix??""}-lockicon`),E("select",{value:e.reply.lockVariable,onChange:i=>e.set({lockVariable:i.currentTarget.value}),style:{maxWidth:150,...e.reply.condition==="none"?{opacity:0,width:0,padding:0,margin:0}:{opacity:1}},children:n.map(([i])=>E("option",{value:i,children:i},i))},`${e.keyPrefix??""}-lockselect`)]})},zL=e=>{const t=e.data,n=di(e.id),r=ax(),i=En(s=>s.participants),o=oe.useRef(null);k.useEffect(()=>{i.length>=1&&(t==null?void 0:t.speaker)===void 0&&n({speaker:0})},[i,t==null?void 0:t.speaker]);const a=oe.useRef(!1);return oe.useEffect(()=>{if(!a.current)return;a.current=!1;const s=o.current;if(!s)return;const l=s.querySelectorAll("input"),u=l[l.length-1];u&&u.focus()},[t==null?void 0:t.replies.length]),t?q(no,{type:"playerReplies",id:e.id,"data-tut-id":"node-reply",title:`The 'Replies' node gives a participant the option to choose from multiple options.
Each output has a number of chances compared out of the total to be reached. You can see the exact chance in each option's calculated percentage.`,children:[E(Sn,{nodeId:e.id,index:0,type:"target",position:re.Left,className:He.handle,isConnectable:!0}),E("label",{style:{marginBottom:"var(--gap)"},children:E(hE,{title:i.length===0?"You must add at least one participant to use them as in a reply":void 0,value:t.speaker,onChange:s=>n(()=>({speaker:+s.currentTarget.value})),style:{maxWidth:150},children:i.map((s,l)=>E("option",{value:l,children:s.name},l))})}),q("div",{className:He.playerRepliesBody,ref:o,children:[t.replies.map((s,l)=>q(oe.Fragment,{children:[E("input",{value:s.text,onChange:u=>{n(({replies:f})=>{const c=f.slice();return c[l]={...c[l],text:u.currentTarget.value},{replies:c}})},onDrop:u=>{u.preventDefault();const f=u.dataTransfer.getData("application/alternis-project-data-item");if(!f)return;const{id:c,type:d,data:v}=JSON.parse(f);d==="variables"&&v.type==="string"&&n(y=>({replies:y.replies.map((_,x)=>x===l?{..._,text:_.text+`{${c}}`}:_)}))}},`input-${l}`),E(BL,{keyPrefix:`replylock-${l}`,reply:s,set:u=>n(f=>{const c=f.replies.slice();return c[l]={...f.replies[l],...typeof u=="function"?u(f.replies[l]):u},{replies:c}}),index:l},`replylock-${l}`),E(We,{className:"alternis__hoverable alternis__hoverable-red",title:"Delete this option",onClick:()=>l!==0&&n(u=>{const f=u.replies.slice();return f.splice(l,1),{replies:f}}),style:{...l===0?{opacity:0,width:0,padding:0,margin:0}:{opacity:1,width:void 0}},children:E("strong",{children:""})},`delete-${l}`),E(Sn,{nodeId:e.id,index:l,type:"source",position:re.Right,className:He.inlineHandle,isConnectable:!0},`handle-${l}`)]},l)),E("div",{title:"Add a reply option",...Re("alternis__newButton","alternis__hoverable"),onClick:()=>{n(s=>({replies:s.replies.concat({text:"",condition:"none",lockVariable:void 0})})),r(e.id),a.current=!0},children:E(We,{children:"+"})})]})]}):null},jL=e=>E(no,{type:"default",id:e.id,title:"This is an error. Please contact support",noLabel:!0,children:E(We,{children:E("strong",{children:"Unknown node"})})}),FL=e=>q("div",{className:He.node,title:"The node that defines the beginning of the dialogue",children:[E(We,{style:{padding:5},children:E("strong",{children:"Start"})}),E(Sn,{nodeId:e.id,index:0,type:"source",position:re.Right,className:He.handle,isConnectable:!0})]}),ky={dialogueEntry:TL,randomSwitch:ML,playerReplies:zL,lockNode:OL,emitNode:PL,entry:FL,goto:tL,default:jL},UL={dialogueEntry:"Line",randomSwitch:"Random",playerReplies:"Player Replies",lockNode:"Lock",emitNode:"Emit",entry:"Entry",goto:"Goto",default:"Unknown"},HL=e=>{const[t]=dg({...e});R4(Mi.Arrow,e.markerEnd);const n=lN();return n.find(r=>r.id===e.source),n.find(r=>r.id===e.target),E(ya,{interactionWidth:20,path:t,...e,style:{strokeWidth:2,...e.style},markerStart:Mi.ArrowClosed,markerEnd:Mi.ArrowClosed})},qL={default:HL};function Cy(e){return`${(e.map(n=>+n.id).filter(n=>!Number.isNaN(n)).reduce((n,r)=>n>r?n:r,0)??0)+1}`}const Zf=async(e,{initData:t=void 0,position:n={x:0,y:0},connectingNodeId:r}={})=>{const i=ve.getState().projectId;if(i===void 0)throw Error("projectId cannot be undefined in the editor");const o=await Oe.get(i);kt.setState(a=>{var u,f;const s=r==null?void 0:r.current,l=Cy(a.nodes);return{nodes:a.nodes.concat({id:l,type:e,data:{...e==="lockNode"?{variable:(f=(u=Object.entries(o.variables).filter(([,c])=>c.type==="boolean"))==null?void 0:u[0])==null?void 0:f[0],action:"lock"}:e==="randomSwitch"?vh(nL):e==="emitNode"?{function:Object.keys(o.functions)[0]}:e==="playerReplies"?vh(rL):{},...t},position:n}),edges:s!==void 0?pg({id:Cy(a.edges),source:s,target:l},a.edges):a.edges}})},$L=()=>{const e=ve(r=>r.currentDialogueId),[t,n]=oe.useState();return q("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[q(De,{children:[E("button",{style:{width:30,height:30},title:"Select a participant to drag and drop a new line from",className:"alternis__toolBtn alternis__center alternis__hoverable",onClick:()=>n(r=>r==="participant"?void 0:"participant"),children:E("img",{width:20,style:{objectFit:"contain"},src:zS})}),t==="participant"&&E("div",{style:{position:"absolute",top:"100%"},children:E(dE,{getParticipantTitle:r=>r.name+`
Drag into the editor to place a new line from this participant`,onDragParticipantEnd:()=>n(void 0),header:"Drag a participant"})})]}),q(De,{children:[E("button",{style:{width:30,height:30,fontFamily:"serif"},title:"Add a variable expansion to the text of the selected node or drag to any node",className:"alternis__toolBtn alternis__hoverable",onClick:()=>n(r=>r==="variable"?void 0:"variable"),children:E("em",{children:E("var",{style:{fontSize:"20px",left:"-0.05em",bottom:"0.05em",position:"relative"},children:"x"})})}),t==="variable"&&E("div",{style:{position:"absolute",top:"100%"},children:E(s8,{onDragVariableEnd:()=>n(void 0)})})]}),q(De,{children:[E("button",{style:{width:30,height:30,fontFamily:"serif"},title:"Select a function node to drag and drop",className:"alternis__toolBtn alternis__hoverable",onClick:()=>n(r=>r==="function"?void 0:"function"),children:E("em",{children:E("var",{style:{fontSize:"20px",left:"-0.1em",position:"relative"},children:"f"})})}),t==="function"&&E("div",{style:{position:"absolute",top:"100%"},children:E(a8,{getTitle:r=>r+`
Drag into the editor to add a call node`,onDragFunctionEnd:()=>n(void 0),header:"Drag a function"})})]}),E("div",{style:{marginLeft:"var(--gap)"},children:E("em",{title:"Name of the currently viewed dialogue within this project",children:e})})]})},WL=()=>q(aa,{position:"top-right",children:[E("div",{children:!1}),q("div",{children:[E("button",{"data-tut-id":"export-button",className:"alternis__toolBtn alternis__hoverable",onClick:async()=>{mL({fileName:"doc.alternis.json",content:JSON.stringify(await D8(),void 0,"  ")})},children:E(bI,{width:20,height:20,className:"alternis__center"})}),E("button",{"data-tut-id":"import-button",className:"alternis__toolBtn alternis__hoverable",onClick:async()=>{const e=await wE({type:"text"}),t=JSON.parse(e.content);ve.setState(t)},children:E(kI,{width:20,height:20,className:"alternis__center"})}),E(d8,{})]})]}),VL=e=>{const t=wa(),n=kt(g=>g.nodes),r=kt(g=>g.edges),i=ve(g=>g.preferences.graph.appendToSelectModifier),o=ve(g=>g.preferences.graph.dragPanMouseBinding),a=ve(g=>g.preferences.graph.addNodeMouseBinding),s=ve(g=>g.preferences.graph.enableBoxSelectOnDrag),l=oe.useRef(),u=oe.useRef(null);v8();const f=oe.useRef(null),d=Ar().search.includes("noHeader"),[[v,y],_]=oe.useState(["select-type",void 0]),x=oe.useMemo(()=>[{id:"entry",label:"Add script line",onSelect(g){_(["select-participant",g])}},...Object.keys(ky).filter(g=>g!=="entry"&&g!=="default"&&g!=="dialogueEntry").map(g=>({id:g,label:UL[g],async onSelect(p){var C;const{top:w,left:S}=u.current.getBoundingClientRect();await Zf(g,{position:t.project({x:p.clientX-S-150/2,y:p.clientY-w}),connectingNodeId:l}),(C=h.current)==null||C.hide()}}))],[t,u,l]),h=oe.useRef(null),m=E(eE,{forceEventKey:by,mouseBinding:a,onHide:()=>{l.current=void 0,_(["select-type",void 0])},ref:h,children:v==="select-type"?E(Jg,{className:He.addNodeMenu,options:x}):E(dE,{onSelectParticipant:async(g,p)=>{var R;const w=y;Je(w!==void 0);const{top:S,left:C}=u.current.getBoundingClientRect();await Zf("dialogueEntry",{position:t.project({x:w.clientX-C-150/2,y:w.clientY-S}),initData:{speakerIndex:p,text:""},connectingNodeId:{current:void 0}}),(R=h.current)==null||R.hide()}})});return q("div",{ref:f,className:"alternis__rel-anchor alternis__propagate-size",children:[m,E("div",{...Re(He.graph,"alternis__propagate-size"),"data-tut-id":"graph","data-tut-inset":!0,ref:u,style:{height:d?"100vh":void 0},children:q(ox,{nodes:n,edges:r,deleteKeyCode:["Backspace","Delete"],onNodesChange:g=>kt.setState(p=>({nodes:J_(g,p.nodes)})),onEdgesChange:g=>kt.setState(p=>({edges:CR(g,p.edges)})),onConnect:g=>{kt.setState(p=>({edges:pg(g,p.edges)}))},snapToGrid:!0,snapGrid:[15,15],minZoom:.1,maxZoom:1,nodeTypes:ky,edgeTypes:qL,onDragOver:g=>{g.preventDefault(),g.dataTransfer.dropEffect="move"},connectionMode:oi.Loose,isValidConnection:g=>{var R,O;const p=n.find(B=>B.id===g.source),w=n.find(B=>B.id===g.target),S=(R=g.sourceHandle)!=null&&R.includes("source")?"source":"target",C=(O=g.targetHandle)!=null&&O.includes("source")?"source":"target";return!p||!w||!S||!C?!0:S!==C&&p!==w},connectionRadius:25,connectOnClick:!0,multiSelectionKeyCode:i,panOnDrag:o?[o.button]:!1,selectionOnDrag:s,selectionMode:la.Partial,zoomOnDoubleClick:!1,onDrop:async g=>{g.preventDefault();const p=g.dataTransfer.getData("application/alternis-project-data-item");if(!p)return;const{id:w,type:S,data:C}=JSON.parse(p);if(!(S==="participants"||S==="variables"&&C.type==="boolean"||S==="functions"))return;const[R,O]=S==="participants"?["dialogueEntry",{speakerIndex:+w,text:""}]:S==="variables"?["lockNode",{variable:w,action:"unlock"}]:S==="functions"?["emitNode",{function:w}]:Je(!1),{top:B,left:F}=u.current.getBoundingClientRect();await Zf(R,{position:t.project({x:g.clientX-F-150/2,y:g.clientY-B}),initData:O,connectingNodeId:l})},onEdgeClick:(g,p)=>{kt.setState(w=>({...w,edges:w.edges.filter(S=>S.id!==p.id)}))},onConnectStart:(g,{nodeId:p})=>{l.current=p??void 0},onConnectEnd:g=>{var w,S;if(((S=(w=g.target)==null?void 0:w.classList)==null?void 0:S.contains("react-flow__pane"))&&u.current&&f.current){const C=new CustomEvent(by,g);C.pageX=g.pageX,C.pageY=g.pageY,f.current.dispatchEvent(C)}},children:[E(CN,{}),E(wN,{zoomable:!0,pannable:!0,color:"var(--fg-1)",maskColor:"#2d2d2dcc",style:{backgroundColor:"var(--bg-2)"}}),E(PN,{}),E(aa,{position:"bottom-center",children:E(X8,{})}),E(aa,{position:"top-left",children:E($L,{})}),E(WL,{})]})}),E(NL,{})]})};function KL(e){const t=X0(o=>o.redo),n=X0(o=>o.undo);k.useLayoutEffect(()=>{const o=l=>{l.key.toLowerCase()==="z"&&l.ctrlKey&&n()},a=l=>{l.key==="Z"&&l.ctrlKey&&l.shiftKey&&t()},s=l=>{l.key.toLowerCase()==="y"&&l.ctrlKey&&t()};return document.addEventListener("keydown",o),document.addEventListener("keydown",a),document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keydown",a),document.removeEventListener("keydown",s)}});const i=Ar().search.includes("noHeader");return q("div",{className:Jh.split,style:{height:i?"100vh":"calc(100vh - var(--header-height))",width:"100vw"},children:[E(kL,{}),E("span",{...Re(Jh.graphEditor,"alternis__propagate-size"),children:E(VL,{})})]})}const GL="_projectGrid_dwhvc_1",YL="_newProjectDialog_dwhvc_8",SE="_projectTile_dwhvc_18";function JL(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:QL}=oe;function ZL(e){const t=QL();return n=>{const r=e(n);return JL(t.current,r)?t.current:t.current=r}}const XL={empty:{...structuredClone(ys),name:"Empty"},template1:Tg};function e6(e){const t=jn(o=>o.api.updateDocumentMeta),n=jn(o=>o.api.deleteDocument),r=jn(o=>o.api.duplicateDocument),i=oe.useRef(null);return oe.useLayoutEffect(()=>{i.current&&(i.current.textContent=e.doc.name)},[]),q("div",{onClick:()=>{const o=Object.keys(e.doc.dialogues)[0];Je(o!==void 0),e.onSelectProject(e.doc.id,o)},...Re("alternis__hoverable",SE),children:[E(We,{children:E("span",{contentEditable:!0,onClick:o=>{o.stopPropagation()},onKeyDown:o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.blur(),o.currentTarget.innerText.trim()===""&&(o.currentTarget.innerText="invalid name"))},onBlur:o=>{const a=o.currentTarget.innerText.trim()||"invalid name";try{t(e.doc.id,{name:a})}catch(s){if(s.name!=="not_found")throw s}},ref:i})}),E("div",{onClick:o=>o.stopPropagation(),children:E(Kh,{style:{position:"absolute",bottom:20,right:20},options:[{id:"duplicate-project",onSelect:()=>r(e.doc),label:"Duplicate this project"},{id:"delete-project",onSelect:()=>n(e.doc.id),label:"Delete this project"}]})})]},e.doc.name)}function t6(e){var u;const t=jn(ZL(f=>{var c;return(c=f.documents)==null?void 0:c.filter(d=>!d.id.startsWith("hidden/"))})),n=jn(f=>f.api.createDocument),r=jn(f=>f.api.duplicateDocument),[i,o]=oe.useState(!1),a=k.useRef(null);br.useOnExternalClick(a,()=>o(!1));const s=(f,c)=>!f||f.length===0?[c]:f,l=q("dialog",{className:YL,open:i,ref:a,children:[E("h2",{children:" Create a project "}),E("h5",{children:" Use a template "}),E("div",{style:{overflowY:"scroll",maxHeight:"50vh"},children:s((u=Object.values(XL))==null?void 0:u.map(f=>E("div",{onClick:()=>{n(f),o(!1)},className:"alternis__hoverable",children:E("span",{children:f.name})},f.name)),E("span",{children:E("em",{children:"You have no templates to clone"})},"none"))}),E("h5",{children:" Or clone from an existing one "}),E("div",{style:{overflowY:"scroll",maxHeight:"50vh"},children:s(t==null?void 0:t.map(f=>E("div",{onClick:()=>{r(f),o(!1)},className:"alternis__hoverable",children:E("span",{children:f.name})},f.id)),E("span",{children:E("em",{children:"You have no documents to clone"})},"none"))})]});return q("div",{style:{padding:11},children:[E("h1",{children:"Projects"}),q("div",{className:GL,children:[E("div",{...Re("alternis__newButton","alternis__hoverable",SE),title:"Make a new project with the new project wizard",onClick:()=>o(!0),children:E(We,{children:E("strong",{children:E("em",{children:"Create a new project"})})})}),t==null?void 0:t.map(f=>E(e6,{onSelectProject:e.onSelectProject,doc:f},f.id))]}),l]})}const n6="_logoLink_obg7e_1",r6="_aboutDialog_obg7e_12",Ay={logoLink:n6,aboutDialog:r6};new TextEncoder;const EE=new TextDecoder,i6=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},o6=e=>{let t=e;t instanceof Uint8Array&&(t=EE.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return i6(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class a6 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class vi extends a6{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function s6(e){return typeof e=="object"&&e!==null}function l6(e){if(!s6(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const u6=o6;function bE(e){if(typeof e!="string")throw new vi("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new vi("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new vi("Invalid JWT");if(!t)throw new vi("JWTs must contain a payload");let r;try{r=u6(t)}catch{throw new vi("Failed to base64url decode the payload")}let i;try{i=JSON.parse(EE.decode(r))}catch{throw new vi("Failed to parse the decoded payload as JSON")}if(!l6(i))throw new vi("Invalid JWT Claims Set");return i}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var c6=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),f6=Object.prototype.hasOwnProperty;function Zh(e,t){return f6.call(e,t)}function Xh(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Zh(e,i)&&r.push(i);return r}function Zt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function ep(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function xi(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function kE(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function tp(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(tp(e[t]))return!0}else if(typeof e=="object"){for(var r=Xh(e),i=r.length,o=0;o<i;o++)if(tp(e[r[o]]))return!0}}return!1}function Ry(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var CE=function(e){c6(t,e);function t(n,r,i,o,a){var s=this.constructor,l=e.call(this,Ry(n,{name:r,index:i,operation:o,tree:a}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=a,Object.setPrototypeOf(l,s.prototype),l.message=Ry(n,{name:r,index:i,operation:o,tree:a}),l}return t}(Error),Xe=CE,d6=Zt,Po={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=rc(n,this.path);r&&(r=Zt(r));var i=ji(n,{op:"remove",path:this.from}).removed;return ji(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=rc(n,this.from);return ji(n,{op:"add",path:this.path,value:Zt(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Ys(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},h6={add:function(e,t,n){return ep(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Po.move,copy:Po.copy,test:Po.test,_get:Po._get};function rc(e,t){if(t=="")return e;var n={op:"_get",path:t};return ji(e,n),n.value}function ji(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):ic(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=rc(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=Ys(e,t.value),a.test===!1)throw new Xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new Xe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}}else{r||(e=Zt(e));var s=t.path||"",l=s.split("/"),u=e,f=1,c=l.length,d=void 0,v=void 0,y=void 0;for(typeof n=="function"?y=n:y=ic;;){if(v=l[f],v&&v.indexOf("~")!=-1&&(v=kE(v)),i&&(v=="__proto__"||v=="prototype"&&f>0&&l[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[v]===void 0?d=l.slice(0,f).join("/"):f==c-1&&(d=t.path),d!==void 0&&y(t,0,e,d)),f++,Array.isArray(u)){if(v==="-")v=u.length;else{if(n&&!ep(v))throw new Xe("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);ep(v)&&(v=~~v)}if(f>=c){if(n&&t.op==="add"&&v>u.length)throw new Xe("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var a=h6[t.op].call(t,u,v,e);if(a.test===!1)throw new Xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(f>=c){var a=Po[t.op].call(t,u,v,e);if(a.test===!1)throw new Xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(u=u[v],n&&f<c&&(!u||typeof u!="object"))throw new Xe("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function Xg(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Xe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Zt(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=ji(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function p6(e,t,n){var r=ji(e,t);if(r.test===!1)throw new Xe("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function ic(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Xe("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Po[e.op]){if(typeof e.path!="string")throw new Xe("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Xe('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Xe("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Xe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&tp(e.value))throw new Xe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Xe("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Xe("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},s=AE([a],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new Xe("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Xe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function AE(e,t,n){try{if(!Array.isArray(e))throw new Xe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Xg(Zt(t),Zt(e),n||!0);else{n=n||ic;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Xe)return i;throw i}}function Ys(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,a;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Ys(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=o;i--!==0;)if(a=s[i],!Ys(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}const g6=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Xe,_areEquals:Ys,applyOperation:ji,applyPatch:Xg,applyReducer:p6,deepClone:d6,getValueByPointer:rc,validate:AE,validator:ic},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var em=new WeakMap,m6=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),v6=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function y6(e){return em.get(e)}function w6(e,t){return e.observers.get(t)}function _6(e,t){e.observers.delete(t.callback)}function x6(e,t){t.unobserve()}function S6(e,t){var n=[],r,i=y6(e);if(!i)i=new m6(e),em.set(e,i);else{var o=w6(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Zt(e),t){r.callback=t,r.next=null;var a=function(){np(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){np(r),clearTimeout(r.next),_6(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new v6(t,r)),r}function np(e,t){t===void 0&&(t=!1);var n=em.get(e.object);tm(n.value,e.object,e.patches,"",t),e.patches.length&&Xg(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function tm(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Xh(t),a=Xh(e),s=!1,l=a.length-1;l>=0;l--){var u=a[l],f=e[u];if(Zh(t,u)&&!(t[u]===void 0&&f!==void 0&&Array.isArray(t)===!1)){var c=t[u];typeof f=="object"&&f!=null&&typeof c=="object"&&c!=null&&Array.isArray(f)===Array.isArray(c)?tm(f,c,n,r+"/"+xi(u),i):f!==c&&(i&&n.push({op:"test",path:r+"/"+xi(u),value:Zt(f)}),n.push({op:"replace",path:r+"/"+xi(u),value:Zt(c)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+xi(u),value:Zt(f)}),n.push({op:"remove",path:r+"/"+xi(u)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&o.length==a.length))for(var l=0;l<o.length;l++){var u=o[l];!Zh(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+xi(u),value:Zt(t[u])})}}}function RE(e,t,n){n===void 0&&(n=!1);var r=[];return tm(e,t,r,"",n),r}const E6=Object.freeze(Object.defineProperty({__proto__:null,compare:RE,generate:np,observe:S6,unobserve:x6},Symbol.toStringTag,{value:"Module"}));Object.assign({},g6,E6,{JsonPatchError:CE,deepClone:Zt,escapePathComponent:xi,unescapePathComponent:kE});const rp="authv1_tok",NE=`https://${window.location.hostname}`,b6=`${NE}/api/v1`,k6=Object.freeze({baseUrl:b6,_token:void 0,_tokenPayload:void 0,me:void 0,documents:void 0});let TE,Si;try{const e=localStorage.getItem(rp)??void 0,t=e&&bE(e)||void 0;t&&t.exp&&Date.now()/1e3<t.exp&&(TE=e,Si=t)}catch{}function C6(e){return typeof e=="string"&&(e=bE(e)),{email:e.email,givenName:e.given_name,familyName:e.family_name,fullName:e.full_name,pictureUrl:e.picture}}const A6=Object.freeze({...k6,_token:TE,me:Si&&{email:Si.email,givenName:Si.given_name,familyName:Si.family_name,fullName:Si.full_name,pictureUrl:Si.picture}}),Ny=()=>-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),R6=va()((e,t)=>({...A6,computed:{get isLoggedIn(){return t()._token!==void 0}},_apiFetch:async(n,r={})=>{Je(n.startsWith("/"));const i=t()._token,o=await fetch(`${t().baseUrl}${n}`,{...r,headers:{...i&&{Authorization:`Bearer ${i}`},...r.headers}});if(!o.ok){console.error("non-OK response",o);const a=Error(`Received non OK '${o.status} ${o.statusText}' response from service:
`+await(o.headers.get("Content-Type")==="application/json"?o.json():o.text()));throw alert(a),a}return o},_likeLogin:async(n,r)=>{const o=await(await t()._apiFetch(`/users/me/${n}`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).json();Je(o==null?void 0:o.token,"no token in login response"),e({_token:o.token,me:o})},api:{register:n=>t()._likeLogin("register",n),login:n=>t()._likeLogin("login",n),async googleLogin(){const n=t()._token;Je(n,"token not set before implicit login");const r=await t()._apiFetch("/users/me/login/google",{method:"POST",headers:{"Content-Type":"application/json"}});Je(r.ok,"google login resp not ok"),e({me:C6(n)})},async logout(){e({_token:void 0})},async syncMe(){return t()._apiFetch("/users/me").then(n=>n.json())},async syncMyRecentDocuments(){if(!t().computed.isLoggedIn)return;const n=await t()._apiFetch("/users/me/documents/recents").then(r=>r.json());e({documents:n})},async getDocument(n){return t()._apiFetch(`/users/me/documents/${n}`).then(r=>r.json())},async patchDocument(n,r,i){const o=RE(r,i);try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})}catch(a){throw a}},async updateDocumentMeta(n,r){let i;e(o=>({documents:(o.documents??[]).map(a=>a.id===n?(i=a,{...a,...r,id:a.id}):a)}));try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"PATCH",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}catch(o){throw i&&e(a=>({documents:(a.documents??[]).map(s=>s.id===n?i:s)})),o}},async deleteDocument(n){let r,i;e(o=>{var a;return r=(a=o.documents)==null?void 0:a.findIndex(s=>s.id===n),i=r!==void 0&&r!==-1?o.documents[r]:void 0,{documents:(o.documents??[]).filter(s=>s.id!==n)}});try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})}catch(o){throw i&&e(a=>({documents:(a.documents??[]).concat(i)})),o}},async createDocument(n={}){var o;const r=(o=t().me)==null?void 0:o.email;Je(r!==void 0,"no owner email!");const i=Ny();e(a=>({documents:[{...n,id:i,name:"New Document",updatedAt:new Date,ownerEmail:r},...a.documents??[]]}));try{const a=await t()._apiFetch("/users/me/documents",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(s=>s.json());e(s=>({documents:(s.documents??[]).map(l=>l.id!==i?l:{...l,...a})}))}catch{e(s=>({documents:(s.documents??[]).filter(l=>l.id!==i)}))}},async duplicateDocument(n){console.log(n);const r=Ny();e(i=>{var a;const o=(a=i.documents)==null?void 0:a.find(s=>s.id===n.id);return o===void 0?i:{documents:[{...o,id:r,name:`${o.name} copy`,updatedAt:new Date},...i.documents??[]]}});try{const i=await t()._apiFetch(`/users/me/documents/${n.id}/duplicate`,{method:"POST",body:JSON.stringify({id:n.id}),headers:{"Content-Type":"application/json"}}).then(o=>o.json());e(o=>({documents:(o.documents??[]).map(a=>a.id!==r?a:{...a,...i})}))}catch{e(o=>({documents:(o.documents??[]).filter(a=>a.id!==r)}))}}}}));R6.subscribe((e,t)=>{e._token!==t._token&&(e._token!==void 0?localStorage.setItem(rp,e._token):localStorage.removeItem(rp))});const N6="/app/assets/logo2-2cee8485.svg";function T6(e,t){const{ref:n,trigger:r}=t;oe.useEffect(()=>{function i(o){if(n.current===null||r!==void 0&&r.current===null)return;(r!==void 0?!n.current.contains(o.target)&&!r.current.contains(o.target):!n.current.contains(o.target))&&e()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,n,e])}function Xf(){const e=Ar(),t=e.search.includes("noHeaderLogo")||e.hash.includes("noHeaderLogo"),n=il(),[r,i]=oe.useState(!1),o=oe.useRef(null),a=oe.useRef(null);T6(()=>{i(!1)},{ref:o,trigger:a});const s=q("dialog",{className:Ay.aboutDialog,open:r,ref:o,children:[E("h2",{children:" The Alternis Editor "}),E("p",{children:"A visual editor for the Alternis dialogue middleware's dialogue format."}),q("p",{children:["Check out the tutorial in the header for help but feel free to use the feedback link or ",E("a",{href:"mailto:support@alternis.io",children:"contact the author"}),"."]}),q("p",{children:["This project is open source. Please see ",E("a",{href:"https://github.com/alternis-io/AlternisFlow-WebEditor",target:"_blank",children:"the repository"})," for all open source dependencies with which this project is made [possible]."]}),q("p",{children:["Made by ",E("a",{href:"https://mikemikeb.com",target:"_blank",children:"Michael Belousov"}),"."]}),q("p",{children:["Demo art by ",E("a",{href:"https://www.jmitchell-illustrations.com/",target:"_blank",children:"Mitch Vecchione"}),"."]})]});return!t&&E(_E,{style:{boxShadow:"rgba(0,0,0,0.3) 0 0 5px 2px",zIndex:5,position:"relative"},left:q("div",{style:{paddingLeft:10,paddingTop:2,paddingBottom:2,display:"flex",gap:11,alignItems:"center"},children:[q("a",{href:NE,className:Ay.logoLink,style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"var(--gap)",marginRight:16},children:[E("img",{src:N6,height:40,className:"alternis__hoverable"}),"Alternis"]}),E("nav",{className:"alternis__hoverable",onClick:()=>n("/app/projects"),children:"Projects"})]}),right:q("div",{style:{display:"flex",gap:11,paddingRight:11},children:[E("nav",{className:"alternis__hoverable",onClick:()=>window.open("https://e0a075ca.sibforms.com/serve/MUIFANC3EaFwNn2Lb330eR8CUoK52Kqq3Iw805_JEf19NtNbXgz8blNJHfE7RaKNJADeNfGAkMOKu86zmyUy_B8V1ivmiigESd_rQkaChA0dM3eST4ictTcvmsCZXQ2ec4b_xS9nXdaF4S1fOmDeDInPn7hFEVTEiHlExtWpPGNEiPcJXdBTlt7MRtajeVcdJGC3u3dBacXZcMsz","_blank"),children:"Newsletter"}),E("nav",{className:"alternis__hoverable",onClick:()=>Qh.setState({tutorialOpen:!0}),children:"Tutorial"}),E("nav",{className:"alternis__hoverable",onClick:()=>window.open("https://docs.google.com/forms/d/e/1FAIpQLSdeEraQ_YVaYn01LhIQT0951B3UJ_wyroKxpP1qZoQ1zPWnjg/viewform?usp=sf_link","_blank"),children:"Feedback"}),q("nav",{ref:a,className:"alternis__hoverable",onClick:()=>i(l=>!l),children:["About",s]})]})})}function O6(e){return e.length<8?{status:"Too few characters, must be between 8 and 30",valid:!1}:e.length>30?{status:"Too many characters, must be between 8 and 30",valid:!1}:/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?{valid:!0}:{status:"Must contain at least one number",valid:!1}:{status:"Must contain at least one lowercase letter",valid:!1}:{status:"Must contain at least one uppercase letter",valid:!1}}function P6(e){const t=jn(i=>{var o;return(o=i.auth)==null?void 0:o.isLoggedIn});jn(i=>{var o;return(o=i.auth)==null?void 0:o.googleLogin});const n=k.useRef(null),r=k.useRef(e.onLogin);return r.current=e.onLogin,t?null:E("div",{ref:n,style:{width:193,height:44}})}function D6(e){const t=il(),[n]=xO(),r=n.get("redirect"),i=jn(w=>{var S;return(S=w.auth)==null?void 0:S.isLoggedIn}),o=jn(w=>w.api),[a,s,l,u,f]=br.useValidatedInput("",{parse:w=>({value:w}),pattern:/[^@]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_]+/}),[c,d,v,y,_]=br.useValidatedInput("",{parse:w=>({value:w}),validate:O6,pattern:/(?:)/}),x=a!==null&&c!==null,h=k.useRef(null),m=()=>{r&&t(decodeURIComponent(r),{replace:!0})},g=async()=>{x&&(await o.login({email:a,password:c}),m())},p=async()=>{await o.logout()};return i||(f&&s.length>0,_&&d.length>0),E("div",{children:E(We,{style:{height:"100%",width:"100%",position:"fixed",padding:6,paddingBottom:"20vh"},ref:h,children:q("div",{style:{display:"flex",flexDirection:"column",maxWidth:"30em",textAlign:"center"},children:[E("p",{children:"We use Google as our identity provider, to prevent storing a password."}),E(We,{children:E(P6,{onLogin:m})}),q("p",{children:["If you would be interested in another identity provider please ",E("a",{href:"mailto:support@alternis.io",children:"reach out to us"})]})]})})})}function I6(){const e=jn(i=>i.auth===void 0||i.auth.isLoggedIn),t=Ar(),n=il(),r=t.search.includes("demo")||t.hash.includes("?demo");k.useEffect(()=>{!e&&!r&&n(`/app/login?redirect=${encodeURIComponent(t.pathname)}`,{replace:!0})},[e,n,t,r])}function Ty(){return I6(),null}function ed(e){const t=kx();return t?q("div",{style:{padding:20},children:[E("p",{children:"An error has occurred. To continue, try reloading the page. If that doesn't work, you must reset the local state, which will likely destroy unsaved changes."}),q("p",{children:["Try contacting ",E("a",{href:"mailto:support@alternis.io",children:"support"})," with the advanced error data if that is an issue."]}),E("button",{onClick:()=>window.location.reload(),children:"reload the page"}),E("br",{}),q("button",{onClick:()=>{EI(),window.location.reload()},children:[E("strong",{style:{color:"red"},children:"delete local state"})," and reload"]}),E("br",{}),q("details",{style:{whiteSpace:"pre-wrap"},children:[E("summary",{children:"Advanced error data"}),E("pre",{children:t==null?void 0:t.toString()}),E("br",{}),E("pre",{children:t==null?void 0:t.stack})]})]}):this.props.children}const OE=pO([{path:"app",element:q(De,{children:[E(Ty,{}),q(wg,{children:[E(Xf,{}),E(KL,{})]})]}),ErrorBoundary:ed},{path:"app/projects",element:q(De,{children:[E(Ty,{}),E(Xf,{}),E(t6,{onSelectProject:(e,t)=>{ve.setState({projectId:e,currentDialogueId:t}),OE.navigate("/app")}})]}),ErrorBoundary:ed},{path:"app/login",element:q(De,{children:[E(Xf,{}),E(D6,{})]}),ErrorBoundary:ed}]),M6=td.createRoot(document.querySelector("#react-app"));M6.render(E(oe.StrictMode,{children:E(oP,{pouchdb:Oe,children:E(oO,{router:OE})})}));
