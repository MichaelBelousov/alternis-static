function Up(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var dl={},Hb={get exports(){return dl},set exports(e){dl=e}},Jc={},P={},qb={get exports(){return P},set exports(e){P=e}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),$b=Symbol.for("react.portal"),Wb=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Gb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),Zb=Symbol.for("react.memo"),Xb=Symbol.for("react.lazy"),mm=Symbol.iterator;function ek(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var m1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v1=Object.assign,y1={};function as(e,t,n){this.props=e,this.context=t,this.refs=y1,this.updater=n||m1}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w1(){}w1.prototype=as.prototype;function Hp(e,t,n){this.props=e,this.context=t,this.refs=y1,this.updater=n||m1}var qp=Hp.prototype=new w1;qp.constructor=Hp;v1(qp,as.prototype);qp.isPureReactComponent=!0;var vm=Array.isArray,_1=Object.prototype.hasOwnProperty,$p={current:null},x1={key:!0,ref:!0,__self:!0,__source:!0};function S1(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)_1.call(t,r)&&!x1.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Hl,type:e,key:o,ref:a,props:i,_owner:$p.current}}function tk(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function nk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ym=/\/+/g;function sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nk(""+e.key):t.toString(36)}function Uu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hl:case $b:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+sd(a,0):r,vm(i)?(n="",e!=null&&(n=e.replace(ym,"$&/")+"/"),Uu(i,t,n,"",function(c){return c})):i!=null&&(Wp(i)&&(i=tk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ym,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",vm(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+sd(o,s);a+=Uu(o,t,n,l,i)}else if(l=ek(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+sd(o,s++),a+=Uu(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function hu(e,t,n){if(e==null)return e;var r=[],i=0;return Uu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function rk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zn={current:null},Hu={transition:null},ik={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:$p};ft.Children={map:hu,forEach:function(e,t,n){hu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hu(e,function(){t++}),t},toArray:function(e){return hu(e,function(t){return t})||[]},only:function(e){if(!Wp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=as;ft.Fragment=Wb;ft.Profiler=Kb;ft.PureComponent=Hp;ft.StrictMode=Vb;ft.Suspense=Qb;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v1({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$p.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_1.call(t,l)&&!x1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Hl,type:e.type,key:i,ref:o,props:r,_owner:a}};ft.createContext=function(e){return e={$$typeof:Yb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gb,_context:e},e.Consumer=e};ft.createElement=S1;ft.createFactory=function(e){var t=S1.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:Jb,render:e}};ft.isValidElement=Wp;ft.lazy=function(e){return{$$typeof:Xb,_payload:{_status:-1,_result:e},_init:rk}};ft.memo=function(e,t){return{$$typeof:Zb,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Hu.transition;Hu.transition={};try{e()}finally{Hu.transition=t}};ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ft.useCallback=function(e,t){return zn.current.useCallback(e,t)};ft.useContext=function(e){return zn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return zn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return zn.current.useEffect(e,t)};ft.useId=function(){return zn.current.useId()};ft.useImperativeHandle=function(e,t,n){return zn.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return zn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return zn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return zn.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return zn.current.useReducer(e,t,n)};ft.useRef=function(e){return zn.current.useRef(e)};ft.useState=function(e){return zn.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return zn.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return zn.current.useTransition()};ft.version="18.2.0";(function(e){e.exports=ft})(qb);const Me=Yc(P),Vp=Up({__proto__:null,default:Me},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=P,ak=Symbol.for("react.element"),sk=Symbol.for("react.fragment"),lk=Object.prototype.hasOwnProperty,uk=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ck={key:!0,ref:!0,__self:!0,__source:!0};function E1(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)lk.call(t,r)&&!ck.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ak,type:e,key:o,ref:a,props:i,_owner:uk.current}}Jc.Fragment=sk;Jc.jsx=E1;Jc.jsxs=E1;(function(e){e.exports=Jc})(Hb);const _t=dl.Fragment,T=dl.jsx,ae=dl.jsxs;var ah={},hl={},fk={get exports(){return hl},set exports(e){hl=e}},ur={},sh={},dk={get exports(){return sh},set exports(e){sh=e}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var W=j.length;j.push($);e:for(;0<W;){var me=W-1>>>1,ye=j[me];if(0<i(ye,$))j[me]=$,j[W]=ye,W=me;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],W=j.pop();if(W!==$){j[0]=W;e:for(var me=0,ye=j.length,Te=ye>>>1;me<Te;){var be=2*(me+1)-1,Ue=j[be],Le=be+1,Ve=j[Le];if(0>i(Ue,W))Le<ye&&0>i(Ve,Ue)?(j[me]=Ve,j[Le]=W,me=Le):(j[me]=Ue,j[be]=W,me=be);else if(Le<ye&&0>i(Ve,W))j[me]=Ve,j[Le]=W,me=Le;else break e}}return $}function i(j,$){var W=j.sortIndex-$.sortIndex;return W!==0?W:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],h=1,g=null,S=3,E=!1,k=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function d(j){if(C=!1,_(j),!k)if(n(l)!==null)k=!0,U(y);else{var $=n(c);$!==null&&B(d,$.startTime-j)}}function y(j,$){k=!1,C&&(C=!1,x(N),N=-1),E=!0;var W=S;try{for(_($),g=n(l);g!==null&&(!(g.expirationTime>$)||j&&!se());){var me=g.callback;if(typeof me=="function"){g.callback=null,S=g.priorityLevel;var ye=me(g.expirationTime<=$);$=e.unstable_now(),typeof ye=="function"?g.callback=ye:g===n(l)&&r(l),_($)}else r(l);g=n(l)}if(g!==null)var Te=!0;else{var be=n(c);be!==null&&B(d,be.startTime-$),Te=!1}return Te}finally{g=null,S=W,E=!1}}var m=!1,b=null,N=-1,D=5,G=-1;function se(){return!(e.unstable_now()-G<D)}function J(){if(b!==null){var j=e.unstable_now();G=j;var $=!0;try{$=b(!0,j)}finally{$?z():(m=!1,b=null)}}else m=!1}var z;if(typeof w=="function")z=function(){w(J)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=J,z=function(){H.postMessage(null)}}else z=function(){R(J,0)};function U(j){b=j,m||(m=!0,z())}function B(j,$){N=R(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,U(y))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(S){case 1:case 2:case 3:var $=3;break;default:$=S}var W=S;S=$;try{return j()}finally{S=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=S;S=j;try{return $()}finally{S=W}},e.unstable_scheduleCallback=function(j,$,W){var me=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?me+W:me):W=me,j){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=W+ye,j={id:h++,callback:$,priorityLevel:j,startTime:W,expirationTime:ye,sortIndex:-1},W>me?(j.sortIndex=W,t(c,j),n(l)===null&&j===n(c)&&(C?(x(N),N=-1):C=!0,B(d,W-me))):(j.sortIndex=ye,t(l,j),k||E||(k=!0,U(y))),j},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(j){var $=S;return function(){var W=S;S=$;try{return j.apply(this,arguments)}finally{S=W}}}})(b1);(function(e){e.exports=b1})(dk);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=P,or=sh;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C1=new Set,pl={};function Qo(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(pl[e]=t,e=0;e<t.length;e++)C1.add(t[e])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=Object.prototype.hasOwnProperty,hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wm={},_m={};function pk(e){return lh.call(_m,e)?!0:lh.call(wm,e)?!1:hk.test(e)?_m[e]=!0:(wm[e]=!0,!1)}function gk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mk(e,t,n,r){if(t===null||typeof t>"u"||gk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kp=/[\-:]([a-z])/g;function Gp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kp,Gp);Cn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kp,Gp);Cn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kp,Gp);Cn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,n,r){var i=Cn.hasOwnProperty(t)?Cn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mk(t,n,i,r)&&(n=null),r||i===null?pk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ei=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),ga=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),R1=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),N1=Symbol.for("react.offscreen"),xm=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,ld;function qs(e){if(ld===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ld=t&&t[1]||""}return`
`+ld+e}var ud=!1;function cd(e,t){if(!e||ud)return"";ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{ud=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qs(e):""}function vk(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=cd(e.type,!1),e;case 11:return e=cd(e.type.render,!1),e;case 1:return e=cd(e.type,!0),e;default:return""}}function dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ma:return"Fragment";case ga:return"Portal";case uh:return"Profiler";case Jp:return"StrictMode";case ch:return"Suspense";case fh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R1:return(e.displayName||"Context")+".Consumer";case A1:return(e._context.displayName||"Context")+".Provider";case Qp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zp:return t=e.displayName||null,t!==null?t:dh(e.type)||"Memo";case Ii:t=e._payload,e=e._init;try{return dh(e(t))}catch{}}return null}function yk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(t);case 8:return t===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function to(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function T1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wk(e){var t=T1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gu(e){e._valueTracker||(e._valueTracker=wk(e))}function O1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hh(e,t){var n=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=to(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P1(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function ph(e,t){P1(e,t);var n=to(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gh(e,t.type,n):t.hasOwnProperty("defaultValue")&&gh(e,t.type,to(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gh(e,t,n){(t!=="number"||ac(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $s=Array.isArray;function Oa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+to(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if($s(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:to(n)}}function D1(e,t){var n=to(t.value),r=to(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,M1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_k=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(e){_k.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),el[t]=el[e]})});function L1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||el.hasOwnProperty(e)&&el[e]?(""+t).trim():t+"px"}function B1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=L1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xk=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(e,t){if(t){if(xk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function wh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=null;function Xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xh=null,Pa=null,Da=null;function Cm(e){if(e=Wl(e)){if(typeof xh!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=tf(t),xh(e.stateNode,e.type,t))}}function j1(e){Pa?Da?Da.push(e):Da=[e]:Pa=e}function z1(){if(Pa){var e=Pa,t=Da;if(Da=Pa=null,Cm(e),t)for(e=0;e<t.length;e++)Cm(t[e])}}function F1(e,t){return e(t)}function U1(){}var fd=!1;function H1(e,t,n){if(fd)return e(t,n);fd=!0;try{return F1(e,t,n)}finally{fd=!1,(Pa!==null||Da!==null)&&(U1(),z1())}}function ml(e,t){var n=e.stateNode;if(n===null)return null;var r=tf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var Sh=!1;if(vi)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Sh=!1}function Sk(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var tl=!1,sc=null,lc=!1,Eh=null,Ek={onError:function(e){tl=!0,sc=e}};function bk(e,t,n,r,i,o,a,s,l){tl=!1,sc=null,Sk.apply(Ek,arguments)}function kk(e,t,n,r,i,o,a,s,l){if(bk.apply(this,arguments),tl){if(tl){var c=sc;tl=!1,sc=null}else throw Error(_e(198));lc||(lc=!0,Eh=c)}}function Zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Am(e){if(Zo(e)!==e)throw Error(_e(188))}function Ck(e){var t=e.alternate;if(!t){if(t=Zo(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Am(i),e;if(o===r)return Am(i),t;o=o.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function $1(e){return e=Ck(e),e!==null?W1(e):null}function W1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W1(e);if(t!==null)return t;e=e.sibling}return null}var V1=or.unstable_scheduleCallback,Rm=or.unstable_cancelCallback,Ak=or.unstable_shouldYield,Rk=or.unstable_requestPaint,Xt=or.unstable_now,Nk=or.unstable_getCurrentPriorityLevel,eg=or.unstable_ImmediatePriority,K1=or.unstable_UserBlockingPriority,uc=or.unstable_NormalPriority,Tk=or.unstable_LowPriority,G1=or.unstable_IdlePriority,Qc=null,ni=null;function Ok(e){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Qc,e,void 0,(e.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Ik,Pk=Math.log,Dk=Math.LN2;function Ik(e){return e>>>=0,e===0?32:31-(Pk(e)/Dk|0)|0}var vu=64,yu=4194304;function Ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Ws(s):(o&=a,o!==0&&(r=Ws(o)))}else a=n&~i,a!==0?r=Ws(a):o!==0&&(r=Ws(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hr(t),i=1<<n,r|=e[n],t&=~i;return r}function Mk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Hr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Mk(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function bh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Y1(){var e=vu;return vu<<=1,!(vu&4194240)&&(vu=64),e}function dd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ql(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hr(t),e[t]=n}function Bk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Hr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function tg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function J1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q1,ng,Z1,X1,ew,kh=!1,wu=[],Wi=null,Vi=null,Ki=null,vl=new Map,yl=new Map,zi=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nm(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(t.pointerId)}}function bs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Wl(t),t!==null&&ng(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zk(e,t,n,r,i){switch(t){case"focusin":return Wi=bs(Wi,e,t,n,r,i),!0;case"dragenter":return Vi=bs(Vi,e,t,n,r,i),!0;case"mouseover":return Ki=bs(Ki,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vl.set(o,bs(vl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yl.set(o,bs(yl.get(o)||null,e,t,n,r,i)),!0}return!1}function tw(e){var t=Ro(e.target);if(t!==null){var n=Zo(t);if(n!==null){if(t=n.tag,t===13){if(t=q1(n),t!==null){e.blockedOn=t,ew(e.priority,function(){Z1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ch(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_h=r,n.target.dispatchEvent(r),_h=null}else return t=Wl(n),t!==null&&ng(t),e.blockedOn=n,!1;t.shift()}return!0}function Tm(e,t,n){qu(e)&&n.delete(t)}function Fk(){kh=!1,Wi!==null&&qu(Wi)&&(Wi=null),Vi!==null&&qu(Vi)&&(Vi=null),Ki!==null&&qu(Ki)&&(Ki=null),vl.forEach(Tm),yl.forEach(Tm)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,kh||(kh=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,Fk)))}function wl(e){function t(i){return ks(i,e)}if(0<wu.length){ks(wu[0],e);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wi!==null&&ks(Wi,e),Vi!==null&&ks(Vi,e),Ki!==null&&ks(Ki,e),vl.forEach(t),yl.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)tw(n),n.blockedOn===null&&zi.shift()}var Ia=Ei.ReactCurrentBatchConfig,fc=!0;function Uk(e,t,n,r){var i=bt,o=Ia.transition;Ia.transition=null;try{bt=1,rg(e,t,n,r)}finally{bt=i,Ia.transition=o}}function Hk(e,t,n,r){var i=bt,o=Ia.transition;Ia.transition=null;try{bt=4,rg(e,t,n,r)}finally{bt=i,Ia.transition=o}}function rg(e,t,n,r){if(fc){var i=Ch(e,t,n,r);if(i===null)Sd(e,t,r,dc,n),Nm(e,r);else if(zk(i,e,t,n,r))r.stopPropagation();else if(Nm(e,r),t&4&&-1<jk.indexOf(e)){for(;i!==null;){var o=Wl(i);if(o!==null&&Q1(o),o=Ch(e,t,n,r),o===null&&Sd(e,t,r,dc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sd(e,t,r,null,n)}}var dc=null;function Ch(e,t,n,r){if(dc=null,e=Xp(r),e=Ro(e),e!==null)if(t=Zo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dc=e,null}function nw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case eg:return 1;case K1:return 4;case uc:case Tk:return 16;case G1:return 536870912;default:return 16}default:return 16}}var Hi=null,ig=null,$u=null;function rw(){if($u)return $u;var e,t=ig,n=t.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return $u=i.slice(e,1<r?1-r:void 0)}function Wu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _u(){return!0}function Om(){return!1}function cr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_u:Om,this.isPropagationStopped=Om,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=cr(ss),$l=Vt({},ss,{view:0,detail:0}),qk=cr($l),hd,pd,Cs,Zc=Vt({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(hd=e.screenX-Cs.screenX,pd=e.screenY-Cs.screenY):pd=hd=0,Cs=e),hd)},movementY:function(e){return"movementY"in e?e.movementY:pd}}),Pm=cr(Zc),$k=Vt({},Zc,{dataTransfer:0}),Wk=cr($k),Vk=Vt({},$l,{relatedTarget:0}),gd=cr(Vk),Kk=Vt({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Gk=cr(Kk),Yk=Vt({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jk=cr(Yk),Qk=Vt({},ss,{data:0}),Dm=cr(Qk),Zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eC[e])?!!t[e]:!1}function ag(){return tC}var nC=Vt({},$l,{key:function(e){if(e.key){var t=Zk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(e){return e.type==="keypress"?Wu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rC=cr(nC),iC=Vt({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=cr(iC),oC=Vt({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),aC=cr(oC),sC=Vt({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),lC=cr(sC),uC=Vt({},Zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cC=cr(uC),fC=[9,13,27,32],sg=vi&&"CompositionEvent"in window,nl=null;vi&&"documentMode"in document&&(nl=document.documentMode);var dC=vi&&"TextEvent"in window&&!nl,iw=vi&&(!sg||nl&&8<nl&&11>=nl),Mm=String.fromCharCode(32),Lm=!1;function ow(e,t){switch(e){case"keyup":return fC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function hC(e,t){switch(e){case"compositionend":return aw(t);case"keypress":return t.which!==32?null:(Lm=!0,Mm);case"textInput":return e=t.data,e===Mm&&Lm?null:e;default:return null}}function pC(e,t){if(va)return e==="compositionend"||!sg&&ow(e,t)?(e=rw(),$u=ig=Hi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iw&&t.locale!=="ko"?null:t.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gC[e.type]:t==="textarea"}function sw(e,t,n,r){j1(r),t=hc(t,"onChange"),0<t.length&&(n=new og("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rl=null,_l=null;function mC(e){yw(e,0)}function Xc(e){var t=_a(e);if(O1(t))return e}function vC(e,t){if(e==="change")return t}var lw=!1;if(vi){var md;if(vi){var vd="oninput"in document;if(!vd){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),vd=typeof jm.oninput=="function"}md=vd}else md=!1;lw=md&&(!document.documentMode||9<document.documentMode)}function zm(){rl&&(rl.detachEvent("onpropertychange",uw),_l=rl=null)}function uw(e){if(e.propertyName==="value"&&Xc(_l)){var t=[];sw(t,_l,e,Xp(e)),H1(mC,t)}}function yC(e,t,n){e==="focusin"?(zm(),rl=t,_l=n,rl.attachEvent("onpropertychange",uw)):e==="focusout"&&zm()}function wC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xc(_l)}function _C(e,t){if(e==="click")return Xc(t)}function xC(e,t){if(e==="input"||e==="change")return Xc(t)}function SC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:SC;function xl(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lh.call(t,i)||!Vr(e[i],t[i]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,t){var n=Fm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fm(n)}}function cw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fw(){for(var e=window,t=ac();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ac(e.document)}return t}function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EC(e){var t=fw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cw(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Um(n,o);var a=Um(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bC=vi&&"documentMode"in document&&11>=document.documentMode,ya=null,Ah=null,il=null,Rh=!1;function Hm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||ya==null||ya!==ac(r)||(r=ya,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&xl(il,r)||(il=r,r=hc(Ah,"onSelect"),0<r.length&&(t=new og("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ya)))}function xu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},yd={},dw={};vi&&(dw=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function ef(e){if(yd[e])return yd[e];if(!wa[e])return e;var t=wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dw)return yd[e]=t[n];return e}var hw=ef("animationend"),pw=ef("animationiteration"),gw=ef("animationstart"),mw=ef("transitionend"),vw=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(e,t){vw.set(e,t),Qo(t,[e])}for(var wd=0;wd<qm.length;wd++){var _d=qm[wd],kC=_d.toLowerCase(),CC=_d[0].toUpperCase()+_d.slice(1);so(kC,"on"+CC)}so(hw,"onAnimationEnd");so(pw,"onAnimationIteration");so(gw,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(mw,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function $m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kk(r,t,void 0,e),e.currentTarget=null}function yw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;$m(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;$m(i,s,c),o=l}}}if(lc)throw e=Eh,lc=!1,Eh=null,e}function Pt(e,t){var n=t[Dh];n===void 0&&(n=t[Dh]=new Set);var r=e+"__bubble";n.has(r)||(ww(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),ww(n,e,r,t)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Su]){e[Su]=!0,C1.forEach(function(n){n!=="selectionchange"&&(AC.has(n)||xd(n,!1,e),xd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Su]||(t[Su]=!0,xd("selectionchange",!1,t))}}function ww(e,t,n,r){switch(nw(t)){case 1:var i=Uk;break;case 4:i=Hk;break;default:i=rg}n=i.bind(null,t,n,e),i=void 0,!Sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ro(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}H1(function(){var c=o,h=Xp(n),g=[];e:{var S=vw.get(e);if(S!==void 0){var E=og,k=e;switch(e){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":E=rC;break;case"focusin":k="focus",E=gd;break;case"focusout":k="blur",E=gd;break;case"beforeblur":case"afterblur":E=gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=aC;break;case hw:case pw:case gw:E=Gk;break;case mw:E=lC;break;case"scroll":E=qk;break;case"wheel":E=cC;break;case"copy":case"cut":case"paste":E=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Im}var C=(t&4)!==0,R=!C&&e==="scroll",x=C?S!==null?S+"Capture":null:S;C=[];for(var w=c,_;w!==null;){_=w;var d=_.stateNode;if(_.tag===5&&d!==null&&(_=d,x!==null&&(d=ml(w,x),d!=null&&C.push(El(w,d,_)))),R)break;w=w.return}0<C.length&&(S=new E(S,k,null,n,h),g.push({event:S,listeners:C}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",S&&n!==_h&&(k=n.relatedTarget||n.fromElement)&&(Ro(k)||k[yi]))break e;if((E||S)&&(S=h.window===h?h:(S=h.ownerDocument)?S.defaultView||S.parentWindow:window,E?(k=n.relatedTarget||n.toElement,E=c,k=k?Ro(k):null,k!==null&&(R=Zo(k),k!==R||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=c),E!==k)){if(C=Pm,d="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(C=Im,d="onPointerLeave",x="onPointerEnter",w="pointer"),R=E==null?S:_a(E),_=k==null?S:_a(k),S=new C(d,w+"leave",E,n,h),S.target=R,S.relatedTarget=_,d=null,Ro(h)===c&&(C=new C(x,w+"enter",k,n,h),C.target=_,C.relatedTarget=R,d=C),R=d,E&&k)t:{for(C=E,x=k,w=0,_=C;_;_=aa(_))w++;for(_=0,d=x;d;d=aa(d))_++;for(;0<w-_;)C=aa(C),w--;for(;0<_-w;)x=aa(x),_--;for(;w--;){if(C===x||x!==null&&C===x.alternate)break t;C=aa(C),x=aa(x)}C=null}else C=null;E!==null&&Wm(g,S,E,C,!1),k!==null&&R!==null&&Wm(g,R,k,C,!0)}}e:{if(S=c?_a(c):window,E=S.nodeName&&S.nodeName.toLowerCase(),E==="select"||E==="input"&&S.type==="file")var y=vC;else if(Bm(S))if(lw)y=xC;else{y=wC;var m=yC}else(E=S.nodeName)&&E.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(y=_C);if(y&&(y=y(e,c))){sw(g,y,n,h);break e}m&&m(e,S,c),e==="focusout"&&(m=S._wrapperState)&&m.controlled&&S.type==="number"&&gh(S,"number",S.value)}switch(m=c?_a(c):window,e){case"focusin":(Bm(m)||m.contentEditable==="true")&&(ya=m,Ah=c,il=null);break;case"focusout":il=Ah=ya=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Hm(g,n,h);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":Hm(g,n,h)}var b;if(sg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else va?ow(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(iw&&n.locale!=="ko"&&(va||N!=="onCompositionStart"?N==="onCompositionEnd"&&va&&(b=rw()):(Hi=h,ig="value"in Hi?Hi.value:Hi.textContent,va=!0)),m=hc(c,N),0<m.length&&(N=new Dm(N,e,null,n,h),g.push({event:N,listeners:m}),b?N.data=b:(b=aw(n),b!==null&&(N.data=b)))),(b=dC?hC(e,n):pC(e,n))&&(c=hc(c,"onBeforeInput"),0<c.length&&(h=new Dm("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:c}),h.data=b))}yw(g,t)})}function El(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ml(e,n),o!=null&&r.unshift(El(e,o,i)),o=ml(e,t),o!=null&&r.push(El(e,o,i))),e=e.return}return r}function aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wm(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=ml(n,o),l!=null&&a.unshift(El(n,l,s))):i||(l=ml(n,o),l!=null&&a.push(El(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var RC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(RC,`
`).replace(NC,"")}function Eu(e,t,n){if(t=Vm(t),Vm(e)!==t&&n)throw Error(_e(425))}function pc(){}var Nh=null,Th=null;function Oh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,Km=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof Km<"u"?function(e){return Km.resolve(null).then(e).catch(PC)}:Ph;function PC(e){setTimeout(function(){throw e})}function Ed(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wl(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),ti="__reactFiber$"+ls,bl="__reactProps$"+ls,yi="__reactContainer$"+ls,Dh="__reactEvents$"+ls,DC="__reactListeners$"+ls,IC="__reactHandles$"+ls;function Ro(e){var t=e[ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gm(e);e!==null;){if(n=e[ti])return n;e=Gm(e)}return t}e=n,n=e.parentNode}return null}function Wl(e){return e=e[ti]||e[yi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function tf(e){return e[bl]||null}var Ih=[],xa=-1;function lo(e){return{current:e}}function Dt(e){0>xa||(e.current=Ih[xa],Ih[xa]=null,xa--)}function Ot(e,t){xa++,Ih[xa]=e.current,e.current=t}var no={},Pn=lo(no),Gn=lo(!1),Ho=no;function Va(e,t){var n=e.type.contextTypes;if(!n)return no;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(e){return e=e.childContextTypes,e!=null}function gc(){Dt(Gn),Dt(Pn)}function Ym(e,t,n){if(Pn.current!==no)throw Error(_e(168));Ot(Pn,t),Ot(Gn,n)}function _w(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,yk(e)||"Unknown",i));return Vt({},n,r)}function mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||no,Ho=Pn.current,Ot(Pn,e),Ot(Gn,Gn.current),!0}function Jm(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=_w(e,t,Ho),r.__reactInternalMemoizedMergedChildContext=e,Dt(Gn),Dt(Pn),Ot(Pn,e)):Dt(Gn),Ot(Gn,n)}var ci=null,nf=!1,bd=!1;function xw(e){ci===null?ci=[e]:ci.push(e)}function MC(e){nf=!0,xw(e)}function uo(){if(!bd&&ci!==null){bd=!0;var e=0,t=bt;try{var n=ci;for(bt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ci=null,nf=!1}catch(i){throw ci!==null&&(ci=ci.slice(e+1)),V1(eg,uo),i}finally{bt=t,bd=!1}}return null}var Sa=[],Ea=0,vc=null,yc=0,wr=[],_r=0,qo=null,fi=1,di="";function Eo(e,t){Sa[Ea++]=yc,Sa[Ea++]=vc,vc=e,yc=t}function Sw(e,t,n){wr[_r++]=fi,wr[_r++]=di,wr[_r++]=qo,qo=e;var r=fi;e=di;var i=32-Hr(r)-1;r&=~(1<<i),n+=1;var o=32-Hr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,fi=1<<32-Hr(t)+i|n<<i|r,di=o+e}else fi=1<<o|n<<i|r,di=e}function ug(e){e.return!==null&&(Eo(e,1),Sw(e,1,0))}function cg(e){for(;e===vc;)vc=Sa[--Ea],Sa[Ea]=null,yc=Sa[--Ea],Sa[Ea]=null;for(;e===qo;)qo=wr[--_r],wr[_r]=null,di=wr[--_r],wr[_r]=null,fi=wr[--_r],wr[_r]=null}var rr=null,tr=null,Bt=!1,Fr=null;function Ew(e,t){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,tr=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qo!==null?{id:fi,overflow:di}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rr=e,tr=null,!0):!1;default:return!1}}function Mh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lh(e){if(Bt){var t=tr;if(t){var n=t;if(!Qm(e,t)){if(Mh(e))throw Error(_e(418));t=Gi(n.nextSibling);var r=rr;t&&Qm(e,t)?Ew(r,n):(e.flags=e.flags&-4097|2,Bt=!1,rr=e)}}else{if(Mh(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Bt=!1,rr=e}}}function Zm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function bu(e){if(e!==rr)return!1;if(!Bt)return Zm(e),Bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oh(e.type,e.memoizedProps)),t&&(t=tr)){if(Mh(e))throw bw(),Error(_e(418));for(;t;)Ew(e,t),t=Gi(t.nextSibling)}if(Zm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tr=Gi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=rr?Gi(e.stateNode.nextSibling):null;return!0}function bw(){for(var e=tr;e;)e=Gi(e.nextSibling)}function Ka(){tr=rr=null,Bt=!1}function fg(e){Fr===null?Fr=[e]:Fr.push(e)}var LC=Ei.ReactCurrentBatchConfig;function Lr(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wc=lo(null),_c=null,ba=null,dg=null;function hg(){dg=ba=_c=null}function pg(e){var t=wc.current;Dt(wc),e._currentValue=t}function Bh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){_c=e,dg=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(dg!==e)if(e={context:e,memoizedValue:t,next:null},ba===null){if(_c===null)throw Error(_e(308));ba=e,_c.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var No=null;function gg(e){No===null?No=[e]:No.push(e)}function kw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gg(t)):(n.next=i.next,i.next=n),t.interleaved=n,wi(e,r)}function wi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function mg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wi(e,n)}return i=r.interleaved,i===null?(t.next=t,gg(r)):(t.next=i.next,i.next=t),r.interleaved=t,wi(e,n)}function Vu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tg(e,n)}}function Xm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xc(e,t,n,r){var i=e.updateQueue;Mi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;a=0,h=c=l=null,s=o;do{var S=s.lane,E=s.eventTime;if((r&S)===S){h!==null&&(h=h.next={eventTime:E,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=e,C=s;switch(S=t,E=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){g=k.call(E,g,S);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,S=typeof k=="function"?k.call(E,g,S):k,S==null)break e;g=Vt({},g,S);break e;case 2:Mi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,S=i.effects,S===null?i.effects=[s]:S.push(s))}else E={eventTime:E,lane:S,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=E,l=g):h=h.next=E,a|=S;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;S=s,s=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(h===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wo|=a,e.lanes=a,e.memoizedState=g}}function ev(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var Aw=new k1.Component().refs;function jh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rf={isMounted:function(e){return(e=e._reactInternals)?Zo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jn(),i=Qi(e),o=pi(r,i);o.payload=t,n!=null&&(o.callback=n),t=Yi(e,o,i),t!==null&&(qr(t,e,i,r),Vu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jn(),i=Qi(e),o=pi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Yi(e,o,i),t!==null&&(qr(t,e,i,r),Vu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),r=Qi(e),i=pi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Yi(e,i,r),t!==null&&(qr(t,e,r,n),Vu(t,e,r))}};function tv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!xl(n,r)||!xl(i,o):!0}function Rw(e,t,n){var r=!1,i=no,o=t.contextType;return typeof o=="object"&&o!==null?o=Cr(o):(i=Yn(t)?Ho:Pn.current,r=t.contextTypes,o=(r=r!=null)?Va(e,i):no),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rf.enqueueReplaceState(t,t.state,null)}function zh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Aw,mg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Cr(o):(o=Yn(t)?Ho:Pn.current,i.context=Va(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rf.enqueueReplaceState(i,i.state,null),xc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function As(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===Aw&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function ku(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rv(e){var t=e._init;return t(e._payload)}function Nw(e){function t(x,w){if(e){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Zi(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,d){return w===null||w.tag!==6?(w=Od(_,x.mode,d),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,d){var y=_.type;return y===ma?h(x,w,_.props.children,d,_.key):w!==null&&(w.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Ii&&rv(y)===w.type)?(d=i(w,_.props),d.ref=As(x,w,_),d.return=x,d):(d=Zu(_.type,_.key,_.props,null,x.mode,d),d.ref=As(x,w,_),d.return=x,d)}function c(x,w,_,d){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Pd(_,x.mode,d),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function h(x,w,_,d,y){return w===null||w.tag!==7?(w=Lo(_,x.mode,d,y),w.return=x,w):(w=i(w,_),w.return=x,w)}function g(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Od(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pu:return _=Zu(w.type,w.key,w.props,null,x.mode,_),_.ref=As(x,null,w),_.return=x,_;case ga:return w=Pd(w,x.mode,_),w.return=x,w;case Ii:var d=w._init;return g(x,d(w._payload),_)}if($s(w)||Ss(w))return w=Lo(w,x.mode,_,null),w.return=x,w;ku(x,w)}return null}function S(x,w,_,d){var y=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return y!==null?null:s(x,w,""+_,d);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pu:return _.key===y?l(x,w,_,d):null;case ga:return _.key===y?c(x,w,_,d):null;case Ii:return y=_._init,S(x,w,y(_._payload),d)}if($s(_)||Ss(_))return y!==null?null:h(x,w,_,d,null);ku(x,_)}return null}function E(x,w,_,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return x=x.get(_)||null,s(w,x,""+d,y);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case pu:return x=x.get(d.key===null?_:d.key)||null,l(w,x,d,y);case ga:return x=x.get(d.key===null?_:d.key)||null,c(w,x,d,y);case Ii:var m=d._init;return E(x,w,_,m(d._payload),y)}if($s(d)||Ss(d))return x=x.get(_)||null,h(w,x,d,y,null);ku(w,d)}return null}function k(x,w,_,d){for(var y=null,m=null,b=w,N=w=0,D=null;b!==null&&N<_.length;N++){b.index>N?(D=b,b=null):D=b.sibling;var G=S(x,b,_[N],d);if(G===null){b===null&&(b=D);break}e&&b&&G.alternate===null&&t(x,b),w=o(G,w,N),m===null?y=G:m.sibling=G,m=G,b=D}if(N===_.length)return n(x,b),Bt&&Eo(x,N),y;if(b===null){for(;N<_.length;N++)b=g(x,_[N],d),b!==null&&(w=o(b,w,N),m===null?y=b:m.sibling=b,m=b);return Bt&&Eo(x,N),y}for(b=r(x,b);N<_.length;N++)D=E(b,x,N,_[N],d),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?N:D.key),w=o(D,w,N),m===null?y=D:m.sibling=D,m=D);return e&&b.forEach(function(se){return t(x,se)}),Bt&&Eo(x,N),y}function C(x,w,_,d){var y=Ss(_);if(typeof y!="function")throw Error(_e(150));if(_=y.call(_),_==null)throw Error(_e(151));for(var m=y=null,b=w,N=w=0,D=null,G=_.next();b!==null&&!G.done;N++,G=_.next()){b.index>N?(D=b,b=null):D=b.sibling;var se=S(x,b,G.value,d);if(se===null){b===null&&(b=D);break}e&&b&&se.alternate===null&&t(x,b),w=o(se,w,N),m===null?y=se:m.sibling=se,m=se,b=D}if(G.done)return n(x,b),Bt&&Eo(x,N),y;if(b===null){for(;!G.done;N++,G=_.next())G=g(x,G.value,d),G!==null&&(w=o(G,w,N),m===null?y=G:m.sibling=G,m=G);return Bt&&Eo(x,N),y}for(b=r(x,b);!G.done;N++,G=_.next())G=E(b,x,N,G.value,d),G!==null&&(e&&G.alternate!==null&&b.delete(G.key===null?N:G.key),w=o(G,w,N),m===null?y=G:m.sibling=G,m=G);return e&&b.forEach(function(J){return t(x,J)}),Bt&&Eo(x,N),y}function R(x,w,_,d){if(typeof _=="object"&&_!==null&&_.type===ma&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case pu:e:{for(var y=_.key,m=w;m!==null;){if(m.key===y){if(y=_.type,y===ma){if(m.tag===7){n(x,m.sibling),w=i(m,_.props.children),w.return=x,x=w;break e}}else if(m.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Ii&&rv(y)===m.type){n(x,m.sibling),w=i(m,_.props),w.ref=As(x,m,_),w.return=x,x=w;break e}n(x,m);break}else t(x,m);m=m.sibling}_.type===ma?(w=Lo(_.props.children,x.mode,d,_.key),w.return=x,x=w):(d=Zu(_.type,_.key,_.props,null,x.mode,d),d.ref=As(x,w,_),d.return=x,x=d)}return a(x);case ga:e:{for(m=_.key;w!==null;){if(w.key===m)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Pd(_,x.mode,d),w.return=x,x=w}return a(x);case Ii:return m=_._init,R(x,w,m(_._payload),d)}if($s(_))return k(x,w,_,d);if(Ss(_))return C(x,w,_,d);ku(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=Od(_,x.mode,d),w.return=x,x=w),a(x)):n(x,w)}return R}var Ga=Nw(!0),Tw=Nw(!1),Vl={},ri=lo(Vl),kl=lo(Vl),Cl=lo(Vl);function To(e){if(e===Vl)throw Error(_e(174));return e}function vg(e,t){switch(Ot(Cl,t),Ot(kl,e),Ot(ri,Vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vh(t,e)}Dt(ri),Ot(ri,t)}function Ya(){Dt(ri),Dt(kl),Dt(Cl)}function Ow(e){To(Cl.current);var t=To(ri.current),n=vh(t,e.type);t!==n&&(Ot(kl,e),Ot(ri,n))}function yg(e){kl.current===e&&(Dt(ri),Dt(kl))}var qt=lo(0);function Sc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function wg(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var Ku=Ei.ReactCurrentDispatcher,Cd=Ei.ReactCurrentBatchConfig,$o=0,Wt=null,cn=null,wn=null,Ec=!1,ol=!1,Al=0,BC=0;function Nn(){throw Error(_e(321))}function _g(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vr(e[n],t[n]))return!1;return!0}function xg(e,t,n,r,i,o){if($o=o,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?UC:HC,e=n(r,i),ol){o=0;do{if(ol=!1,Al=0,25<=o)throw Error(_e(301));o+=1,wn=cn=null,t.updateQueue=null,Ku.current=qC,e=n(r,i)}while(ol)}if(Ku.current=bc,t=cn!==null&&cn.next!==null,$o=0,wn=cn=Wt=null,Ec=!1,t)throw Error(_e(300));return e}function Sg(){var e=Al!==0;return Al=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Wt.memoizedState=wn=e:wn=wn.next=e,wn}function Ar(){if(cn===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=cn.next;var t=wn===null?Wt.memoizedState:wn.next;if(t!==null)wn=t,cn=e;else{if(e===null)throw Error(_e(310));cn=e,e={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},wn===null?Wt.memoizedState=wn=e:wn=wn.next=e}return wn}function Rl(e,t){return typeof t=="function"?t(e):t}function Ad(e){var t=Ar(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=cn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var h=c.lane;if(($o&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var g={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=g,a=r):l=l.next=g,Wt.lanes|=h,Wo|=h}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Vr(r,t.memoizedState)||(Vn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Wt.lanes|=o,Wo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rd(e){var t=Ar(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Vr(o,t.memoizedState)||(Vn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Pw(){}function Dw(e,t){var n=Wt,r=Ar(),i=t(),o=!Vr(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,Eg(Lw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,Nl(9,Mw.bind(null,n,r,i,t),void 0,null),_n===null)throw Error(_e(349));$o&30||Iw(n,t,i)}return i}function Iw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mw(e,t,n,r){t.value=n,t.getSnapshot=r,Bw(t)&&jw(e)}function Lw(e,t,n){return n(function(){Bw(t)&&jw(e)})}function Bw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vr(e,n)}catch{return!0}}function jw(e){var t=wi(e,1);t!==null&&qr(t,e,1,-1)}function iv(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=FC.bind(null,Wt,e),[t.memoizedState,e]}function Nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zw(){return Ar().memoizedState}function Gu(e,t,n,r){var i=ei();Wt.flags|=e,i.memoizedState=Nl(1|t,n,void 0,r===void 0?null:r)}function of(e,t,n,r){var i=Ar();r=r===void 0?null:r;var o=void 0;if(cn!==null){var a=cn.memoizedState;if(o=a.destroy,r!==null&&_g(r,a.deps)){i.memoizedState=Nl(t,n,o,r);return}}Wt.flags|=e,i.memoizedState=Nl(1|t,n,o,r)}function ov(e,t){return Gu(8390656,8,e,t)}function Eg(e,t){return of(2048,8,e,t)}function Fw(e,t){return of(4,2,e,t)}function Uw(e,t){return of(4,4,e,t)}function Hw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qw(e,t,n){return n=n!=null?n.concat([e]):null,of(4,4,Hw.bind(null,t,e),n)}function bg(){}function $w(e,t){var n=Ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_g(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ww(e,t){var n=Ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_g(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vw(e,t,n){return $o&21?(Vr(n,t)||(n=Y1(),Wt.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=n)}function jC(e,t){var n=bt;bt=n!==0&&4>n?n:4,e(!0);var r=Cd.transition;Cd.transition={};try{e(!1),t()}finally{bt=n,Cd.transition=r}}function Kw(){return Ar().memoizedState}function zC(e,t,n){var r=Qi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gw(e))Yw(t,n);else if(n=kw(e,t,n,r),n!==null){var i=jn();qr(n,e,r,i),Jw(n,t,r)}}function FC(e,t,n){var r=Qi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gw(e))Yw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Vr(s,a)){var l=t.interleaved;l===null?(i.next=i,gg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kw(e,t,i,r),n!==null&&(i=jn(),qr(n,e,r,i),Jw(n,t,r))}}function Gw(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function Yw(e,t){ol=Ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tg(e,n)}}var bc={readContext:Cr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},UC={readContext:Cr,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:ov,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gu(4194308,4,Hw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var n=ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zC.bind(null,Wt,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:iv,useDebugValue:bg,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=iv(!1),t=e[0];return e=jC.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Wt,i=ei();if(Bt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),_n===null)throw Error(_e(349));$o&30||Iw(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ov(Lw.bind(null,r,o,e),[e]),r.flags|=2048,Nl(9,Mw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ei(),t=_n.identifierPrefix;if(Bt){var n=di,r=fi;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HC={readContext:Cr,useCallback:$w,useContext:Cr,useEffect:Eg,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:Ww,useReducer:Ad,useRef:zw,useState:function(){return Ad(Rl)},useDebugValue:bg,useDeferredValue:function(e){var t=Ar();return Vw(t,cn.memoizedState,e)},useTransition:function(){var e=Ad(Rl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:Kw,unstable_isNewReconciler:!1},qC={readContext:Cr,useCallback:$w,useContext:Cr,useEffect:Eg,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:Ww,useReducer:Rd,useRef:zw,useState:function(){return Rd(Rl)},useDebugValue:bg,useDeferredValue:function(e){var t=Ar();return cn===null?t.memoizedState=e:Vw(t,cn.memoizedState,e)},useTransition:function(){var e=Rd(Rl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:Kw,unstable_isNewReconciler:!1};function Ja(e,t){try{var n="",r=t;do n+=vk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Nd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $C=typeof WeakMap=="function"?WeakMap:Map;function Qw(e,t,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cc||(Cc=!0,Jh=r),Fh(e,t)},n}function Zw(e,t,n){n=pi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fh(e,t),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function av(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $C;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=i3.bind(null,e,t,n),t.then(e,e))}function sv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pi(-1,1),t.tag=2,Yi(n,t,1))),n.lanes|=1),e)}var WC=Ei.ReactCurrentOwner,Vn=!1;function Bn(e,t,n,r){t.child=e===null?Tw(t,null,n,r):Ga(t,e.child,n,r)}function uv(e,t,n,r,i){n=n.render;var o=t.ref;return Ma(t,i),r=xg(e,t,n,r,o,i),n=Sg(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_i(e,t,i)):(Bt&&n&&ug(t),t.flags|=1,Bn(e,t,r,i),t.child)}function cv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Pg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xw(e,t,o,r,i)):(e=Zu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(a,r)&&e.ref===t.ref)return _i(e,t,i)}return t.flags|=1,e=Zi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(xl(o,r)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,_i(e,t,i)}return Uh(e,t,n,r,i)}function e_(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ca,er),er|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(Ca,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ot(Ca,er),er|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ot(Ca,er),er|=r;return Bn(e,t,i,n),t.child}function t_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uh(e,t,n,r,i){var o=Yn(n)?Ho:Pn.current;return o=Va(t,o),Ma(t,i),n=xg(e,t,n,r,o,i),r=Sg(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_i(e,t,i)):(Bt&&r&&ug(t),t.flags|=1,Bn(e,t,n,i),t.child)}function fv(e,t,n,r,i){if(Yn(n)){var o=!0;mc(t)}else o=!1;if(Ma(t,i),t.stateNode===null)Yu(e,t),Rw(t,n,r),zh(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cr(c):(c=Yn(n)?Ho:Pn.current,c=Va(t,c));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&nv(t,a,r,c),Mi=!1;var S=t.memoizedState;a.state=S,xc(t,r,a,i),l=t.memoizedState,s!==r||S!==l||Gn.current||Mi?(typeof h=="function"&&(jh(t,n,h,r),l=t.memoizedState),(s=Mi||tv(t,n,s,r,S,l,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Cw(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Lr(t.type,s),a.props=c,g=t.pendingProps,S=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cr(l):(l=Yn(n)?Ho:Pn.current,l=Va(t,l));var E=n.getDerivedStateFromProps;(h=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==g||S!==l)&&nv(t,a,r,l),Mi=!1,S=t.memoizedState,a.state=S,xc(t,r,a,i);var k=t.memoizedState;s!==g||S!==k||Gn.current||Mi?(typeof E=="function"&&(jh(t,n,E,r),k=t.memoizedState),(c=Mi||tv(t,n,c,r,S,k,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return Hh(e,t,n,r,o,i)}function Hh(e,t,n,r,i,o){t_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Jm(t,n,!1),_i(e,t,o);r=t.stateNode,WC.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ga(t,e.child,null,o),t.child=Ga(t,null,s,o)):Bn(e,t,s,o),t.memoizedState=r.state,i&&Jm(t,n,!0),t.child}function n_(e){var t=e.stateNode;t.pendingContext?Ym(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ym(e,t.context,!1),vg(e,t.containerInfo)}function dv(e,t,n,r,i){return Ka(),fg(i),t.flags|=256,Bn(e,t,n,r),t.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function $h(e){return{baseLanes:e,cachePool:null,transitions:null}}function r_(e,t,n){var r=t.pendingProps,i=qt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ot(qt,i&1),e===null)return Lh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=lf(a,r,0,null),e=Lo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$h(n),t.memoizedState=qh,e):kg(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return VC(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Zi(s,o):(o=Lo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?$h(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=qh,r}return o=e.child,e=o.sibling,r=Zi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kg(e,t){return t=lf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cu(e,t,n,r){return r!==null&&fg(r),Ga(t,e.child,null,n),e=kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VC(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Nd(Error(_e(422))),Cu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=lf({mode:"visible",children:r.children},i,0,null),o=Lo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ga(t,e.child,null,a),t.child.memoizedState=$h(a),t.memoizedState=qh,o);if(!(t.mode&1))return Cu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(_e(419)),r=Nd(o,r,void 0),Cu(e,t,a,r)}if(s=(a&e.childLanes)!==0,Vn||s){if(r=_n,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wi(e,i),qr(r,e,i,-1))}return Og(),r=Nd(Error(_e(421))),Cu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=o3.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,tr=Gi(i.nextSibling),rr=t,Bt=!0,Fr=null,e!==null&&(wr[_r++]=fi,wr[_r++]=di,wr[_r++]=qo,fi=e.id,di=e.overflow,qo=t),t=kg(t,r.children),t.flags|=4096,t)}function hv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bh(e.return,t,n)}function Td(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function i_(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Bn(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hv(e,n,t);else if(e.tag===19)hv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ot(qt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Td(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Td(t,!0,n,null,o);break;case"together":Td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=Zi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KC(e,t,n){switch(t.tag){case 3:n_(t),Ka();break;case 5:Ow(t);break;case 1:Yn(t.type)&&mc(t);break;case 4:vg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ot(wc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ot(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?r_(e,t,n):(Ot(qt,qt.current&1),e=_i(e,t,n),e!==null?e.sibling:null);Ot(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return i_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,e_(e,t,n)}return _i(e,t,n)}var o_,Wh,a_,s_;o_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wh=function(){};a_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,To(ri.current);var o=null;switch(n){case"input":i=hh(e,i),r=hh(e,r),o=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),o=[];break;case"textarea":i=mh(e,i),r=mh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pc)}yh(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};s_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rs(e,t){if(!Bt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GC(e,t,n){var r=t.pendingProps;switch(cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return Yn(t.type)&&gc(),Tn(t),null;case 3:return r=t.stateNode,Ya(),Dt(Gn),Dt(Pn),wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(Xh(Fr),Fr=null))),Wh(e,t),Tn(t),null;case 5:yg(t);var i=To(Cl.current);if(n=t.type,e!==null&&t.stateNode!=null)a_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return Tn(t),null}if(e=To(ri.current),bu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ti]=t,r[bl]=o,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)Pt(Vs[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Sm(r,o),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pt("invalid",r);break;case"textarea":bm(r,o),Pt("invalid",r)}yh(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,s,e),i=["children",""+s]):pl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Pt("scroll",r)}switch(n){case"input":gu(r),Em(r,o,!0);break;case"textarea":gu(r),km(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ti]=t,e[bl]=r,o_(e,t,!1,!1),t.stateNode=e;e:{switch(a=wh(n,r),n){case"dialog":Pt("cancel",e),Pt("close",e),i=r;break;case"iframe":case"object":case"embed":Pt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)Pt(Vs[i],e);i=r;break;case"source":Pt("error",e),i=r;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=r;break;case"details":Pt("toggle",e),i=r;break;case"input":Sm(e,r),i=hh(e,r),Pt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Pt("invalid",e);break;case"textarea":bm(e,r),i=mh(e,r),Pt("invalid",e);break;default:i=r}yh(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?B1(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M1(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gl(e,l):typeof l=="number"&&gl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Pt("scroll",e):l!=null&&Yp(e,o,l,a))}switch(n){case"input":gu(e),Em(e,r,!1);break;case"textarea":gu(e),km(e);break;case"option":r.value!=null&&e.setAttribute("value",""+to(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Oa(e,!!r.multiple,o,!1):r.defaultValue!=null&&Oa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)s_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=To(Cl.current),To(ri.current),bu(t)){if(r=t.stateNode,n=t.memoizedProps,r[ti]=t,(o=r.nodeValue!==n)&&(e=rr,e!==null))switch(e.tag){case 3:Eu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ti]=t,t.stateNode=r}return Tn(t),null;case 13:if(Dt(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bt&&tr!==null&&t.mode&1&&!(t.flags&128))bw(),Ka(),t.flags|=98560,o=!1;else if(o=bu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(_e(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[ti]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),o=!1}else Fr!==null&&(Xh(Fr),Fr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?dn===0&&(dn=3):Og())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Ya(),Wh(e,t),e===null&&Sl(t.stateNode.containerInfo),Tn(t),null;case 10:return pg(t.type._context),Tn(t),null;case 17:return Yn(t.type)&&gc(),Tn(t),null;case 19:if(Dt(qt),o=t.memoizedState,o===null)return Tn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Rs(o,!1);else{if(dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Sc(e),a!==null){for(t.flags|=128,Rs(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ot(qt,qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xt()>Qa&&(t.flags|=128,r=!0,Rs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Sc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Bt)return Tn(t),null}else 2*Xt()-o.renderingStartTime>Qa&&n!==1073741824&&(t.flags|=128,r=!0,Rs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,n=qt.current,Ot(qt,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return Tg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?er&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function YC(e,t){switch(cg(t),t.tag){case 1:return Yn(t.type)&&gc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(),Dt(Gn),Dt(Pn),wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yg(t),null;case 13:if(Dt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(qt),null;case 4:return Ya(),null;case 10:return pg(t.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var Au=!1,On=!1,JC=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ka(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(e,t,r)}else n.current=null}function Vh(e,t,n){try{n()}catch(r){Yt(e,t,r)}}var pv=!1;function QC(e,t){if(Nh=fc,e=fw(),lg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,h=0,g=e,S=null;t:for(;;){for(var E;g!==n||i!==0&&g.nodeType!==3||(s=a+i),g!==o||r!==0&&g.nodeType!==3||(l=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(E=g.firstChild)!==null;)S=g,g=E;for(;;){if(g===e)break t;if(S===n&&++c===i&&(s=a),S===o&&++h===r&&(l=a),(E=g.nextSibling)!==null)break;g=S,S=g.parentNode}g=E}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Th={focusedElem:e,selectionRange:n},fc=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,R=k.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?C:Lr(t.type,C),R);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(d){Yt(t,t.return,d)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return k=pv,pv=!1,k}function al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vh(t,n,o)}i=i.next}while(i!==r)}}function af(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l_(e){var t=e.alternate;t!==null&&(e.alternate=null,l_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ti],delete t[bl],delete t[Dh],delete t[DC],delete t[IC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u_(e){return e.tag===5||e.tag===3||e.tag===4}function gv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pc));else if(r!==4&&(e=e.child,e!==null))for(Gh(e,t,n),e=e.sibling;e!==null;)Gh(e,t,n),e=e.sibling}function Yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}var En=null,Br=!1;function Ti(e,t,n){for(n=n.child;n!==null;)c_(e,t,n),n=n.sibling}function c_(e,t,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:On||ka(n,t);case 6:var r=En,i=Br;En=null,Ti(e,t,n),En=r,Br=i,En!==null&&(Br?(e=En,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Br?(e=En,n=n.stateNode,e.nodeType===8?Ed(e.parentNode,n):e.nodeType===1&&Ed(e,n),wl(e)):Ed(En,n.stateNode));break;case 4:r=En,i=Br,En=n.stateNode.containerInfo,Br=!0,Ti(e,t,n),En=r,Br=i;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Vh(n,t,a),i=i.next}while(i!==r)}Ti(e,t,n);break;case 1:if(!On&&(ka(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Yt(n,t,s)}Ti(e,t,n);break;case 21:Ti(e,t,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,Ti(e,t,n),On=r):Ti(e,t,n);break;default:Ti(e,t,n)}}function mv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JC),t.forEach(function(r){var i=a3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:En=s.stateNode,Br=!1;break e;case 3:En=s.stateNode.containerInfo,Br=!0;break e;case 4:En=s.stateNode.containerInfo,Br=!0;break e}s=s.return}if(En===null)throw Error(_e(160));c_(o,a,i),En=null,Br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f_(t,e),t=t.sibling}function f_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Xr(e),r&4){try{al(3,e,e.return),af(3,e)}catch(C){Yt(e,e.return,C)}try{al(5,e,e.return)}catch(C){Yt(e,e.return,C)}}break;case 1:Ir(t,e),Xr(e),r&512&&n!==null&&ka(n,n.return);break;case 5:if(Ir(t,e),Xr(e),r&512&&n!==null&&ka(n,n.return),e.flags&32){var i=e.stateNode;try{gl(i,"")}catch(C){Yt(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&P1(i,o),wh(s,a);var c=wh(s,o);for(a=0;a<l.length;a+=2){var h=l[a],g=l[a+1];h==="style"?B1(i,g):h==="dangerouslySetInnerHTML"?M1(i,g):h==="children"?gl(i,g):Yp(i,h,g,c)}switch(s){case"input":ph(i,o);break;case"textarea":D1(i,o);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Oa(i,!!o.multiple,E,!1):S!==!!o.multiple&&(o.defaultValue!=null?Oa(i,!!o.multiple,o.defaultValue,!0):Oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[bl]=o}catch(C){Yt(e,e.return,C)}}break;case 6:if(Ir(t,e),Xr(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){Yt(e,e.return,C)}}break;case 3:if(Ir(t,e),Xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(C){Yt(e,e.return,C)}break;case 4:Ir(t,e),Xr(e);break;case 13:Ir(t,e),Xr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rg=Xt())),r&4&&mv(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(On=(c=On)||h,Ir(t,e),On=c):Ir(t,e),Xr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Oe=e,h=e.child;h!==null;){for(g=Oe=h;Oe!==null;){switch(S=Oe,E=S.child,S.tag){case 0:case 11:case 14:case 15:al(4,S,S.return);break;case 1:ka(S,S.return);var k=S.stateNode;if(typeof k.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(C){Yt(r,n,C)}}break;case 5:ka(S,S.return);break;case 22:if(S.memoizedState!==null){yv(g);continue}}E!==null?(E.return=S,Oe=E):yv(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=L1("display",a))}catch(C){Yt(e,e.return,C)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(C){Yt(e,e.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ir(t,e),Xr(e),r&4&&mv(e);break;case 21:break;default:Ir(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(u_(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gl(i,""),r.flags&=-33);var o=gv(e);Yh(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=gv(e);Gh(e,s,a);break;default:throw Error(_e(161))}}catch(l){Yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZC(e,t,n){Oe=e,d_(e)}function d_(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var i=Oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Au;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||On;s=Au;var c=On;if(Au=a,(On=l)&&!c)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?wv(i):l!==null?(l.return=a,Oe=l):wv(i);for(;o!==null;)Oe=o,d_(o),o=o.sibling;Oe=i,Au=s,On=c}vv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Oe=o):vv(e)}}function vv(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||af(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!On)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ev(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ev(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&wl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}On||t.flags&512&&Kh(t)}catch(S){Yt(t,t.return,S)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function yv(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function wv(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{af(4,t)}catch(l){Yt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Yt(t,i,l)}}var o=t.return;try{Kh(t)}catch(l){Yt(t,o,l)}break;case 5:var a=t.return;try{Kh(t)}catch(l){Yt(t,a,l)}}}catch(l){Yt(t,t.return,l)}if(t===e){Oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Oe=s;break}Oe=t.return}}var XC=Math.ceil,kc=Ei.ReactCurrentDispatcher,Cg=Ei.ReactCurrentOwner,kr=Ei.ReactCurrentBatchConfig,ht=0,_n=null,sn=null,kn=0,er=0,Ca=lo(0),dn=0,Tl=null,Wo=0,sf=0,Ag=0,sl=null,Wn=null,Rg=0,Qa=1/0,ui=null,Cc=!1,Jh=null,Ji=null,Ru=!1,qi=null,Ac=0,ll=0,Qh=null,Ju=-1,Qu=0;function jn(){return ht&6?Xt():Ju!==-1?Ju:Ju=Xt()}function Qi(e){return e.mode&1?ht&2&&kn!==0?kn&-kn:LC.transition!==null?(Qu===0&&(Qu=Y1()),Qu):(e=bt,e!==0||(e=window.event,e=e===void 0?16:nw(e.type)),e):1}function qr(e,t,n,r){if(50<ll)throw ll=0,Qh=null,Error(_e(185));ql(e,n,r),(!(ht&2)||e!==_n)&&(e===_n&&(!(ht&2)&&(sf|=n),dn===4&&Fi(e,kn)),Jn(e,r),n===1&&ht===0&&!(t.mode&1)&&(Qa=Xt()+500,nf&&uo()))}function Jn(e,t){var n=e.callbackNode;Lk(e,t);var r=cc(e,e===_n?kn:0);if(r===0)n!==null&&Rm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rm(n),t===1)e.tag===0?MC(_v.bind(null,e)):xw(_v.bind(null,e)),OC(function(){!(ht&6)&&uo()}),n=null;else{switch(J1(r)){case 1:n=eg;break;case 4:n=K1;break;case 16:n=uc;break;case 536870912:n=G1;break;default:n=uc}n=__(n,h_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function h_(e,t){if(Ju=-1,Qu=0,ht&6)throw Error(_e(327));var n=e.callbackNode;if(La()&&e.callbackNode!==n)return null;var r=cc(e,e===_n?kn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rc(e,r);else{t=r;var i=ht;ht|=2;var o=g_();(_n!==e||kn!==t)&&(ui=null,Qa=Xt()+500,Mo(e,t));do try{n3();break}catch(s){p_(e,s)}while(1);hg(),kc.current=o,ht=i,sn!==null?t=0:(_n=null,kn=0,t=dn)}if(t!==0){if(t===2&&(i=bh(e),i!==0&&(r=i,t=Zh(e,i))),t===1)throw n=Tl,Mo(e,0),Fi(e,r),Jn(e,Xt()),n;if(t===6)Fi(e,r);else{if(i=e.current.alternate,!(r&30)&&!e3(i)&&(t=Rc(e,r),t===2&&(o=bh(e),o!==0&&(r=o,t=Zh(e,o))),t===1))throw n=Tl,Mo(e,0),Fi(e,r),Jn(e,Xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:bo(e,Wn,ui);break;case 3:if(Fi(e,r),(r&130023424)===r&&(t=Rg+500-Xt(),10<t)){if(cc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ph(bo.bind(null,e,Wn,ui),t);break}bo(e,Wn,ui);break;case 4:if(Fi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Hr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XC(r/1960))-r,10<r){e.timeoutHandle=Ph(bo.bind(null,e,Wn,ui),r);break}bo(e,Wn,ui);break;case 5:bo(e,Wn,ui);break;default:throw Error(_e(329))}}}return Jn(e,Xt()),e.callbackNode===n?h_.bind(null,e):null}function Zh(e,t){var n=sl;return e.current.memoizedState.isDehydrated&&(Mo(e,t).flags|=256),e=Rc(e,t),e!==2&&(t=Wn,Wn=n,t!==null&&Xh(t)),e}function Xh(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function e3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t){for(t&=~Ag,t&=~sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hr(t),r=1<<n;e[n]=-1,t&=~r}}function _v(e){if(ht&6)throw Error(_e(327));La();var t=cc(e,0);if(!(t&1))return Jn(e,Xt()),null;var n=Rc(e,t);if(e.tag!==0&&n===2){var r=bh(e);r!==0&&(t=r,n=Zh(e,r))}if(n===1)throw n=Tl,Mo(e,0),Fi(e,t),Jn(e,Xt()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bo(e,Wn,ui),Jn(e,Xt()),null}function Ng(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(Qa=Xt()+500,nf&&uo())}}function Vo(e){qi!==null&&qi.tag===0&&!(ht&6)&&La();var t=ht;ht|=1;var n=kr.transition,r=bt;try{if(kr.transition=null,bt=1,e)return e()}finally{bt=r,kr.transition=n,ht=t,!(ht&6)&&uo()}}function Tg(){er=Ca.current,Dt(Ca)}function Mo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TC(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gc();break;case 3:Ya(),Dt(Gn),Dt(Pn),wg();break;case 5:yg(r);break;case 4:Ya();break;case 13:Dt(qt);break;case 19:Dt(qt);break;case 10:pg(r.type._context);break;case 22:case 23:Tg()}n=n.return}if(_n=e,sn=e=Zi(e.current,null),kn=er=t,dn=0,Tl=null,Ag=sf=Wo=0,Wn=sl=null,No!==null){for(t=0;t<No.length;t++)if(n=No[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}No=null}return e}function p_(e,t){do{var n=sn;try{if(hg(),Ku.current=bc,Ec){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ec=!1}if($o=0,wn=cn=Wt=null,ol=!1,Al=0,Cg.current=null,n===null||n.return===null){dn=1,Tl=t,sn=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=kn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=s,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var S=h.alternate;S?(h.updateQueue=S.updateQueue,h.memoizedState=S.memoizedState,h.lanes=S.lanes):(h.updateQueue=null,h.memoizedState=null)}var E=sv(a);if(E!==null){E.flags&=-257,lv(E,a,s,o,t),E.mode&1&&av(o,c,t),t=E,l=c;var k=t.updateQueue;if(k===null){var C=new Set;C.add(l),t.updateQueue=C}else k.add(l);break e}else{if(!(t&1)){av(o,c,t),Og();break e}l=Error(_e(426))}}else if(Bt&&s.mode&1){var R=sv(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),lv(R,a,s,o,t),fg(Ja(l,s));break e}}o=l=Ja(l,s),dn!==4&&(dn=2),sl===null?sl=[o]:sl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Qw(o,l,t);Xm(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ji===null||!Ji.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var d=Zw(o,s,t);Xm(o,d);break e}}o=o.return}while(o!==null)}v_(n)}catch(y){t=y,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(1)}function g_(){var e=kc.current;return kc.current=bc,e===null?bc:e}function Og(){(dn===0||dn===3||dn===2)&&(dn=4),_n===null||!(Wo&268435455)&&!(sf&268435455)||Fi(_n,kn)}function Rc(e,t){var n=ht;ht|=2;var r=g_();(_n!==e||kn!==t)&&(ui=null,Mo(e,t));do try{t3();break}catch(i){p_(e,i)}while(1);if(hg(),ht=n,kc.current=r,sn!==null)throw Error(_e(261));return _n=null,kn=0,dn}function t3(){for(;sn!==null;)m_(sn)}function n3(){for(;sn!==null&&!Ak();)m_(sn)}function m_(e){var t=w_(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?v_(e):sn=t,Cg.current=null}function v_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YC(n,t),n!==null){n.flags&=32767,sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dn=6,sn=null;return}}else if(n=GC(n,t,er),n!==null){sn=n;return}if(t=t.sibling,t!==null){sn=t;return}sn=t=e}while(t!==null);dn===0&&(dn=5)}function bo(e,t,n){var r=bt,i=kr.transition;try{kr.transition=null,bt=1,r3(e,t,n,r)}finally{kr.transition=i,bt=r}return null}function r3(e,t,n,r){do La();while(qi!==null);if(ht&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bk(e,o),e===_n&&(sn=_n=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,__(uc,function(){return La(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kr.transition,kr.transition=null;var a=bt;bt=1;var s=ht;ht|=4,Cg.current=null,QC(e,n),f_(n,e),EC(Th),fc=!!Nh,Th=Nh=null,e.current=n,ZC(n),Rk(),ht=s,bt=a,kr.transition=o}else e.current=n;if(Ru&&(Ru=!1,qi=e,Ac=i),o=e.pendingLanes,o===0&&(Ji=null),Ok(n.stateNode),Jn(e,Xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cc)throw Cc=!1,e=Jh,Jh=null,e;return Ac&1&&e.tag!==0&&La(),o=e.pendingLanes,o&1?e===Qh?ll++:(ll=0,Qh=e):ll=0,uo(),null}function La(){if(qi!==null){var e=J1(Ac),t=kr.transition,n=bt;try{if(kr.transition=null,bt=16>e?16:e,qi===null)var r=!1;else{if(e=qi,qi=null,Ac=0,ht&6)throw Error(_e(331));var i=ht;for(ht|=4,Oe=e.current;Oe!==null;){var o=Oe,a=o.child;if(Oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Oe=c;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:al(8,h,o)}var g=h.child;if(g!==null)g.return=h,Oe=g;else for(;Oe!==null;){h=Oe;var S=h.sibling,E=h.return;if(l_(h),h===c){Oe=null;break}if(S!==null){S.return=E,Oe=S;break}Oe=E}}}var k=o.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}Oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Oe=a;else e:for(;Oe!==null;){if(o=Oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:al(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Oe=x;break e}Oe=o.return}}var w=e.current;for(Oe=w;Oe!==null;){a=Oe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Oe=_;else e:for(a=w;Oe!==null;){if(s=Oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:af(9,s)}}catch(y){Yt(s,s.return,y)}if(s===a){Oe=null;break e}var d=s.sibling;if(d!==null){d.return=s.return,Oe=d;break e}Oe=s.return}}if(ht=i,uo(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Qc,e)}catch{}r=!0}return r}finally{bt=n,kr.transition=t}}return!1}function xv(e,t,n){t=Ja(n,t),t=Qw(e,t,1),e=Yi(e,t,1),t=jn(),e!==null&&(ql(e,1,t),Jn(e,t))}function Yt(e,t,n){if(e.tag===3)xv(e,e,n);else for(;t!==null;){if(t.tag===3){xv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){e=Ja(n,e),e=Zw(t,e,1),t=Yi(t,e,1),e=jn(),t!==null&&(ql(t,1,e),Jn(t,e));break}}t=t.return}}function i3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&n,_n===e&&(kn&n)===n&&(dn===4||dn===3&&(kn&130023424)===kn&&500>Xt()-Rg?Mo(e,0):Ag|=n),Jn(e,t)}function y_(e,t){t===0&&(e.mode&1?(t=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):t=1);var n=jn();e=wi(e,t),e!==null&&(ql(e,t,n),Jn(e,n))}function o3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),y_(e,n)}function a3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),y_(e,n)}var w_;w_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Vn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vn=!1,KC(e,t,n);Vn=!!(e.flags&131072)}else Vn=!1,Bt&&t.flags&1048576&&Sw(t,yc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yu(e,t),e=t.pendingProps;var i=Va(t,Pn.current);Ma(t,n),i=xg(null,t,r,e,i,n);var o=Sg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(r)?(o=!0,mc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mg(t),i.updater=rf,t.stateNode=i,i._reactInternals=t,zh(t,r,e,n),t=Hh(null,t,r,!0,o,n)):(t.tag=0,Bt&&o&&ug(t),Bn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=l3(r),e=Lr(r,e),i){case 0:t=Uh(null,t,r,e,n);break e;case 1:t=fv(null,t,r,e,n);break e;case 11:t=uv(null,t,r,e,n);break e;case 14:t=cv(null,t,r,Lr(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),Uh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),fv(e,t,r,i,n);case 3:e:{if(n_(t),e===null)throw Error(_e(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Cw(e,t),xc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ja(Error(_e(423)),t),t=dv(e,t,r,n,i);break e}else if(r!==i){i=Ja(Error(_e(424)),t),t=dv(e,t,r,n,i);break e}else for(tr=Gi(t.stateNode.containerInfo.firstChild),rr=t,Bt=!0,Fr=null,n=Tw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){t=_i(e,t,n);break e}Bn(e,t,r,n)}t=t.child}return t;case 5:return Ow(t),e===null&&Lh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Oh(r,i)?a=null:o!==null&&Oh(r,o)&&(t.flags|=32),t_(e,t),Bn(e,t,a,n),t.child;case 6:return e===null&&Lh(t),null;case 13:return r_(e,t,n);case 4:return vg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ga(t,null,r,n):Bn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),uv(e,t,r,i,n);case 7:return Bn(e,t,t.pendingProps,n),t.child;case 8:return Bn(e,t,t.pendingProps.children,n),t.child;case 12:return Bn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ot(wc,r._currentValue),r._currentValue=a,o!==null)if(Vr(o.value,a)){if(o.children===i.children&&!Gn.current){t=_i(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bh(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(_e(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Bh(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Bn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),i=Cr(i),r=r(i),t.flags|=1,Bn(e,t,r,n),t.child;case 14:return r=t.type,i=Lr(r,t.pendingProps),i=Lr(r.type,i),cv(e,t,r,i,n);case 15:return Xw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),Yu(e,t),t.tag=1,Yn(r)?(e=!0,mc(t)):e=!1,Ma(t,n),Rw(t,r,i),zh(t,r,i,n),Hh(null,t,r,!0,e,n);case 19:return i_(e,t,n);case 22:return e_(e,t,n)}throw Error(_e(156,t.tag))};function __(e,t){return V1(e,t)}function s3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,n,r){return new s3(e,t,n,r)}function Pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l3(e){if(typeof e=="function")return Pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qp)return 11;if(e===Zp)return 14}return 2}function Zi(e,t){var n=e.alternate;return n===null?(n=Er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zu(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Pg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ma:return Lo(n.children,i,o,t);case Jp:a=8,i|=8;break;case uh:return e=Er(12,n,t,i|2),e.elementType=uh,e.lanes=o,e;case ch:return e=Er(13,n,t,i),e.elementType=ch,e.lanes=o,e;case fh:return e=Er(19,n,t,i),e.elementType=fh,e.lanes=o,e;case N1:return lf(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A1:a=10;break e;case R1:a=9;break e;case Qp:a=11;break e;case Zp:a=14;break e;case Ii:a=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Er(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Lo(e,t,n,r){return e=Er(7,e,r,t),e.lanes=n,e}function lf(e,t,n,r){return e=Er(22,e,r,t),e.elementType=N1,e.lanes=n,e.stateNode={isHidden:!1},e}function Od(e,t,n){return e=Er(6,e,null,t),e.lanes=n,e}function Pd(e,t,n){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dd(0),this.expirationTimes=dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(e,t,n,r,i,o,a,s,l){return e=new u3(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Er(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mg(o),e}function c3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x_(e){if(!e)return no;e=e._reactInternals;e:{if(Zo(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Yn(n))return _w(e,n,t)}return t}function S_(e,t,n,r,i,o,a,s,l){return e=Dg(n,r,!0,e,i,o,a,s,l),e.context=x_(null),n=e.current,r=jn(),i=Qi(n),o=pi(r,i),o.callback=t??null,Yi(n,o,i),e.current.lanes=i,ql(e,i,r),Jn(e,r),e}function uf(e,t,n,r){var i=t.current,o=jn(),a=Qi(i);return n=x_(n),t.context===null?t.context=n:t.pendingContext=n,t=pi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yi(i,t,a),e!==null&&(qr(e,i,a,o),Vu(e,i,a)),a}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ig(e,t){Sv(e,t),(e=e.alternate)&&Sv(e,t)}function f3(){return null}var E_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mg(e){this._internalRoot=e}cf.prototype.render=Mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));uf(e,t,null,null)};cf.prototype.unmount=Mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vo(function(){uf(null,e,null,null)}),t[yi]=null}};function cf(e){this._internalRoot=e}cf.prototype.unstable_scheduleHydration=function(e){if(e){var t=X1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&tw(e)}};function Lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function d3(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Nc(a);o.call(c)}}var a=S_(t,r,e,0,null,!1,!1,"",Ev);return e._reactRootContainer=a,e[yi]=a.current,Sl(e.nodeType===8?e.parentNode:e),Vo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Nc(l);s.call(c)}}var l=Dg(e,0,!1,null,null,!1,!1,"",Ev);return e._reactRootContainer=l,e[yi]=l.current,Sl(e.nodeType===8?e.parentNode:e),Vo(function(){uf(t,l,n,r)}),l}function df(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Nc(a);s.call(l)}}uf(t,a,e,i)}else a=d3(n,t,e,i,r);return Nc(a)}Q1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ws(t.pendingLanes);n!==0&&(tg(t,n|1),Jn(t,Xt()),!(ht&6)&&(Qa=Xt()+500,uo()))}break;case 13:Vo(function(){var r=wi(e,1);if(r!==null){var i=jn();qr(r,e,1,i)}}),Ig(e,1)}};ng=function(e){if(e.tag===13){var t=wi(e,134217728);if(t!==null){var n=jn();qr(t,e,134217728,n)}Ig(e,134217728)}};Z1=function(e){if(e.tag===13){var t=Qi(e),n=wi(e,t);if(n!==null){var r=jn();qr(n,e,t,r)}Ig(e,t)}};X1=function(){return bt};ew=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}};xh=function(e,t,n){switch(t){case"input":if(ph(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tf(r);if(!i)throw Error(_e(90));O1(r),ph(r,i)}}}break;case"textarea":D1(e,n);break;case"select":t=n.value,t!=null&&Oa(e,!!n.multiple,t,!1)}};F1=Ng;U1=Vo;var h3={usingClientEntryPoint:!1,Events:[Wl,_a,tf,j1,z1,Ng]},Ns={findFiberByHostInstance:Ro,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},p3={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||f3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Qc=Nu.inject(p3),ni=Nu}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h3;ur.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(t))throw Error(_e(200));return c3(e,t,null,n)};ur.createRoot=function(e,t){if(!Lg(e))throw Error(_e(299));var n=!1,r="",i=E_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dg(e,1,!1,null,null,n,!1,r,i),e[yi]=t.current,Sl(e.nodeType===8?e.parentNode:e),new Mg(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=$1(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return Vo(e)};ur.hydrate=function(e,t,n){if(!ff(t))throw Error(_e(200));return df(null,e,t,!0,n)};ur.hydrateRoot=function(e,t,n){if(!Lg(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=E_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=S_(t,null,e,1,n??null,i,!1,o,a),e[yi]=t.current,Sl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cf(t)};ur.render=function(e,t,n){if(!ff(t))throw Error(_e(200));return df(null,e,t,!1,n)};ur.unmountComponentAtNode=function(e){if(!ff(e))throw Error(_e(40));return e._reactRootContainer?(Vo(function(){df(null,null,e,!1,function(){e._reactRootContainer=null,e[yi]=null})}),!0):!1};ur.unstable_batchedUpdates=Ng;ur.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ff(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return df(e,t,n,!1,r)};ur.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ur})(fk);const g3=Yc(hl);var bv=hl;ah.createRoot=bv.createRoot,ah.hydrateRoot=bv.hydrateRoot;function An(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=An(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const kv=e=>{let t;const n=new Set,r=(h,g)=>{const S=typeof h=="function"?h(t):h;if(!Object.is(S,t)){const E=t;t=g??(typeof S!="object"||S===null)?S:Object.assign({},t,S),n.forEach(k=>k(t,E))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{n.clear()}},c=t=e(r,i,l);return l},Bg=e=>e?kv(e):kv;var ep={},m3={get exports(){return ep},set exports(e){ep=e}},b_={},tp={},v3={get exports(){return tp},set exports(e){tp=e}},k_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=P;function y3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w3=typeof Object.is=="function"?Object.is:y3,_3=Za.useState,x3=Za.useEffect,S3=Za.useLayoutEffect,E3=Za.useDebugValue;function b3(e,t){var n=t(),r=_3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return S3(function(){i.value=n,i.getSnapshot=t,Dd(i)&&o({inst:i})},[e,n,t]),x3(function(){return Dd(i)&&o({inst:i}),e(function(){Dd(i)&&o({inst:i})})},[e]),E3(n),n}function Dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!w3(e,n)}catch{return!0}}function k3(e,t){return t()}var C3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k3:b3;k_.useSyncExternalStore=Za.useSyncExternalStore!==void 0?Za.useSyncExternalStore:C3;(function(e){e.exports=k_})(v3);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=P,A3=tp;function R3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N3=typeof Object.is=="function"?Object.is:R3,T3=A3.useSyncExternalStore,O3=hf.useRef,P3=hf.useEffect,D3=hf.useMemo,I3=hf.useDebugValue;b_.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=O3(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=D3(function(){function l(E){if(!c){if(c=!0,h=E,E=r(E),i!==void 0&&a.hasValue){var k=a.value;if(i(k,E))return g=k}return g=E}if(k=g,N3(h,E))return k;var C=r(E);return i!==void 0&&i(k,C)?k:(h=E,g=C)}var c=!1,h,g,S=n===void 0?null:n;return[function(){return l(t())},S===null?void 0:function(){return l(S())}]},[t,n,r,i]);var s=T3(e,o[0],o[1]);return P3(function(){a.hasValue=!0,a.value=s},[s]),I3(s),s};(function(e){e.exports=b_})(m3);const M3=Yc(ep),{useDebugValue:L3}=Me,{useSyncExternalStoreWithSelector:B3}=M3;const j3=e=>e;function pf(e,t=j3,n){const r=B3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return L3(r),r}const Cv=e=>{const t=typeof e=="function"?Bg(e):e,n=(r,i)=>pf(t,r,i);return Object.assign(n,t),n},us=e=>e?Cv(e):Cv;var z3=e=>us(e);const F3=Object.freeze(Object.defineProperty({__proto__:null,create:us,createStore:Bg,default:z3,useStore:pf},Symbol.toStringTag,{value:"Module"}));function pn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var U3={value:()=>{}};function gf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xu(n)}function Xu(e){this._=e}function H3(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xu.prototype=gf.prototype={constructor:Xu,on:function(e,t){var n=this._,r=H3(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=q3(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Av(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Av(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Xu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function q3(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Av(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=U3,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var np="http://www.w3.org/1999/xhtml";const Rv={svg:"http://www.w3.org/2000/svg",xhtml:np,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rv.hasOwnProperty(t)?{space:Rv[t],local:e}:e}function $3(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===np&&t.documentElement.namespaceURI===np?t.createElement(e):t.createElementNS(n,e)}}function W3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function C_(e){var t=mf(e);return(t.local?W3:$3)(t)}function V3(){}function jg(e){return e==null?V3:function(){return this.querySelector(e)}}function K3(e){typeof e!="function"&&(e=jg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,c,h=0;h<a;++h)(l=o[h])&&(c=e.call(l,l.__data__,h,o))&&("__data__"in l&&(c.__data__=l.__data__),s[h]=c);return new ar(r,this._parents)}function G3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y3(){return[]}function A_(e){return e==null?Y3:function(){return this.querySelectorAll(e)}}function J3(e){return function(){return G3(e.apply(this,arguments))}}function Q3(e){typeof e=="function"?e=J3(e):e=A_(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),i.push(l));return new ar(r,i)}function R_(e){return function(){return this.matches(e)}}function N_(e){return function(t){return t.matches(e)}}var Z3=Array.prototype.find;function X3(e){return function(){return Z3.call(this.children,e)}}function e4(){return this.firstElementChild}function t4(e){return this.select(e==null?e4:X3(typeof e=="function"?e:N_(e)))}var n4=Array.prototype.filter;function r4(){return Array.from(this.children)}function i4(e){return function(){return n4.call(this.children,e)}}function o4(e){return this.selectAll(e==null?r4:i4(typeof e=="function"?e:N_(e)))}function a4(e){typeof e!="function"&&(e=R_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new ar(r,this._parents)}function T_(e){return new Array(e.length)}function s4(){return new ar(this._enter||this._groups.map(T_),this._parents)}function Tc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tc.prototype={constructor:Tc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l4(e){return function(){return e}}function u4(e,t,n,r,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Tc(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function c4(e,t,n,r,i,o,a){var s,l,c=new Map,h=t.length,g=o.length,S=new Array(h),E;for(s=0;s<h;++s)(l=t[s])&&(S[s]=E=a.call(l,l.__data__,s,t)+"",c.has(E)?i[s]=l:c.set(E,l));for(s=0;s<g;++s)E=a.call(e,o[s],s,o)+"",(l=c.get(E))?(r[s]=l,l.__data__=o[s],c.delete(E)):n[s]=new Tc(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&c.get(S[s])===l&&(i[s]=l)}function f4(e){return e.__data__}function d4(e,t){if(!arguments.length)return Array.from(this,f4);var n=t?c4:u4,r=this._parents,i=this._groups;typeof e!="function"&&(e=l4(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var h=r[c],g=i[c],S=g.length,E=h4(e.call(h,h&&h.__data__,c,r)),k=E.length,C=s[c]=new Array(k),R=a[c]=new Array(k),x=l[c]=new Array(S);n(h,g,C,R,x,E,t);for(var w=0,_=0,d,y;w<k;++w)if(d=C[w]){for(w>=_&&(_=w+1);!(y=R[_])&&++_<k;);d._next=y||null}}return a=new ar(a,r),a._enter=s,a._exit=l,a}function h4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p4(){return new ar(this._exit||this._groups.map(T_),this._parents)}function g4(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function m4(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],h=r[l],g=c.length,S=s[l]=new Array(g),E,k=0;k<g;++k)(E=c[k]||h[k])&&(S[k]=E);for(;l<i;++l)s[l]=n[l];return new ar(s,this._parents)}function v4(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function y4(e){e||(e=w4);function t(g,S){return g&&S?e(g.__data__,S.__data__):!g-!S}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,h=0;h<s;++h)(c=a[h])&&(l[h]=c);l.sort(t)}return new ar(i,this._parents).order()}function w4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _4(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function x4(){return Array.from(this)}function S4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function E4(){let e=0;for(const t of this)++e;return e}function b4(){return!this.node()}function k4(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function C4(e){return function(){this.removeAttribute(e)}}function A4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function R4(e,t){return function(){this.setAttribute(e,t)}}function N4(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function T4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function O4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function P4(e,t){var n=mf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?A4:C4:typeof t=="function"?n.local?O4:T4:n.local?N4:R4)(n,t))}function O_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function D4(e){return function(){this.style.removeProperty(e)}}function I4(e,t,n){return function(){this.style.setProperty(e,t,n)}}function M4(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function L4(e,t,n){return arguments.length>1?this.each((t==null?D4:typeof t=="function"?M4:I4)(e,t,n??"")):Xa(this.node(),e)}function Xa(e,t){return e.style.getPropertyValue(t)||O_(e).getComputedStyle(e,null).getPropertyValue(t)}function B4(e){return function(){delete this[e]}}function j4(e,t){return function(){this[e]=t}}function z4(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F4(e,t){return arguments.length>1?this.each((t==null?B4:typeof t=="function"?z4:j4)(e,t)):this.node()[e]}function P_(e){return e.trim().split(/^|\s+/)}function zg(e){return e.classList||new D_(e)}function D_(e){this._node=e,this._names=P_(e.getAttribute("class")||"")}D_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function I_(e,t){for(var n=zg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function M_(e,t){for(var n=zg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function U4(e){return function(){I_(this,e)}}function H4(e){return function(){M_(this,e)}}function q4(e,t){return function(){(t.apply(this,arguments)?I_:M_)(this,e)}}function $4(e,t){var n=P_(e+"");if(arguments.length<2){for(var r=zg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?q4:t?U4:H4)(n,t))}function W4(){this.textContent=""}function V4(e){return function(){this.textContent=e}}function K4(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function G4(e){return arguments.length?this.each(e==null?W4:(typeof e=="function"?K4:V4)(e)):this.node().textContent}function Y4(){this.innerHTML=""}function J4(e){return function(){this.innerHTML=e}}function Q4(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Z4(e){return arguments.length?this.each(e==null?Y4:(typeof e=="function"?Q4:J4)(e)):this.node().innerHTML}function X4(){this.nextSibling&&this.parentNode.appendChild(this)}function eA(){return this.each(X4)}function tA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nA(){return this.each(tA)}function rA(e){var t=typeof e=="function"?e:C_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function iA(){return null}function oA(e,t){var n=typeof e=="function"?e:C_(e),r=t==null?iA:typeof t=="function"?t:jg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aA(){var e=this.parentNode;e&&e.removeChild(this)}function sA(){return this.each(aA)}function lA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cA(e){return this.select(e?uA:lA)}function fA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dA(e){return function(t){e.call(this,t,this.__data__)}}function hA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function gA(e,t,n){return function(){var r=this.__on,i,o=dA(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mA(e,t,n){var r=hA(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,h;l<c;++l)for(i=0,h=s[l];i<o;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(s=t?gA:pA,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function L_(e,t,n){var r=O_(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function vA(e,t){return function(){return L_(this,e,t)}}function yA(e,t){return function(){return L_(this,e,t.apply(this,arguments))}}function wA(e,t){return this.each((typeof t=="function"?yA:vA)(e,t))}function*_A(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var B_=[null];function ar(e,t){this._groups=e,this._parents=t}function Kl(){return new ar([[document.documentElement]],B_)}function xA(){return this}ar.prototype=Kl.prototype={constructor:ar,select:K3,selectAll:Q3,selectChild:t4,selectChildren:o4,filter:a4,data:d4,enter:s4,exit:p4,join:g4,merge:m4,selection:xA,order:v4,sort:y4,call:_4,nodes:x4,node:S4,size:E4,empty:b4,each:k4,attr:P4,style:L4,property:F4,classed:$4,text:G4,html:Z4,raise:eA,lower:nA,append:rA,insert:oA,remove:sA,clone:cA,datum:fA,on:mA,dispatch:wA,[Symbol.iterator]:_A};function xr(e){return typeof e=="string"?new ar([[document.querySelector(e)]],[document.documentElement]):new ar([[e]],B_)}function SA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function jr(e,t){if(e=SA(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const EA={passive:!1},Ol={capture:!0,passive:!1};function Id(e){e.stopImmediatePropagation()}function Ba(e){e.preventDefault(),e.stopImmediatePropagation()}function j_(e){var t=e.document.documentElement,n=xr(e).on("dragstart.drag",Ba,Ol);"onselectstart"in t?n.on("selectstart.drag",Ba,Ol):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function z_(e,t){var n=e.document.documentElement,r=xr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ba,Ol),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Tu=e=>()=>e;function rp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}rp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bA(e){return!e.ctrlKey&&!e.button}function kA(){return this.parentNode}function CA(e,t){return t??{x:e.x,y:e.y}}function AA(){return navigator.maxTouchPoints||"ontouchstart"in this}function RA(){var e=bA,t=kA,n=CA,r=AA,i={},o=gf("start","drag","end"),a=0,s,l,c,h,g=0;function S(d){d.on("mousedown.drag",E).filter(r).on("touchstart.drag",R).on("touchmove.drag",x,EA).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(d,y){if(!(h||!e.call(this,d,y))){var m=_(this,t.call(this,d,y),d,y,"mouse");m&&(xr(d.view).on("mousemove.drag",k,Ol).on("mouseup.drag",C,Ol),j_(d.view),Id(d),c=!1,s=d.clientX,l=d.clientY,m("start",d))}}function k(d){if(Ba(d),!c){var y=d.clientX-s,m=d.clientY-l;c=y*y+m*m>g}i.mouse("drag",d)}function C(d){xr(d.view).on("mousemove.drag mouseup.drag",null),z_(d.view,c),Ba(d),i.mouse("end",d)}function R(d,y){if(e.call(this,d,y)){var m=d.changedTouches,b=t.call(this,d,y),N=m.length,D,G;for(D=0;D<N;++D)(G=_(this,b,d,y,m[D].identifier,m[D]))&&(Id(d),G("start",d,m[D]))}}function x(d){var y=d.changedTouches,m=y.length,b,N;for(b=0;b<m;++b)(N=i[y[b].identifier])&&(Ba(d),N("drag",d,y[b]))}function w(d){var y=d.changedTouches,m=y.length,b,N;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),b=0;b<m;++b)(N=i[y[b].identifier])&&(Id(d),N("end",d,y[b]))}function _(d,y,m,b,N,D){var G=o.copy(),se=jr(D||m,y),J,z,M;if((M=n.call(d,new rp("beforestart",{sourceEvent:m,target:S,identifier:N,active:a,x:se[0],y:se[1],dx:0,dy:0,dispatch:G}),b))!=null)return J=M.x-se[0]||0,z=M.y-se[1]||0,function H(U,B,j){var $=se,W;switch(U){case"start":i[N]=H,W=a++;break;case"end":delete i[N],--a;case"drag":se=jr(j||B,y),W=a;break}G.call(U,d,new rp(U,{sourceEvent:B,subject:M,target:S,identifier:N,active:W,x:se[0]+J,y:se[1]+z,dx:se[0]-$[0],dy:se[1]-$[1],dispatch:G}),b)}}return S.filter=function(d){return arguments.length?(e=typeof d=="function"?d:Tu(!!d),S):e},S.container=function(d){return arguments.length?(t=typeof d=="function"?d:Tu(d),S):t},S.subject=function(d){return arguments.length?(n=typeof d=="function"?d:Tu(d),S):n},S.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:Tu(!!d),S):r},S.on=function(){var d=o.on.apply(o,arguments);return d===o?S:d},S.clickDistance=function(d){return arguments.length?(g=(d=+d)*d,S):Math.sqrt(g)},S}function Fg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function F_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gl(){}var Pl=.7,Oc=1/Pl,ja="\\s*([+-]?\\d+)\\s*",Dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NA=/^#([0-9a-f]{3,8})$/,TA=new RegExp(`^rgb\\(${ja},${ja},${ja}\\)$`),OA=new RegExp(`^rgb\\(${ii},${ii},${ii}\\)$`),PA=new RegExp(`^rgba\\(${ja},${ja},${ja},${Dl}\\)$`),DA=new RegExp(`^rgba\\(${ii},${ii},${ii},${Dl}\\)$`),IA=new RegExp(`^hsl\\(${Dl},${ii},${ii}\\)$`),MA=new RegExp(`^hsla\\(${Dl},${ii},${ii},${Dl}\\)$`),Nv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fg(Gl,Il,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tv,formatHex:Tv,formatHex8:LA,formatHsl:BA,formatRgb:Ov,toString:Ov});function Tv(){return this.rgb().formatHex()}function LA(){return this.rgb().formatHex8()}function BA(){return U_(this).formatHsl()}function Ov(){return this.rgb().formatRgb()}function Il(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pv(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ou(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ou(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TA.exec(e))?new Kn(t[1],t[2],t[3],1):(t=OA.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PA.exec(e))?Ou(t[1],t[2],t[3],t[4]):(t=DA.exec(e))?Ou(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IA.exec(e))?Mv(t[1],t[2]/100,t[3]/100,1):(t=MA.exec(e))?Mv(t[1],t[2]/100,t[3]/100,t[4]):Nv.hasOwnProperty(e)?Pv(Nv[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function Pv(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function Ou(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function jA(e){return e instanceof Gl||(e=Il(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function ip(e,t,n,r){return arguments.length===1?jA(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Fg(Kn,ip,F_(Gl,{brighter(e){return e=e==null?Oc:Math.pow(Oc,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pl:Math.pow(Pl,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(Bo(this.r),Bo(this.g),Bo(this.b),Pc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dv,formatHex:Dv,formatHex8:zA,formatRgb:Iv,toString:Iv}));function Dv(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}`}function zA(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}${Oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iv(){const e=Pc(this.opacity);return`${e===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${e===1?")":`, ${e})`}`}function Pc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oo(e){return e=Bo(e),(e<16?"0":"")+e.toString(16)}function Mv(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,n,r)}function U_(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof Gl||(e=Il(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ur(a,s,l,e.opacity)}function FA(e,t,n,r){return arguments.length===1?U_(e):new Ur(e,t,n,r??1)}function Ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fg(Ur,FA,F_(Gl,{brighter(e){return e=e==null?Oc:Math.pow(Oc,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pl:Math.pow(Pl,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn(Md(e>=240?e-240:e+120,i,r),Md(e,i,r),Md(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ur(Lv(this.h),Pu(this.s),Pu(this.l),Pc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pc(this.opacity);return`${e===1?"hsl(":"hsla("}${Lv(this.h)}, ${Pu(this.s)*100}%, ${Pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lv(e){return e=(e||0)%360,e<0?e+360:e}function Pu(e){return Math.max(0,Math.min(1,e||0))}function Md(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const H_=e=>()=>e;function UA(e,t){return function(n){return e+n*t}}function HA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qA(e){return(e=+e)==1?q_:function(t,n){return n-t?HA(t,n,e):H_(isNaN(t)?n:t)}}function q_(e,t){var n=t-e;return n?UA(e,n):H_(isNaN(e)?t:e)}const Bv=function e(t){var n=qA(t);function r(i,o){var a=n((i=ip(i)).r,(o=ip(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=q_(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function Li(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var op=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ld=new RegExp(op.source,"g");function $A(e){return function(){return e}}function WA(e){return function(t){return e(t)+""}}function VA(e,t){var n=op.lastIndex=Ld.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=op.exec(e))&&(i=Ld.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Li(r,i)})),n=Ld.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?WA(l[0].x):$A(t):(t=l.length,function(c){for(var h=0,g;h<t;++h)s[(g=l[h]).i]=g.x(c);return s.join("")})}var jv=180/Math.PI,ap={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $_(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*jv,skewX:Math.atan(l)*jv,scaleX:a,scaleY:s}}var Du;function KA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ap:$_(t.a,t.b,t.c,t.d,t.e,t.f)}function GA(e){return e==null||(Du||(Du=document.createElementNS("http://www.w3.org/2000/svg","g")),Du.setAttribute("transform",e),!(e=Du.transform.baseVal.consolidate()))?ap:(e=e.matrix,$_(e.a,e.b,e.c,e.d,e.e,e.f))}function W_(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,h,g,S,E,k){if(c!==g||h!==S){var C=E.push("translate(",null,t,null,n);k.push({i:C-4,x:Li(c,g)},{i:C-2,x:Li(h,S)})}else(g||S)&&E.push("translate("+g+t+S+n)}function a(c,h,g,S){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),S.push({i:g.push(i(g)+"rotate(",null,r)-2,x:Li(c,h)})):h&&g.push(i(g)+"rotate("+h+r)}function s(c,h,g,S){c!==h?S.push({i:g.push(i(g)+"skewX(",null,r)-2,x:Li(c,h)}):h&&g.push(i(g)+"skewX("+h+r)}function l(c,h,g,S,E,k){if(c!==g||h!==S){var C=E.push(i(E)+"scale(",null,",",null,")");k.push({i:C-4,x:Li(c,g)},{i:C-2,x:Li(h,S)})}else(g!==1||S!==1)&&E.push(i(E)+"scale("+g+","+S+")")}return function(c,h){var g=[],S=[];return c=e(c),h=e(h),o(c.translateX,c.translateY,h.translateX,h.translateY,g,S),a(c.rotate,h.rotate,g,S),s(c.skewX,h.skewX,g,S),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,g,S),c=h=null,function(E){for(var k=-1,C=S.length,R;++k<C;)g[(R=S[k]).i]=R.x(E);return g.join("")}}}var YA=W_(KA,"px, ","px)","deg)"),JA=W_(GA,", ",")",")"),QA=1e-12;function zv(e){return((e=Math.exp(e))+1/e)/2}function ZA(e){return((e=Math.exp(e))-1/e)/2}function XA(e){return((e=Math.exp(2*e))-1)/(e+1)}const e5=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],c=o[2],h=a[0],g=a[1],S=a[2],E=h-s,k=g-l,C=E*E+k*k,R,x;if(C<QA)x=Math.log(S/c)/t,R=function(b){return[s+b*E,l+b*k,c*Math.exp(t*b*x)]};else{var w=Math.sqrt(C),_=(S*S-c*c+r*C)/(2*c*n*w),d=(S*S-c*c-r*C)/(2*S*n*w),y=Math.log(Math.sqrt(_*_+1)-_),m=Math.log(Math.sqrt(d*d+1)-d);x=(m-y)/t,R=function(b){var N=b*x,D=zv(y),G=c/(n*w)*(D*XA(t*N+y)-ZA(y));return[s+G*E,l+G*k,c*D/zv(t*N+y)]}}return R.duration=x*1e3*t/Math.SQRT2,R}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var es=0,Ks=0,Ts=0,V_=1e3,Dc,Gs,Ic=0,Ko=0,vf=0,Ml=typeof performance=="object"&&performance.now?performance:Date,K_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ug(){return Ko||(K_(t5),Ko=Ml.now()+vf)}function t5(){Ko=0}function Mc(){this._call=this._time=this._next=null}Mc.prototype=G_.prototype={constructor:Mc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ug():+n)+(t==null?0:+t),!this._next&&Gs!==this&&(Gs?Gs._next=this:Dc=this,Gs=this),this._call=e,this._time=n,sp()},stop:function(){this._call&&(this._call=null,this._time=1/0,sp())}};function G_(e,t,n){var r=new Mc;return r.restart(e,t,n),r}function n5(){Ug(),++es;for(var e=Dc,t;e;)(t=Ko-e._time)>=0&&e._call.call(void 0,t),e=e._next;--es}function Fv(){Ko=(Ic=Ml.now())+vf,es=Ks=0;try{n5()}finally{es=0,i5(),Ko=0}}function r5(){var e=Ml.now(),t=e-Ic;t>V_&&(vf-=t,Ic=e)}function i5(){for(var e,t=Dc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Dc=n);Gs=e,sp(r)}function sp(e){if(!es){Ks&&(Ks=clearTimeout(Ks));var t=e-Ko;t>24?(e<1/0&&(Ks=setTimeout(Fv,e-Ml.now()-vf)),Ts&&(Ts=clearInterval(Ts))):(Ts||(Ic=Ml.now(),Ts=setInterval(r5,V_)),es=1,K_(Fv))}}function Uv(e,t,n){var r=new Mc;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var o5=gf("start","end","cancel","interrupt"),a5=[],Y_=0,Hv=1,lp=2,ec=3,qv=4,up=5,tc=6;function yf(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;s5(e,n,{name:t,index:r,group:i,on:o5,tween:a5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Y_})}function Hg(e,t){var n=Kr(e,t);if(n.state>Y_)throw new Error("too late; already scheduled");return n}function oi(e,t){var n=Kr(e,t);if(n.state>ec)throw new Error("too late; already running");return n}function Kr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function s5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=G_(o,0,n.time);function o(c){n.state=Hv,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var h,g,S,E;if(n.state!==Hv)return l();for(h in r)if(E=r[h],E.name===n.name){if(E.state===ec)return Uv(a);E.state===qv?(E.state=tc,E.timer.stop(),E.on.call("interrupt",e,e.__data__,E.index,E.group),delete r[h]):+h<t&&(E.state=tc,E.timer.stop(),E.on.call("cancel",e,e.__data__,E.index,E.group),delete r[h])}if(Uv(function(){n.state===ec&&(n.state=qv,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=lp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lp){for(n.state=ec,i=new Array(S=n.tween.length),h=0,g=-1;h<S;++h)(E=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++g]=E);i.length=g+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=up,1),g=-1,S=i.length;++g<S;)i[g].call(e,h);n.state===up&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=tc,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function nc(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>lp&&r.state<up,r.state=tc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function l5(e){return this.each(function(){nc(this,e)})}function u5(e,t){var n,r;return function(){var i=oi(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function c5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=oi(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function f5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Kr(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?u5:c5)(n,e,t))}function qg(e,t,n){var r=e._id;return e.each(function(){var i=oi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Kr(i,r).value[t]}}function J_(e,t){var n;return(typeof t=="number"?Li:t instanceof Il?Bv:(n=Il(t))?(t=n,Bv):VA)(e,t)}function d5(e){return function(){this.removeAttribute(e)}}function h5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function p5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function g5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function m5(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function v5(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function y5(e,t){var n=mf(e),r=n==="transform"?JA:J_;return this.attrTween(e,typeof t=="function"?(n.local?v5:m5)(n,r,qg(this,"attr."+e,t)):t==null?(n.local?h5:d5)(n):(n.local?g5:p5)(n,r,t))}function w5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_5(e,o)),n}return i._value=t,i}function S5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&w5(e,o)),n}return i._value=t,i}function E5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=mf(e);return this.tween(n,(r.local?x5:S5)(r,t))}function b5(e,t){return function(){Hg(this,e).delay=+t.apply(this,arguments)}}function k5(e,t){return t=+t,function(){Hg(this,e).delay=t}}function C5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b5:k5)(t,e)):Kr(this.node(),t).delay}function A5(e,t){return function(){oi(this,e).duration=+t.apply(this,arguments)}}function R5(e,t){return t=+t,function(){oi(this,e).duration=t}}function N5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A5:R5)(t,e)):Kr(this.node(),t).duration}function T5(e,t){if(typeof t!="function")throw new Error;return function(){oi(this,e).ease=t}}function O5(e){var t=this._id;return arguments.length?this.each(T5(t,e)):Kr(this.node(),t).ease}function P5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;oi(this,e).ease=n}}function D5(e){if(typeof e!="function")throw new Error;return this.each(P5(this._id,e))}function I5(e){typeof e!="function"&&(e=R_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new xi(r,this._parents,this._name,this._id)}function M5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],c=n[s],h=l.length,g=a[s]=new Array(h),S,E=0;E<h;++E)(S=l[E]||c[E])&&(g[E]=S);for(;s<r;++s)a[s]=t[s];return new xi(a,this._parents,this._name,this._id)}function L5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function B5(e,t,n){var r,i,o=L5(t)?Hg:oi;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function j5(e,t){var n=this._id;return arguments.length<2?Kr(this.node(),n).on.on(e):this.each(B5(n,e,t))}function z5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function F5(){return this.on("end.remove",z5(this._id))}function U5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jg(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),h,g,S=0;S<l;++S)(h=s[S])&&(g=e.call(h,h.__data__,S,s))&&("__data__"in h&&(g.__data__=h.__data__),c[S]=g,yf(c[S],t,n,S,c,Kr(h,n)));return new xi(o,this._parents,t,n)}function H5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=A_(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,h,g=0;g<c;++g)if(h=l[g]){for(var S=e.call(h,h.__data__,g,l),E,k=Kr(h,n),C=0,R=S.length;C<R;++C)(E=S[C])&&yf(E,t,n,C,S,k);o.push(S),a.push(h)}return new xi(o,a,t,n)}var q5=Kl.prototype.constructor;function $5(){return new q5(this._groups,this._parents)}function W5(e,t){var n,r,i;return function(){var o=Xa(this,e),a=(this.style.removeProperty(e),Xa(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Q_(e){return function(){this.style.removeProperty(e)}}function V5(e,t,n){var r,i=n+"",o;return function(){var a=Xa(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function K5(e,t,n){var r,i,o;return function(){var a=Xa(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Xa(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function G5(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=oi(this,e),c=l.on,h=l.value[o]==null?s||(s=Q_(t)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(a,i=h),l.on=r}}function Y5(e,t,n){var r=(e+="")=="transform"?YA:J_;return t==null?this.styleTween(e,W5(e,r)).on("end.style."+e,Q_(e)):typeof t=="function"?this.styleTween(e,K5(e,r,qg(this,"style."+e,t))).each(G5(this._id,e)):this.styleTween(e,V5(e,r,t),n).on("end.style."+e,null)}function J5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Q5(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&J5(e,a,n)),r}return o._value=t,o}function Z5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Q5(e,t,n??""))}function X5(e){return function(){this.textContent=e}}function eR(e){return function(){var t=e(this);this.textContent=t??""}}function tR(e){return this.tween("text",typeof e=="function"?eR(qg(this,"text",e)):X5(e==null?"":e+""))}function nR(e){return function(t){this.textContent=e.call(this,t)}}function rR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&nR(i)),t}return r._value=e,r}function iR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rR(e))}function oR(){for(var e=this._name,t=this._id,n=Z_(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var h=Kr(l,t);yf(l,e,n,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new xi(r,this._parents,e,n)}function aR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=oi(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var sR=0;function xi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Z_(){return++sR}var li=Kl.prototype;xi.prototype={constructor:xi,select:U5,selectAll:H5,selectChild:li.selectChild,selectChildren:li.selectChildren,filter:I5,merge:M5,selection:$5,transition:oR,call:li.call,nodes:li.nodes,node:li.node,size:li.size,empty:li.empty,each:li.each,on:j5,attr:y5,attrTween:E5,style:Y5,styleTween:Z5,text:tR,textTween:iR,remove:F5,tween:f5,delay:C5,duration:N5,ease:O5,easeVarying:D5,end:aR,[Symbol.iterator]:li[Symbol.iterator]};function lR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uR={time:null,delay:0,duration:250,ease:lR};function cR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fR(e){var t,n;e instanceof xi?(t=e._id,e=e._name):(t=Z_(),(n=uR).time=Ug(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&yf(l,e,t,c,a,n||cR(l,t));return new xi(r,this._parents,e,t)}Kl.prototype.interrupt=l5;Kl.prototype.transition=fR;const Iu=e=>()=>e;function dR(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function hi(e,t,n){this.k=e,this.x=t,this.y=n}hi.prototype={constructor:hi,scale:function(e){return e===1?this:new hi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gi=new hi(1,0,0);hi.prototype;function Bd(e){e.stopImmediatePropagation()}function Os(e){e.preventDefault(),e.stopImmediatePropagation()}function hR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $v(){return this.__zoom||gi}function gR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mR(){return navigator.maxTouchPoints||"ontouchstart"in this}function vR(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function X_(){var e=hR,t=pR,n=vR,r=gR,i=mR,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=e5,c=gf("start","zoom","end"),h,g,S,E=500,k=150,C=0,R=10;function x(M){M.property("__zoom",$v).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",G).filter(i).on("touchstart.zoom",se).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,H,U,B){var j=M.selection?M.selection():M;j.property("__zoom",$v),M!==j?y(M,H,U,B):j.interrupt().each(function(){m(this,arguments).event(B).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},x.scaleBy=function(M,H,U,B){x.scaleTo(M,function(){var j=this.__zoom.k,$=typeof H=="function"?H.apply(this,arguments):H;return j*$},U,B)},x.scaleTo=function(M,H,U,B){x.transform(M,function(){var j=t.apply(this,arguments),$=this.__zoom,W=U==null?d(j):typeof U=="function"?U.apply(this,arguments):U,me=$.invert(W),ye=typeof H=="function"?H.apply(this,arguments):H;return n(_(w($,ye),W,me),j,a)},U,B)},x.translateBy=function(M,H,U,B){x.transform(M,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),a)},null,B)},x.translateTo=function(M,H,U,B,j){x.transform(M,function(){var $=t.apply(this,arguments),W=this.__zoom,me=B==null?d($):typeof B=="function"?B.apply(this,arguments):B;return n(gi.translate(me[0],me[1]).scale(W.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof U=="function"?-U.apply(this,arguments):-U),$,a)},B,j)};function w(M,H){return H=Math.max(o[0],Math.min(o[1],H)),H===M.k?M:new hi(H,M.x,M.y)}function _(M,H,U){var B=H[0]-U[0]*M.k,j=H[1]-U[1]*M.k;return B===M.x&&j===M.y?M:new hi(M.k,B,j)}function d(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function y(M,H,U,B){M.on("start.zoom",function(){m(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){m(this,arguments).event(B).end()}).tween("zoom",function(){var j=this,$=arguments,W=m(j,$).event(B),me=t.apply(j,$),ye=U==null?d(me):typeof U=="function"?U.apply(j,$):U,Te=Math.max(me[1][0]-me[0][0],me[1][1]-me[0][1]),be=j.__zoom,Ue=typeof H=="function"?H.apply(j,$):H,Le=l(be.invert(ye).concat(Te/be.k),Ue.invert(ye).concat(Te/Ue.k));return function(Ve){if(Ve===1)Ve=Ue;else{var Re=Le(Ve),gt=Te/Re[2];Ve=new hi(gt,ye[0]-Re[0]*gt,ye[1]-Re[1]*gt)}W.zoom(null,Ve)}})}function m(M,H,U){return!U&&M.__zooming||new b(M,H)}function b(M,H){this.that=M,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,H),this.taps=0}b.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,H){return this.mouse&&M!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var H=xr(this.that).datum();c.call(M,this.that,new dR(M,{sourceEvent:this.sourceEvent,target:x,type:M,transform:this.that.__zoom,dispatch:c}),H)}};function N(M,...H){if(!e.apply(this,arguments))return;var U=m(this,H).event(M),B=this.__zoom,j=Math.max(o[0],Math.min(o[1],B.k*Math.pow(2,r.apply(this,arguments)))),$=jr(M);if(U.wheel)(U.mouse[0][0]!==$[0]||U.mouse[0][1]!==$[1])&&(U.mouse[1]=B.invert(U.mouse[0]=$)),clearTimeout(U.wheel);else{if(B.k===j)return;U.mouse=[$,B.invert($)],nc(this),U.start()}Os(M),U.wheel=setTimeout(W,k),U.zoom("mouse",n(_(w(B,j),U.mouse[0],U.mouse[1]),U.extent,a));function W(){U.wheel=null,U.end()}}function D(M,...H){if(S||!e.apply(this,arguments))return;var U=M.currentTarget,B=m(this,H,!0).event(M),j=xr(M.view).on("mousemove.zoom",ye,!0).on("mouseup.zoom",Te,!0),$=jr(M,U),W=M.clientX,me=M.clientY;j_(M.view),Bd(M),B.mouse=[$,this.__zoom.invert($)],nc(this),B.start();function ye(be){if(Os(be),!B.moved){var Ue=be.clientX-W,Le=be.clientY-me;B.moved=Ue*Ue+Le*Le>C}B.event(be).zoom("mouse",n(_(B.that.__zoom,B.mouse[0]=jr(be,U),B.mouse[1]),B.extent,a))}function Te(be){j.on("mousemove.zoom mouseup.zoom",null),z_(be.view,B.moved),Os(be),B.event(be).end()}}function G(M,...H){if(e.apply(this,arguments)){var U=this.__zoom,B=jr(M.changedTouches?M.changedTouches[0]:M,this),j=U.invert(B),$=U.k*(M.shiftKey?.5:2),W=n(_(w(U,$),B,j),t.apply(this,H),a);Os(M),s>0?xr(this).transition().duration(s).call(y,W,B,M):xr(this).call(x.transform,W,B,M)}}function se(M,...H){if(e.apply(this,arguments)){var U=M.touches,B=U.length,j=m(this,H,M.changedTouches.length===B).event(M),$,W,me,ye;for(Bd(M),W=0;W<B;++W)me=U[W],ye=jr(me,this),ye=[ye,this.__zoom.invert(ye),me.identifier],j.touch0?!j.touch1&&j.touch0[2]!==ye[2]&&(j.touch1=ye,j.taps=0):(j.touch0=ye,$=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),$&&(j.taps<2&&(g=ye[0],h=setTimeout(function(){h=null},E)),nc(this),j.start())}}function J(M,...H){if(this.__zooming){var U=m(this,H).event(M),B=M.changedTouches,j=B.length,$,W,me,ye;for(Os(M),$=0;$<j;++$)W=B[$],me=jr(W,this),U.touch0&&U.touch0[2]===W.identifier?U.touch0[0]=me:U.touch1&&U.touch1[2]===W.identifier&&(U.touch1[0]=me);if(W=U.that.__zoom,U.touch1){var Te=U.touch0[0],be=U.touch0[1],Ue=U.touch1[0],Le=U.touch1[1],Ve=(Ve=Ue[0]-Te[0])*Ve+(Ve=Ue[1]-Te[1])*Ve,Re=(Re=Le[0]-be[0])*Re+(Re=Le[1]-be[1])*Re;W=w(W,Math.sqrt(Ve/Re)),me=[(Te[0]+Ue[0])/2,(Te[1]+Ue[1])/2],ye=[(be[0]+Le[0])/2,(be[1]+Le[1])/2]}else if(U.touch0)me=U.touch0[0],ye=U.touch0[1];else return;U.zoom("touch",n(_(W,me,ye),U.extent,a))}}function z(M,...H){if(this.__zooming){var U=m(this,H).event(M),B=M.changedTouches,j=B.length,$,W;for(Bd(M),S&&clearTimeout(S),S=setTimeout(function(){S=null},E),$=0;$<j;++$)W=B[$],U.touch0&&U.touch0[2]===W.identifier?delete U.touch0:U.touch1&&U.touch1[2]===W.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(W=jr(W,this),Math.hypot(g[0]-W[0],g[1]-W[1])<R)){var me=xr(this).on("dblclick.zoom");me&&me.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Iu(+M),x):r},x.filter=function(M){return arguments.length?(e=typeof M=="function"?M:Iu(!!M),x):e},x.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Iu(!!M),x):i},x.extent=function(M){return arguments.length?(t=typeof M=="function"?M:Iu([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):t},x.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],x):[o[0],o[1]]},x.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(s=+M,x):s},x.interpolate=function(M){return arguments.length?(l=M,x):l},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(C=(M=+M)*M,x):Math.sqrt(C)},x.tapDistance=function(M){return arguments.length?(R=+M,x):R},x}const wf=P.createContext(null),yR=wf.Provider,ro={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},ex=ro.error001();function Rt(e,t){const n=P.useContext(wf);if(n===null)throw new Error(ex);return pf(n,e,t)}const ln=()=>{const e=P.useContext(wf);if(e===null)throw new Error(ex);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},wR=e=>e.userSelectionActive?"none":"all";function ts({position:e,children:t,className:n,style:r,...i}){const o=Rt(wR),a=`${e}`.split("-");return T("div",{className:An(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},...i,children:t})}function _R({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:T(ts,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:T("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const xR=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...h})=>{const g=P.useRef(null),[S,E]=P.useState({x:0,y:0,width:0,height:0}),k=An(["react-flow__edge-textwrapper",c]);return P.useEffect(()=>{if(g.current){const C=g.current.getBBox();E({x:C.x,y:C.y,width:C.width,height:C.height})}},[n]),typeof n>"u"||!n?null:ae("g",{transform:`translate(${e-S.width/2} ${t-S.height/2})`,className:k,visibility:S.width?"visible":"hidden",...h,children:[i&&T("rect",{width:S.width+2*a[0],x:-a[0],y:-a[1],height:S.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),T("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:g,style:r,children:n}),l]})};var SR=P.memo(xR);const $g=e=>({width:e.offsetWidth,height:e.offsetHeight}),ns=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Wg=(e={x:0,y:0},t)=>({x:ns(e.x,t[0][0],t[1][0]),y:ns(e.y,t[0][1],t[1][1])}),Wv=(e,t,n)=>e<t?ns(Math.abs(e-t),1,50)/50:e>n?-ns(Math.abs(e-n),1,50)/50:0,tx=(e,t)=>{const n=Wv(e.x,35,t.width-35)*20,r=Wv(e.y,35,t.height-35)*20;return[n,r]},nx=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},rx=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Lc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ix=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Vv=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ER=(e,t)=>ix(rx(Lc(e),Lc(t))),cp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},bR=e=>br(e.width)&&br(e.height)&&br(e.x)&&br(e.y),br=e=>!isNaN(e)&&isFinite(e),hn=Symbol.for("internals"),ox=["Enter"," ","Escape"],kR=(e,t)=>{},CR=e=>"nativeEvent"in e;function fp(e){var i,o;const t=CR(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const ax=e=>"clientX"in e,Xi=(e,t)=>{var o,a;const n=ax(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},cs=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:g,markerStart:S,interactionWidth:E=20})=>ae(_t,{children:[T("path",{id:e,style:h,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:S}),E&&T("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),i&&br(n)&&br(r)?T(SR,{x:n,y:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]});cs.displayName="BaseEdge";const AR=(e,t)=>typeof t<"u"&&t?`url(#${t})`:typeof e<"u"?`url(#react-flow__${e})`:"none";function Ps(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function sx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function lx({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+n*.125,c=t*.125+o*.375+s*.375+r*.125,h=Math.abs(l-e),g=Math.abs(c-t);return[l,c,h,g]}var io;(function(e){e.Strict="strict",e.Loose="loose"})(io||(io={}));var za;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(za||(za={}));var rs;(function(e){e.Partial="partial",e.Full="full"})(rs||(rs={}));var Ui;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ui||(Ui={}));var jo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(jo||(jo={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));function Kv({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Pe.Left||e===Pe.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function ux({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top}){const[a,s]=Kv({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=Kv({pos:o,x1:r,y1:i,x2:e,y2:t}),[h,g,S,E]=lx({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${r},${i}`,h,g,S,E]}const Vg=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:o=Pe.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:S,markerEnd:E,markerStart:k,interactionWidth:C})=>{const[R,x,w]=ux({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return T(cs,{path:R,labelX:x,labelY:w,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:S,markerEnd:E,markerStart:k,interactionWidth:C})});Vg.displayName="SimpleBezierEdge";const Gv={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},RR=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yv=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function NR({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:i,offset:o}){const a=Gv[t],s=Gv[r],l={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+s.x*o,y:n.y+s.y*o},h=RR({source:l,sourcePosition:t,target:c}),g=h.x!==0?"x":"y",S=h[g];let E=[],k,C;const[R,x,w,_]=sx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[g]*s[g]===-1){k=i.x||R,C=i.y||x;const y=[{x:k,y:l.y},{x:k,y:c.y}],m=[{x:l.x,y:C},{x:c.x,y:C}];a[g]===S?E=g==="x"?y:m:E=g==="x"?m:y}else{const y=[{x:l.x,y:c.y}],m=[{x:c.x,y:l.y}];if(g==="x"?E=a.x===S?m:y:E=a.y===S?y:m,t!==r){const b=g==="x"?"y":"x",N=a[g]===s[b],D=l[b]>c[b],G=l[b]<c[b];(a[g]===1&&(!N&&D||N&&G)||a[g]!==1&&(!N&&G||N&&D))&&(E=g==="x"?y:m)}k=E[0].x,C=E[0].y}return[[e,l,...E,c,n],k,C,w,_]}function TR(e,t,n,r){const i=Math.min(Yv(e,t)/2,Yv(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*h}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function dp({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){const[h,g,S,E,k]=NR({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:c});return[h.reduce((R,x,w)=>{let _="";return w>0&&w<h.length-1?_=TR(h[w-1],x,h[w+1],a):_=`${w===0?"M":"L"}${x.x} ${x.y}`,R+=_,R},""),g,S,E,k]}const _f=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:h,sourcePosition:g=Pe.Bottom,targetPosition:S=Pe.Top,markerEnd:E,markerStart:k,pathOptions:C,interactionWidth:R})=>{const[x,w,_]=dp({sourceX:e,sourceY:t,sourcePosition:g,targetX:n,targetY:r,targetPosition:S,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset});return T(cs,{path:x,labelX:w,labelY:_,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:E,markerStart:k,interactionWidth:R})});_f.displayName="SmoothStepEdge";const Kg=P.memo(e=>{var t;return T(_f,{...e,pathOptions:P.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Kg.displayName="StepEdge";function OR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=sx({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const Gg=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:g,markerStart:S,interactionWidth:E})=>{const[k,C,R]=OR({sourceX:e,sourceY:t,targetX:n,targetY:r});return T(cs,{path:k,labelX:C,labelY:R,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:g,markerStart:S,interactionWidth:E})});Gg.displayName="StraightEdge";function Mu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Jv({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Pe.Left:return[t-Mu(t-r,o),n];case Pe.Right:return[t+Mu(r-t,o),n];case Pe.Top:return[t,n-Mu(n-i,o)];case Pe.Bottom:return[t,n+Mu(i-n,o)]}}function Yg({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,curvature:a=.25}){const[s,l]=Jv({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[c,h]=Jv({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[g,S,E,k]=lx({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:h});return[`M${e},${t} C${s},${l} ${c},${h} ${r},${i}`,g,S,E,k]}const Bc=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:o=Pe.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:S,markerEnd:E,markerStart:k,pathOptions:C,interactionWidth:R})=>{const[x,w,_]=Yg({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:C==null?void 0:C.curvature});return T(cs,{path:x,labelX:w,labelY:_,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:S,markerEnd:E,markerStart:k,interactionWidth:R})});Bc.displayName="BezierEdge";const Jg=P.createContext(null),PR=Jg.Provider;Jg.Consumer;const DR=()=>P.useContext(Jg),IR=e=>"id"in e&&"source"in e&&"target"in e,MR=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,hp=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,LR=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Qg=(e,t)=>{if(!e.source||!e.target)return t;let n;return IR(e)?n={...e}:n={...e,id:MR(e)},LR(n,t)?t:t.concat(n)},cx=({x:e,y:t},[n,r,i],o,[a,s])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},BR=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),zo=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Zg=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:a}=zo(i,t).positionAbsolute;return rx(r,Lc({x:o,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ix(n)},fx=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1,s=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach(h=>{const{width:g,height:S,selectable:E=!0,hidden:k=!1}=h;if(a&&!E||k)return!1;const{positionAbsolute:C}=zo(h,s),R={x:C.x,y:C.y,width:g||0,height:S||0},x=cp(l,R),w=typeof g>"u"||typeof S>"u"||g===null||S===null,_=o&&x>0,d=(g||0)*(S||0);(w||_||x>=d||h.dragging)&&c.push(h)}),c},dx=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},hx=(e,t,n,r,i,o=.1)=>{const a=t/(e.width*(1+o)),s=n/(e.height*(1+o)),l=Math.min(a,s),c=ns(l,r,i),h=e.x+e.width/2,g=e.y+e.height/2,S=t/2-h*c,E=n/2-g*c;return[S,E,c]},ko=(e,t=0)=>e.transition().duration(t);function Qv(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var a,s;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+o.x+o.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+o.y+o.height/2}),i},[])}function jR(e,t,n,r,i,o){const{x:a,y:s}=Xi(e),c=t.elementsFromPoint(a,s).find(k=>k.classList.contains("react-flow__handle"));if(c){const k=c.getAttribute("data-nodeid");if(k){const C=Xg(void 0,c),R=c.getAttribute("data-handleid"),x=o({nodeId:k,id:R,type:C});if(x)return{handle:{id:R,type:C,nodeId:k,x:n.x,y:n.y},validHandleResult:x}}}let h=[],g=1/0;if(i.forEach(k=>{const C=Math.sqrt((k.x-n.x)**2+(k.y-n.y)**2);if(C<=r){const R=o(k);C<=g&&(C<g?h=[{handle:k,validHandleResult:R}]:C===g&&h.push({handle:k,validHandleResult:R}),g=C)}}),!h.length)return{handle:null,validHandleResult:px()};if(h.length===1)return h[0];const S=h.some(({validHandleResult:k})=>k.isValid),E=h.some(({handle:k})=>k.type==="target");return h.find(({handle:k,validHandleResult:C})=>E?k.type==="target":S?C.isValid:!0)||h[0]}const zR={source:null,target:null,sourceHandle:null,targetHandle:null},px=()=>({handleDomNode:null,isValid:!1,connection:zR,endHandle:null});function gx(e,t,n,r,i,o,a){const s=i==="target",l=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...px(),handleDomNode:l};if(l){const h=Xg(void 0,l),g=l.getAttribute("data-nodeid"),S=l.getAttribute("data-handleid"),E=l.classList.contains("connectable"),k=l.classList.contains("connectableend"),C={source:s?g:n,sourceHandle:s?S:r,target:s?n:g,targetHandle:s?r:S};c.connection=C,E&&k&&(t===io.Strict?s&&h==="source"||!s&&h==="target":g!==n||S!==r)&&(c.endHandle={nodeId:g,handleId:S,type:h},c.isValid=o(C))}return c}function FR({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[hn]){const{handleBounds:a}=o[hn];let s=[],l=[];a&&(s=Qv(o,a,"source",`${t}-${n}-${r}`),l=Qv(o,a,"target",`${t}-${n}-${r}`)),i.push(...s,...l)}return i},[])}function Xg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jd(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function UR(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function mx({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:a,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const h=nx(e.target),{connectionMode:g,domNode:S,autoPanOnConnect:E,connectionRadius:k,onConnectStart:C,panBy:R,getNodes:x,cancelConnection:w}=o();let _=0,d;const{x:y,y:m}=Xi(e),b=h==null?void 0:h.elementFromPoint(y,m),N=Xg(l,b),D=S==null?void 0:S.getBoundingClientRect();if(!D||!N)return;let G,se=Xi(e,D),J=!1,z=null,M=!1,H=null;const U=FR({nodes:x(),nodeId:n,handleId:t,handleType:N}),B=()=>{if(!E)return;const[W,me]=tx(se,D);R({x:W,y:me}),_=requestAnimationFrame(B)};a({connectionPosition:se,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:t,type:N},connectionEndHandle:null}),C==null||C(e,{nodeId:n,handleId:t,handleType:N});function j(W){const{transform:me}=o();se=Xi(W,D);const{handle:ye,validHandleResult:Te}=jR(W,h,cx(se,me,!1,[1,1]),k,U,be=>gx(be,g,n,t,i?"target":"source",s,h));if(d=ye,J||(B(),J=!0),H=Te.handleDomNode,z=Te.connection,M=Te.isValid,a({connectionPosition:d&&M?BR({x:d.x,y:d.y},me):se,connectionStatus:UR(!!d,M),connectionEndHandle:Te.endHandle}),!d&&!M&&!H)return jd(G);z.source!==z.target&&H&&(jd(G),G=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",M),H.classList.toggle("react-flow__handle-valid",M))}function $(W){var me,ye;(d||H)&&z&&M&&(r==null||r(z)),(ye=(me=o()).onConnectEnd)==null||ye.call(me,W),l&&(c==null||c(W)),jd(G),w(),cancelAnimationFrame(_),J=!1,M=!1,z=null,H=null,h.removeEventListener("mousemove",j),h.removeEventListener("mouseup",$),h.removeEventListener("touchmove",j),h.removeEventListener("touchend",$)}h.addEventListener("mousemove",j),h.addEventListener("mouseup",$),h.addEventListener("touchmove",j),h.addEventListener("touchend",$)}const Zv=()=>!0,HR=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),qR=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:a}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},vx=P.forwardRef(({type:e="source",position:t=Pe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:h,onTouchStart:g,...S},E)=>{var D,G;const k=a||null,C=e==="target",R=ln(),x=DR(),{connectOnClick:w,noPanClassName:_}=Rt(HR,pn),{connecting:d,clickConnecting:y}=Rt(qR(x,k,e),pn);x||(G=(D=R.getState()).onError)==null||G.call(D,"010",ro.error010());const m=se=>{const{defaultEdgeOptions:J,onConnect:z,hasDefaultEdges:M}=R.getState(),H={...J,...se};if(M){const{edges:U,setEdges:B}=R.getState();B(Qg(H,U))}z==null||z(H),s==null||s(H)},b=se=>{if(!x)return;const J=ax(se);i&&(J&&se.button===0||!J)&&mx({event:se,handleId:k,nodeId:x,onConnect:m,isTarget:C,getState:R.getState,setState:R.setState,isValidConnection:n||R.getState().isValidConnection||Zv}),J?h==null||h(se):g==null||g(se)},N=se=>{const{onClickConnectStart:J,onClickConnectEnd:z,connectionClickStartHandle:M,connectionMode:H,isValidConnection:U}=R.getState();if(!x||!M&&!i)return;if(!M){J==null||J(se,{nodeId:x,handleId:k,handleType:e}),R.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:k}});return}const B=nx(se.target),j=n||U||Zv,{connection:$,isValid:W}=gx({nodeId:x,id:k,type:e},H,M.nodeId,M.handleId||null,M.type,j,B);W&&m($),z==null||z(se),R.setState({connectionClickStartHandle:null})};return T("div",{"data-handleid":k,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${k}-${e}`,className:An(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,c,{source:!C,target:C,connectable:r,connectablestart:i,connectableend:o,connecting:y,connectionindicator:r&&(i&&!d||o&&d)}]),onMouseDown:b,onTouchStart:b,onClick:w?N:void 0,ref:E,...S,children:l})});vx.displayName="Handle";var Ll=P.memo(vx);const yx=({data:e,isConnectable:t,targetPosition:n=Pe.Top,sourcePosition:r=Pe.Bottom})=>ae(_t,{children:[T(Ll,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,T(Ll,{type:"source",position:r,isConnectable:t})]});yx.displayName="DefaultNode";var pp=P.memo(yx);const wx=({data:e,isConnectable:t,sourcePosition:n=Pe.Bottom})=>ae(_t,{children:[e==null?void 0:e.label,T(Ll,{type:"source",position:n,isConnectable:t})]});wx.displayName="InputNode";var _x=P.memo(wx);const xx=({data:e,isConnectable:t,targetPosition:n=Pe.Top})=>ae(_t,{children:[T(Ll,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});xx.displayName="OutputNode";var Sx=P.memo(xx);const e0=()=>null;e0.displayName="GroupNode";const $R=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Lu=e=>e.id;function WR(e,t){return pn(e.selectedNodes.map(Lu),t.selectedNodes.map(Lu))&&pn(e.selectedEdges.map(Lu),t.selectedEdges.map(Lu))}const Ex=P.memo(({onSelectionChange:e})=>{const t=ln(),{selectedNodes:n,selectedEdges:r}=Rt($R,WR);return P.useEffect(()=>{var o,a;const i={nodes:n,edges:r};e==null||e(i),(a=(o=t.getState()).onSelectionChange)==null||a.call(o,i)},[n,r,e]),null});Ex.displayName="SelectionListener";const VR=e=>!!e.onSelectionChange;function KR({onSelectionChange:e}){const t=Rt(VR);return e||t?T(Ex,{onSelectionChange:e}):null}const GR=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sa(e,t){P.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function lt(e,t,n){P.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const YR=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:h,nodesFocusable:g,edgesFocusable:S,edgesUpdatable:E,elevateNodesOnSelect:k,minZoom:C,maxZoom:R,nodeExtent:x,onNodesChange:w,onEdgesChange:_,elementsSelectable:d,connectionMode:y,snapGrid:m,snapToGrid:b,translateExtent:N,connectOnClick:D,defaultEdgeOptions:G,fitView:se,fitViewOptions:J,onNodesDelete:z,onEdgesDelete:M,onNodeDrag:H,onNodeDragStart:U,onNodeDragStop:B,onSelectionDrag:j,onSelectionDragStart:$,onSelectionDragStop:W,noPanClassName:me,nodeOrigin:ye,rfId:Te,autoPanOnConnect:be,autoPanOnNodeDrag:Ue,onError:Le,connectionRadius:Ve,isValidConnection:Re})=>{const{setNodes:gt,setEdges:tt,setDefaultNodesAndEdges:xt,setMinZoom:en,setMaxZoom:gn,setTranslateExtent:Nt,setNodeExtent:st,reset:Ft}=Rt(GR,pn),He=ln();return P.useEffect(()=>{const mn=r==null?void 0:r.map(vn=>({...vn,...G}));return xt(n,mn),()=>{Ft()}},[]),lt("defaultEdgeOptions",G,He.setState),lt("connectionMode",y,He.setState),lt("onConnect",i,He.setState),lt("onConnectStart",o,He.setState),lt("onConnectEnd",a,He.setState),lt("onClickConnectStart",s,He.setState),lt("onClickConnectEnd",l,He.setState),lt("nodesDraggable",c,He.setState),lt("nodesConnectable",h,He.setState),lt("nodesFocusable",g,He.setState),lt("edgesFocusable",S,He.setState),lt("edgesUpdatable",E,He.setState),lt("elementsSelectable",d,He.setState),lt("elevateNodesOnSelect",k,He.setState),lt("snapToGrid",b,He.setState),lt("snapGrid",m,He.setState),lt("onNodesChange",w,He.setState),lt("onEdgesChange",_,He.setState),lt("connectOnClick",D,He.setState),lt("fitViewOnInit",se,He.setState),lt("fitViewOnInitOptions",J,He.setState),lt("onNodesDelete",z,He.setState),lt("onEdgesDelete",M,He.setState),lt("onNodeDrag",H,He.setState),lt("onNodeDragStart",U,He.setState),lt("onNodeDragStop",B,He.setState),lt("onSelectionDrag",j,He.setState),lt("onSelectionDragStart",$,He.setState),lt("onSelectionDragStop",W,He.setState),lt("noPanClassName",me,He.setState),lt("nodeOrigin",ye,He.setState),lt("rfId",Te,He.setState),lt("autoPanOnConnect",be,He.setState),lt("autoPanOnNodeDrag",Ue,He.setState),lt("onError",Le,He.setState),lt("connectionRadius",Ve,He.setState),lt("isValidConnection",Re,He.setState),sa(e,gt),sa(t,tt),sa(C,en),sa(R,gn),sa(N,Nt),sa(x,st),null},Xv={display:"none"},JR={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bx="react-flow__node-desc",kx="react-flow__edge-desc",QR="react-flow__aria-live",ZR=e=>e.ariaLiveMessage;function XR({rfId:e}){const t=Rt(ZR);return T("div",{id:`${QR}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:JR,children:t})}function eN({rfId:e,disableKeyboardA11y:t}){return ae(_t,{children:[ae("div",{id:`${bx}-${e}`,style:Xv,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),T("div",{id:`${kx}-${e}`,style:Xv,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&T(XR,{rfId:e})]})}const tN=(e,t,n)=>n===Pe.Left?e-t:n===Pe.Right?e+t:e,nN=(e,t,n)=>n===Pe.Top?e-t:n===Pe.Bottom?e+t:e,ey="react-flow__edgeupdater",ty=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s})=>T("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:An([ey,`${ey}-${s}`]),cx:tN(t,r,e),cy:nN(n,r,e),r,stroke:"transparent",fill:"transparent"}),rN=()=>!0;var la=e=>{const t=({id:n,className:r,type:i,data:o,onClick:a,onEdgeDoubleClick:s,selected:l,animated:c,label:h,labelStyle:g,labelShowBg:S,labelBgStyle:E,labelBgPadding:k,labelBgBorderRadius:C,style:R,source:x,target:w,sourceX:_,sourceY:d,targetX:y,targetY:m,sourcePosition:b,targetPosition:N,elementsSelectable:D,hidden:G,sourceHandleId:se,targetHandleId:J,onContextMenu:z,onMouseEnter:M,onMouseMove:H,onMouseLeave:U,edgeUpdaterRadius:B,onEdgeUpdate:j,onEdgeUpdateStart:$,onEdgeUpdateEnd:W,markerEnd:me,markerStart:ye,rfId:Te,ariaLabel:be,isFocusable:Ue,isUpdatable:Le,pathOptions:Ve,interactionWidth:Re})=>{const gt=P.useRef(null),[tt,xt]=P.useState(!1),[en,gn]=P.useState(!1),Nt=ln(),st=P.useMemo(()=>`url(#${hp(ye,Te)})`,[ye,Te]),Ft=P.useMemo(()=>`url(#${hp(me,Te)})`,[me,Te]);if(G)return null;const He=kt=>{const{edges:In,addSelectedEdges:qn}=Nt.getState();if(D&&(Nt.setState({nodesSelectionActive:!1}),qn([n])),a){const pr=In.find(oe=>oe.id===n);a(kt,pr)}},mn=Ps(n,Nt.getState,s),vn=Ps(n,Nt.getState,z),yn=Ps(n,Nt.getState,M),fr=Ps(n,Nt.getState,H),dr=Ps(n,Nt.getState,U),hr=(kt,In)=>{if(kt.button!==0)return;const{edges:qn,isValidConnection:pr}=Nt.getState(),oe=In?w:x,le=(In?J:se)||null,ve=In?"target":"source",Ne=pr||rN,Ke=In,Fe=qn.find(De=>De.id===n);gn(!0),$==null||$(kt,Fe,ve);const Ge=De=>{gn(!1),W==null||W(De,Fe,ve)};mx({event:kt,handleId:le,nodeId:oe,onConnect:De=>j==null?void 0:j(Fe,De),isTarget:Ke,getState:Nt.getState,setState:Nt.setState,isValidConnection:Ne,edgeUpdaterType:ve,onEdgeUpdateEnd:Ge})},$e=kt=>hr(kt,!0),Rn=kt=>hr(kt,!1),Dn=()=>xt(!0),Un=()=>xt(!1),Hn=!D&&!a,Tr=kt=>{var In;if(ox.includes(kt.key)&&D){const{unselectNodesAndEdges:qn,addSelectedEdges:pr,edges:oe}=Nt.getState();kt.key==="Escape"?((In=gt.current)==null||In.blur(),qn({edges:[oe.find(ve=>ve.id===n)]})):pr([n])}};return ae("g",{className:An(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:Hn,updating:tt}]),onClick:He,onDoubleClick:mn,onContextMenu:vn,onMouseEnter:yn,onMouseMove:fr,onMouseLeave:dr,onKeyDown:Ue?Tr:void 0,tabIndex:Ue?0:void 0,role:Ue?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":be===null?void 0:be||`Edge from ${x} to ${w}`,"aria-describedby":Ue?`${kx}-${Te}`:void 0,ref:gt,children:[!en&&T(e,{id:n,source:x,target:w,selected:l,animated:c,label:h,labelStyle:g,labelShowBg:S,labelBgStyle:E,labelBgPadding:k,labelBgBorderRadius:C,data:o,style:R,sourceX:_,sourceY:d,targetX:y,targetY:m,sourcePosition:b,targetPosition:N,sourceHandleId:se,targetHandleId:J,markerStart:st,markerEnd:Ft,pathOptions:Ve,interactionWidth:Re}),Le&&ae(_t,{children:[(Le==="source"||Le===!0)&&T(ty,{position:b,centerX:_,centerY:d,radius:B,onMouseDown:$e,onMouseEnter:Dn,onMouseOut:Un,type:"source"}),(Le==="target"||Le===!0)&&T(ty,{position:N,centerX:y,centerY:m,radius:B,onMouseDown:Rn,onMouseEnter:Dn,onMouseOut:Un,type:"target"})]})]})};return t.displayName="EdgeWrapper",P.memo(t)};function iN(e){const t={default:la(e.default||Bc),straight:la(e.bezier||Gg),step:la(e.step||Kg),smoothstep:la(e.step||_f),simplebezier:la(e.simplebezier||Vg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=la(e[o]||Bc),i),n);return{...t,...r}}function ny(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case Pe.Top:return{x:r+o/2,y:i};case Pe.Right:return{x:r+o,y:i+a/2};case Pe.Bottom:return{x:r+o/2,y:i+a};case Pe.Left:return{x:r,y:i+a/2}}}function ry(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const oN=(e,t,n,r,i,o)=>{const a=ny(n,e,t),s=ny(o,r,i);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function aN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const h=Lc({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]}),g=Math.max(0,Math.min(h.x2,c.x2)-Math.max(h.x,c.x)),S=Math.max(0,Math.min(h.y2,c.y2)-Math.max(h.y,c.y));return Math.ceil(g*S)>0}function iy(e){var r,i,o,a,s;const t=((r=e==null?void 0:e[hn])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function Cx(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Cx(n,t):!1}function oy(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sN(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!Cx(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height}})}function lN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Ax(e,t,n,r,i=[0,0],o){const a=lN(e,e.extent||r);let s=a;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const h=n.get(e.parentNode),{x:g,y:S}=zo(h,i).positionAbsolute;s=h&&br(g)&&br(S)&&br(h.width)&&br(h.height)?[[g+e.width*i[0],S+e.height*i[1]],[g+h.width-e.width+e.width*i[0],S+h.height-e.height+e.height*i[1]]]:s}else o==null||o("005",ro.error005()),s=a;else if(e.extent&&e.parentNode){const h=n.get(e.parentNode),{x:g,y:S}=zo(h,i).positionAbsolute;s=[[e.extent[0][0]+g,e.extent[0][1]+S],[e.extent[1][0]+g,e.extent[1][1]+S]]}let l={x:0,y:0};if(e.parentNode){const h=n.get(e.parentNode);l=zo(h,i).positionAbsolute}const c=s?Wg(t,s):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function zd({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const ay=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),a=t.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-a.left-s.x)/n,y:(c.top-a.top-s.y)/n,...$g(l)}})};function Ds(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);n(r,{...i})}}function gp({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&a)&&(o({nodes:[l]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function uN(){const e=ln();return P.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Fd(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Rx({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:a}){const s=ln(),[l,c]=P.useState(!1),h=P.useRef([]),g=P.useRef({x:null,y:null}),S=P.useRef(0),E=P.useRef(null),k=P.useRef({x:0,y:0}),C=P.useRef(null),R=P.useRef(!1),x=uN();return P.useEffect(()=>{if(e!=null&&e.current){const w=xr(e.current),_=({x:y,y:m})=>{const{nodeInternals:b,onNodeDrag:N,onSelectionDrag:D,updateNodePositions:G,nodeExtent:se,snapGrid:J,snapToGrid:z,nodeOrigin:M,onError:H}=s.getState();g.current={x:y,y:m};let U=!1;if(h.current=h.current.map(j=>{const $={x:y-j.distance.x,y:m-j.distance.y};z&&($.x=J[0]*Math.round($.x/J[0]),$.y=J[1]*Math.round($.y/J[1]));const W=Ax(j,$,b,se,M,H);return U=U||j.position.x!==W.position.x||j.position.y!==W.position.y,j.position=W.position,j.positionAbsolute=W.positionAbsolute,j}),!U)return;G(h.current,!0,!0),c(!0);const B=i?N:Fd(D);if(B&&C.current){const[j,$]=zd({nodeId:i,dragItems:h.current,nodeInternals:b});B(C.current,j,$)}},d=()=>{if(!E.current)return;const[y,m]=tx(k.current,E.current);if(y!==0||m!==0){const{transform:b,panBy:N}=s.getState();g.current.x=(g.current.x??0)-y/b[2],g.current.y=(g.current.y??0)-m/b[2],N({x:y,y:m})&&_(g.current)}S.current=requestAnimationFrame(d)};if(t)w.on(".drag",null);else{const y=RA().on("start",m=>{var U;const{nodeInternals:b,multiSelectionActive:N,domNode:D,nodesDraggable:G,unselectNodesAndEdges:se,onNodeDragStart:J,onSelectionDragStart:z}=s.getState(),M=i?J:Fd(z);!a&&!N&&i&&((U=b.get(i))!=null&&U.selected||se()),i&&o&&a&&gp({id:i,store:s,nodeRef:e});const H=x(m);if(g.current=H,h.current=sN(b,G,H,i),M&&h.current){const[B,j]=zd({nodeId:i,dragItems:h.current,nodeInternals:b});M(m.sourceEvent,B,j)}E.current=(D==null?void 0:D.getBoundingClientRect())||null,k.current=Xi(m.sourceEvent,E.current)}).on("drag",m=>{const b=x(m),{autoPanOnNodeDrag:N}=s.getState();!R.current&&N&&(R.current=!0,d()),(g.current.x!==b.xSnapped||g.current.y!==b.ySnapped)&&h.current&&(C.current=m.sourceEvent,k.current=Xi(m.sourceEvent,E.current),_(b))}).on("end",m=>{if(c(!1),R.current=!1,cancelAnimationFrame(S.current),h.current){const{updateNodePositions:b,nodeInternals:N,onNodeDragStop:D,onSelectionDragStop:G}=s.getState(),se=i?D:Fd(G);if(b(h.current,!1,!1),se){const[J,z]=zd({nodeId:i,dragItems:h.current,nodeInternals:N});se(m.sourceEvent,J,z)}}}).filter(m=>{const b=m.target;return!m.button&&(!n||!oy(b,`.${n}`,e))&&(!r||oy(b,r,e))});return w.call(y),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,s,i,a,x]),l}function Nx(){const e=ln();return P.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:a,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:h}=e.getState(),g=a().filter(w=>w.selected&&(w.draggable||h&&typeof w.draggable>"u")),S=s?l[0]:5,E=s?l[1]:5,k=n.isShiftPressed?4:1,C=n.x*S*k,R=n.y*E*k,x=g.map(w=>{if(w.positionAbsolute){const _={x:w.positionAbsolute.x+C,y:w.positionAbsolute.y+R};s&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:d,position:y}=Ax(w,_,r,i,void 0,c);w.position=y,w.positionAbsolute=d}return w});o(x,!0,!1)},[])}const Fa={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Is=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:a,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:h,onMouseEnter:g,onMouseMove:S,onMouseLeave:E,onContextMenu:k,onDoubleClick:C,style:R,className:x,isDraggable:w,isSelectable:_,isConnectable:d,isFocusable:y,selectNodesOnDrag:m,sourcePosition:b,targetPosition:N,hidden:D,resizeObserver:G,dragHandle:se,zIndex:J,isParent:z,noDragClassName:M,noPanClassName:H,initialized:U,disableKeyboardA11y:B,ariaLabel:j,rfId:$})=>{const W=ln(),me=P.useRef(null),ye=P.useRef(b),Te=P.useRef(N),be=P.useRef(r),Ue=_||w||h||g||S||E,Le=Nx(),Ve=Ds(n,W.getState,g),Re=Ds(n,W.getState,S),gt=Ds(n,W.getState,E),tt=Ds(n,W.getState,k),xt=Ds(n,W.getState,C),en=st=>{if(_&&(!m||!w)&&gp({id:n,store:W,nodeRef:me}),h){const Ft=W.getState().nodeInternals.get(n);h(st,{...Ft})}},gn=st=>{if(!fp(st))if(ox.includes(st.key)&&_){const Ft=st.key==="Escape";gp({id:n,store:W,unselect:Ft,nodeRef:me})}else!B&&w&&c&&Object.prototype.hasOwnProperty.call(Fa,st.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${st.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~a}`}),Le({x:Fa[st.key].x,y:Fa[st.key].y,isShiftPressed:st.shiftKey}))};P.useEffect(()=>{if(me.current&&!D){const st=me.current;return G==null||G.observe(st),()=>G==null?void 0:G.unobserve(st)}},[D]),P.useEffect(()=>{const st=be.current!==r,Ft=ye.current!==b,He=Te.current!==N;me.current&&(st||Ft||He)&&(st&&(be.current=r),Ft&&(ye.current=b),He&&(Te.current=N),W.getState().updateNodeDimensions([{id:n,nodeElement:me.current,forceUpdate:!0}]))},[n,r,b,N]);const Nt=Rx({nodeRef:me,disabled:D||!w,noDragClassName:M,handleSelector:se,nodeId:n,isSelectable:_,selectNodesOnDrag:m});return D?null:T("div",{className:An(["react-flow__node",`react-flow__node-${r}`,{[H]:w},x,{selected:c,selectable:_,parent:z,dragging:Nt}]),ref:me,style:{zIndex:J,transform:`translate(${s}px,${l}px)`,pointerEvents:Ue?"all":"none",visibility:U?"visible":"hidden",...R},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Ve,onMouseMove:Re,onMouseLeave:gt,onContextMenu:tt,onClick:en,onDoubleClick:xt,onKeyDown:y?gn:void 0,tabIndex:y?0:void 0,role:y?"button":void 0,"aria-describedby":B?void 0:`${bx}-${$}`,"aria-label":j,children:T(PR,{value:n,children:T(e,{id:n,data:i,type:r,xPos:o,yPos:a,selected:c,isConnectable:d,sourcePosition:b,targetPosition:N,dragging:Nt,dragHandle:se,zIndex:J})})})};return t.displayName="NodeWrapper",P.memo(t)};function cN(e){const t={input:Is(e.input||_x),default:Is(e.default||pp),output:Is(e.output||Sx),group:Is(e.group||e0)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Is(e[o]||pp),i),n);return{...t,...r}}const fN=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},dN=typeof document<"u"?document:null;var Bl=(e=null,t={target:dN})=>{const[n,r]=P.useState(!1),i=P.useRef(!1),o=P.useRef(new Set([])),[a,s]=P.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),h=c.reduce((g,S)=>g.concat(...S),[]);return[c,h]}return[[],[]]},[e]);return P.useEffect(()=>{var l,c;if(e!==null){const h=E=>{if(i.current=E.ctrlKey||E.metaKey||E.shiftKey,!i.current&&fp(E))return!1;const k=ly(E.code,s);o.current.add(E[k]),sy(a,o.current,!1)&&(E.preventDefault(),r(!0))},g=E=>{if(!i.current&&fp(E))return!1;const k=ly(E.code,s);sy(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(E[k]),i.current=!1},S=()=>{o.current.clear(),r(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",h),(c=t==null?void 0:t.target)==null||c.addEventListener("keyup",g),window.addEventListener("blur",S),()=>{var E,k;(E=t==null?void 0:t.target)==null||E.removeEventListener("keydown",h),(k=t==null?void 0:t.target)==null||k.removeEventListener("keyup",g),window.removeEventListener("blur",S)}}},[e,r]),n};function sy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function ly(e,t){return t.includes(e)?"code":"key"}function Tx(e,t,n,r){var a,s;if(!e.parentNode)return n;const i=t.get(e.parentNode),o=zo(i,r);return Tx(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[hn])==null?void 0:a.z)??0)>(n.z??0)?((s=i[hn])==null?void 0:s.z)??0:n.z??0},r)}function Ox(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:o,y:a,z:s}=Tx(r,e,{...r.position,z:((i=r[hn])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:a},r[hn].z=s,n!=null&&n[r.id]&&(r[hn].isParent=!0)}})}function Ud(e,t,n,r){const i=new Map,o={},a=r?1e3:0;return e.forEach(s=>{var g;const l=(br(s.zIndex)?s.zIndex:0)+(s.selected?a:0),c=t.get(s.id),h={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(h.parentNode=s.parentNode,o[s.parentNode]=!0),Object.defineProperty(h,hn,{enumerable:!1,value:{handleBounds:(g=c==null?void 0:c[hn])==null?void 0:g.handleBounds,z:l}}),i.set(s.id,h)}),Ox(i,n,o),i}function Px(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:h,nodeOrigin:g}=e(),S=t.initial&&!c&&h;if(s&&l&&(S||!t.initial)){const k=n().filter(R=>{var w;const x=t.includeHiddenNodes?R.width&&R.height:!R.hidden;return(w=t.nodes)!=null&&w.length?x&&t.nodes.some(_=>_.id===R.id):x}),C=k.every(R=>R.width&&R.height);if(k.length>0&&C){const R=Zg(k,g),[x,w,_]=hx(R,r,i,t.minZoom??o,t.maxZoom??a,t.padding??.1),d=gi.translate(x,w).scale(_);return typeof t.duration=="number"&&t.duration>0?s.transform(ko(l,t.duration),d):s.transform(l,d),!0}}return!1}function hN(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[hn]:r[hn],selected:n.selected})}),new Map(t)}function pN(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Bu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:hN(e,i)}),a==null||a(e)),t!=null&&t.length&&(c&&r({edges:pN(t,o)}),s==null||s(t))}const ua=()=>{},gN={zoomIn:ua,zoomOut:ua,zoomTo:ua,getZoom:()=>1,setViewport:ua,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ua,fitBounds:ua,project:e=>e,viewportInitialized:!1},mN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vN=()=>{const e=ln(),{d3Zoom:t,d3Selection:n}=Rt(mN,pn);return P.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(ko(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(ko(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(ko(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[a,s,l]=e.getState().transform,c=gi.translate(i.x??a,i.y??s).scale(i.zoom??l);t.transform(ko(n,o==null?void 0:o.duration),c)},getViewport:()=>{const[i,o,a]=e.getState().transform;return{x:i,y:o,zoom:a}},fitView:i=>Px(e.getState,i),setCenter:(i,o,a)=>{const{width:s,height:l,maxZoom:c}=e.getState(),h=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:c,g=s/2-i*h,S=l/2-o*h,E=gi.translate(g,S).scale(h);t.transform(ko(n,a==null?void 0:a.duration),E)},fitBounds:(i,o)=>{const{width:a,height:s,minZoom:l,maxZoom:c}=e.getState(),[h,g,S]=hx(i,a,s,l,c,(o==null?void 0:o.padding)??.1),E=gi.translate(h,g).scale(S);t.transform(ko(n,o==null?void 0:o.duration),E)},project:i=>{const{transform:o,snapToGrid:a,snapGrid:s}=e.getState();return cx(i,o,a,s)},viewportInitialized:!0}:gN,[t,n])};function fs(){const e=vN(),t=ln(),n=P.useCallback(()=>t.getState().getNodes().map(C=>({...C})),[]),r=P.useCallback(C=>t.getState().nodeInternals.get(C),[]),i=P.useCallback(()=>{const{edges:C=[]}=t.getState();return C.map(R=>({...R}))},[]),o=P.useCallback(C=>{const{edges:R=[]}=t.getState();return R.find(x=>x.id===C)},[]),a=P.useCallback(C=>{const{getNodes:R,setNodes:x,hasDefaultNodes:w,onNodesChange:_}=t.getState(),d=R(),y=typeof C=="function"?C(d):C;if(w)x(y);else if(_){const m=y.length===0?d.map(b=>({type:"remove",id:b.id})):y.map(b=>({item:b,type:"reset"}));_(m)}},[]),s=P.useCallback(C=>{const{edges:R=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:_}=t.getState(),d=typeof C=="function"?C(R):C;if(w)x(d);else if(_){const y=d.length===0?R.map(m=>({type:"remove",id:m.id})):d.map(m=>({item:m,type:"reset"}));_(y)}},[]),l=P.useCallback(C=>{const R=Array.isArray(C)?C:[C],{getNodes:x,setNodes:w,hasDefaultNodes:_,onNodesChange:d}=t.getState();if(_){const m=[...x(),...R];w(m)}else if(d){const y=R.map(m=>({item:m,type:"add"}));d(y)}},[]),c=P.useCallback(C=>{const R=Array.isArray(C)?C:[C],{edges:x=[],setEdges:w,hasDefaultEdges:_,onEdgesChange:d}=t.getState();if(_)w([...x,...R]);else if(d){const y=R.map(m=>({item:m,type:"add"}));d(y)}},[]),h=P.useCallback(()=>{const{getNodes:C,edges:R=[],transform:x}=t.getState(),[w,_,d]=x;return{nodes:C().map(y=>({...y})),edges:R.map(y=>({...y})),viewport:{x:w,y:_,zoom:d}}},[]),g=P.useCallback(({nodes:C,edges:R})=>{const{nodeInternals:x,getNodes:w,edges:_,hasDefaultNodes:d,hasDefaultEdges:y,onNodesDelete:m,onEdgesDelete:b,onNodesChange:N,onEdgesChange:D}=t.getState(),G=(C||[]).map(H=>H.id),se=(R||[]).map(H=>H.id),J=w().reduce((H,U)=>{const B=!G.includes(U.id)&&U.parentNode&&H.find($=>$.id===U.parentNode);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(G.includes(U.id)||B)&&H.push(U),H},[]),z=_.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),M=z.filter(H=>se.includes(H.id));if(J||M){const H=dx(J,z),U=[...M,...H],B=U.reduce((j,$)=>(j.includes($.id)||j.push($.id),j),[]);if((y||d)&&(y&&t.setState({edges:_.filter(j=>!B.includes(j.id))}),d&&(J.forEach(j=>{x.delete(j.id)}),t.setState({nodeInternals:new Map(x)}))),B.length>0&&(b==null||b(U),D&&D(B.map(j=>({id:j,type:"remove"})))),J.length>0&&(m==null||m(J),N)){const j=J.map($=>({id:$.id,type:"remove"}));N(j)}}},[]),S=P.useCallback(C=>{const R=bR(C),x=R?null:t.getState().nodeInternals.get(C.id);return[R?C:Vv(x),x,R]},[]),E=P.useCallback((C,R=!0,x)=>{const[w,_,d]=S(C);return w?(x||t.getState().getNodes()).filter(y=>{if(!d&&(y.id===_.id||!y.positionAbsolute))return!1;const m=Vv(y),b=cp(m,w);return R&&b>0||b>=C.width*C.height}):[]},[]),k=P.useCallback((C,R,x=!0)=>{const[w]=S(C);if(!w)return!1;const _=cp(w,R);return x&&_>0||_>=C.width*C.height},[]);return P.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:a,setEdges:s,addNodes:l,addEdges:c,toObject:h,deleteElements:g,getIntersectingNodes:E,isNodeIntersecting:k}),[e,n,r,i,o,a,s,l,c,h,g,E,k])}var yN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ln(),{deleteElements:r}=fs(),i=Bl(e),o=Bl(t);P.useEffect(()=>{if(i){const{edges:a,getNodes:s}=n.getState(),l=s().filter(h=>h.selected),c=a.filter(h=>h.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),P.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function wN(e){const t=ln();P.useEffect(()=>{let n;const r=()=>{var o,a;if(!e.current)return;const i=$g(e.current);(i.height===0||i.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",ro.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const t0={position:"absolute",width:"100%",height:"100%",top:0,left:0},_N=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hd=e=>({x:e.x,y:e.y,zoom:e.k}),ca=(e,t)=>e.target.closest(`.${t}`),uy=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),xN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),SN=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=za.Free,zoomOnDoubleClick:c=!0,elementsSelectable:h,panOnDrag:g=!0,defaultViewport:S,translateExtent:E,minZoom:k,maxZoom:C,zoomActivationKeyCode:R,preventScrolling:x=!0,children:w,noWheelClassName:_,noPanClassName:d})=>{const y=P.useRef(),m=ln(),b=P.useRef(!1),N=P.useRef(!1),D=P.useRef(null),G=P.useRef({x:0,y:0,zoom:0}),{d3Zoom:se,d3Selection:J,d3ZoomHandler:z,userSelectionActive:M}=Rt(xN,pn),H=Bl(R),U=P.useRef(0);return wN(D),P.useEffect(()=>{if(D.current){const B=D.current.getBoundingClientRect(),j=X_().scaleExtent([k,C]).translateExtent(E),$=xr(D.current).call(j),W=gi.translate(S.x,S.y).scale(ns(S.zoom,k,C)),me=[[0,0],[B.width,B.height]],ye=j.constrain()(W,me,E);j.transform($,ye),m.setState({d3Zoom:j,d3Selection:$,d3ZoomHandler:$.on("wheel.zoom"),transform:[ye.x,ye.y,ye.k],domNode:D.current.closest(".react-flow")})}},[]),P.useEffect(()=>{J&&se&&(a&&!H&&!M?J.on("wheel.zoom",B=>{if(ca(B,_))return!1;B.preventDefault(),B.stopImmediatePropagation();const j=J.property("__zoom").k||1;if(B.ctrlKey&&o){const ye=jr(B),Te=-B.deltaY*(B.deltaMode===1?.05:B.deltaMode?1:.002)*10,be=j*Math.pow(2,Te);se.scaleTo(J,be,ye);return}const $=B.deltaMode===1?20:1,W=l===za.Vertical?0:B.deltaX*$,me=l===za.Horizontal?0:B.deltaY*$;se.translateBy(J,-(W/j)*s,-(me/j)*s)},{passive:!1}):typeof z<"u"&&J.on("wheel.zoom",function(B,j){if(!x||ca(B,_))return null;B.preventDefault(),z.call(this,B,j)},{passive:!1}))},[M,a,l,J,se,z,H,o,x,_]),P.useEffect(()=>{se&&se.on("start",B=>{var $;if(!B.sourceEvent)return null;U.current=B.sourceEvent.button;const{onViewportChangeStart:j}=m.getState();if(b.current=!0,(($=B.sourceEvent)==null?void 0:$.type)==="mousedown"&&m.setState({paneDragging:!0}),t||j){const W=Hd(B.transform);G.current=W,j==null||j(W),t==null||t(B.sourceEvent,W)}})},[se,t]),P.useEffect(()=>{se&&(M&&!b.current?se.on("zoom",null):M||se.on("zoom",B=>{const{onViewportChange:j}=m.getState();if(m.setState({transform:[B.transform.x,B.transform.y,B.transform.k]}),N.current=!!(r&&uy(g,U.current??0)),e||j){const $=Hd(B.transform);j==null||j($),e==null||e(B.sourceEvent,$)}}))},[M,se,e,g,r]),P.useEffect(()=>{se&&se.on("end",B=>{if(!B.sourceEvent)return null;const{onViewportChangeEnd:j}=m.getState();if(b.current=!1,m.setState({paneDragging:!1}),r&&uy(g,U.current??0)&&!N.current&&r(B.sourceEvent),N.current=!1,(n||j)&&_N(G.current,B.transform)){const $=Hd(B.transform);G.current=$,clearTimeout(y.current),y.current=setTimeout(()=>{j==null||j($),n==null||n(B.sourceEvent,$)},a?150:0)}})},[se,a,g,n,r]),P.useEffect(()=>{se&&se.filter(B=>{const j=H||i,$=o&&B.ctrlKey;if(B.button===1&&B.type==="mousedown"&&(ca(B,"react-flow__node")||ca(B,"react-flow__edge")))return!0;if(!g&&!j&&!a&&!c&&!o||M||!c&&B.type==="dblclick"||ca(B,_)&&B.type==="wheel"||ca(B,d)&&B.type!=="wheel"||!o&&B.ctrlKey&&B.type==="wheel"||!j&&!a&&!$&&B.type==="wheel"||!g&&(B.type==="mousedown"||B.type==="touchstart")||Array.isArray(g)&&!g.includes(B.button)&&(B.type==="mousedown"||B.type==="touchstart"))return!1;const W=Array.isArray(g)&&g.includes(B.button)||!B.button||B.button<=1;return(!B.ctrlKey||B.type==="wheel")&&W})},[M,se,i,o,a,c,g,h,H]),T("div",{className:"react-flow__renderer",ref:D,style:t0,children:w})},EN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bN(){const{userSelectionActive:e,userSelectionRect:t}=Rt(EN,pn);return e&&t?T("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function cy(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Dx(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(s=>s.id===i.id);if(o.length===0)return r.push(i),r;const a={...i};for(const s of o)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&cy(r,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&cy(r,a);break}case"remove":return r}return r.push(a),r},n)}function Ix(e,t){return Dx(e,t)}function kN(e,t){return Dx(e,t)}const Bi=(e,t)=>({id:e,type:"select",selected:t});function Aa(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Bi(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Bi(r.id,!1))),n},[])}const qd=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},CN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Mx=P.memo(({isSelecting:e,selectionMode:t=rs.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:h,children:g})=>{const S=P.useRef(null),E=ln(),k=P.useRef(0),C=P.useRef(0),R=P.useRef(),{userSelectionActive:x,elementsSelectable:w,dragging:_}=Rt(CN,pn),d=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),k.current=0,C.current=0},y=z=>{o==null||o(z),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},m=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}a==null||a(z)},b=s?z=>s(z):void 0,N=z=>{const{resetSelectedElements:M,domNode:H}=E.getState();if(R.current=H==null?void 0:H.getBoundingClientRect(),!w||!e||z.button!==0||z.target!==S.current||!R.current)return;const{x:U,y:B}=Xi(z,R.current);M(),E.setState({userSelectionRect:{width:0,height:0,startX:U,startY:B,x:U,y:B}}),r==null||r(z)},D=z=>{const{userSelectionRect:M,nodeInternals:H,edges:U,transform:B,onNodesChange:j,onEdgesChange:$,nodeOrigin:W,getNodes:me}=E.getState();if(!e||!R.current||!M)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ye=Xi(z,R.current),Te=M.startX??0,be=M.startY??0,Ue={...M,x:ye.x<Te?ye.x:Te,y:ye.y<be?ye.y:be,width:Math.abs(ye.x-Te),height:Math.abs(ye.y-be)},Le=me(),Ve=fx(H,Ue,B,t===rs.Partial,!0,W),Re=dx(Ve,U).map(tt=>tt.id),gt=Ve.map(tt=>tt.id);if(k.current!==gt.length){k.current=gt.length;const tt=Aa(Le,gt);tt.length&&(j==null||j(tt))}if(C.current!==Re.length){C.current=Re.length;const tt=Aa(U,Re);tt.length&&($==null||$(tt))}E.setState({userSelectionRect:Ue})},G=z=>{if(z.button!==0)return;const{userSelectionRect:M}=E.getState();!x&&M&&z.target===S.current&&(y==null||y(z)),E.setState({nodesSelectionActive:k.current>0}),d(),i==null||i(z)},se=z=>{x&&(E.setState({nodesSelectionActive:k.current>0}),i==null||i(z)),d()},J=w&&(e||x);return ae("div",{className:An(["react-flow__pane",{dragging:_,selection:e}]),onClick:J?void 0:qd(y,S),onContextMenu:qd(m,S),onWheel:qd(b,S),onMouseEnter:J?void 0:l,onMouseDown:J?N:void 0,onMouseMove:J?D:c,onMouseUp:J?G:void 0,onMouseLeave:J?se:h,ref:S,style:t0,children:[g,T(bN,{})]})});Mx.displayName="Pane";const AN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Zg(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function RN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ln(),{width:i,height:o,x:a,y:s,transformString:l,userSelectionActive:c}=Rt(AN,pn),h=Nx(),g=P.useRef(null);if(P.useEffect(()=>{var k;n||(k=g.current)==null||k.focus({preventScroll:!0})},[n]),Rx({nodeRef:g}),c||!i||!o)return null;const S=e?k=>{const C=r.getState().getNodes().filter(R=>R.selected);e(k,C)}:void 0,E=k=>{Object.prototype.hasOwnProperty.call(Fa,k.key)&&h({x:Fa[k.key].x,y:Fa[k.key].y,isShiftPressed:k.shiftKey})};return T("div",{className:An(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:T("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:S,tabIndex:n?void 0:-1,onKeyDown:n?void 0:E,style:{width:i,height:o,top:s,left:a}})})}var NN=P.memo(RN);const TN=e=>e.nodesSelectionActive,Lx=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:h,selectionKeyCode:g,selectionOnDrag:S,selectionMode:E,onSelectionStart:k,onSelectionEnd:C,multiSelectionKeyCode:R,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:_,zoomOnScroll:d,zoomOnPinch:y,panOnScroll:m,panOnScrollSpeed:b,panOnScrollMode:N,zoomOnDoubleClick:D,panOnDrag:G,defaultViewport:se,translateExtent:J,minZoom:z,maxZoom:M,preventScrolling:H,onSelectionContextMenu:U,noWheelClassName:B,noPanClassName:j,disableKeyboardA11y:$})=>{const W=Rt(TN),me=Bl(g),Te=Bl(x)||G,be=me||S&&Te!==!0;return yN({deleteKeyCode:s,multiSelectionKeyCode:R}),T(SN,{onMove:l,onMoveStart:c,onMoveEnd:h,onPaneContextMenu:o,elementsSelectable:_,zoomOnScroll:d,zoomOnPinch:y,panOnScroll:m,panOnScrollSpeed:b,panOnScrollMode:N,zoomOnDoubleClick:D,panOnDrag:!me&&Te,defaultViewport:se,translateExtent:J,minZoom:z,maxZoom:M,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:B,noPanClassName:j,children:ae(Mx,{onSelectionStart:k,onSelectionEnd:C,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:Te,isSelecting:!!be,selectionMode:E,children:[e,W&&T(NN,{onSelectionContextMenu:U,noPanClassName:j,disableKeyboardA11y:$})]})})};Lx.displayName="FlowRenderer";var ON=P.memo(Lx);function PN(e){return Rt(P.useCallback(n=>e?fx(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const DN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Bx=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:a}=Rt(DN,pn),s=PN(e.onlyRenderVisibleElements),l=P.useRef(),c=P.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(g=>{const S=g.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));o(S)});return l.current=h,h},[]);return P.useEffect(()=>()=>{var h;(h=l==null?void 0:l.current)==null||h.disconnect()},[]),T("div",{className:"react-flow__nodes",style:t0,children:s.map(h=>{var y,m;let g=h.type||"default";e.nodeTypes[g]||(a==null||a("003",ro.error003(g)),g="default");const S=e.nodeTypes[g]||e.nodeTypes.default,E=!!(h.draggable||t&&typeof h.draggable>"u"),k=!!(h.selectable||i&&typeof h.selectable>"u"),C=!!(h.connectable||n&&typeof h.connectable>"u"),R=!!(h.focusable||r&&typeof h.focusable>"u"),x=e.nodeExtent?Wg(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,w=(x==null?void 0:x.x)??0,_=(x==null?void 0:x.y)??0,d=fN({x:w,y:_,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return T(S,{id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition||Pe.Bottom,targetPosition:h.targetPosition||Pe.Top,hidden:h.hidden,xPos:w,yPos:_,xPosOrigin:d.x,yPosOrigin:d.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:E,isSelectable:k,isConnectable:C,isFocusable:R,resizeObserver:c,dragHandle:h.dragHandle,zIndex:((y=h[hn])==null?void 0:y.z)??0,isParent:!!((m=h[hn])!=null&&m.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel},h.id)})})};Bx.displayName="NodeRenderer";var IN=P.memo(Bx);const MN=[{level:0,isMaxLevel:!0,edges:[]}];function LN(e,t,n=!1){let r=-1;const i=e.reduce((a,s)=>{var h,g;const l=br(s.zIndex);let c=l?s.zIndex:0;if(n){const S=t.get(s.target),E=t.get(s.source),k=s.selected||(S==null?void 0:S.selected)||(E==null?void 0:E.selected),C=Math.max(((h=E==null?void 0:E[hn])==null?void 0:h.z)||0,((g=S==null?void 0:S[hn])==null?void 0:g.z)||0,1e3);c=(l?s.zIndex:0)+(k?C:0)}return a[c]?a[c].push(s):a[c]=[s],r=c>r?c:r,a},{}),o=Object.entries(i).map(([a,s])=>{const l=+a;return{edges:s,level:l,isMaxLevel:l===r}});return o.length===0?MN:o}function BN(e,t,n){const r=Rt(P.useCallback(i=>e?i.edges.filter(o=>{const a=t.get(o.source),s=t.get(o.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&aN({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return LN(r,t,n)}const jN=({color:e="none",strokeWidth:t=1})=>T("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),zN=({color:e="none",strokeWidth:t=1})=>T("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),fy={[jo.Arrow]:jN,[jo.ArrowClosed]:zN};function FN(e){const t=ln();return P.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(fy,e)?fy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",ro.error009(e)),null)},[e])}const UN=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=FN(t);return l?T("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:T(l,{color:n,strokeWidth:a})}):null},HN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const s=hp(a,t);r.includes(s)||(i.push({id:s,color:a.color||e,...a}),r.push(s))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},jx=({defaultColor:e,rfId:t})=>{const n=Rt(P.useCallback(HN({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,a)=>o.id!==i[a].id)));return T("defs",{children:n.map(r=>T(UN,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};jx.displayName="MarkerDefinitions";var qN=P.memo(jx);const $N=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeUpdate:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:h,onEdgeClick:g,edgeUpdaterRadius:S,onEdgeDoubleClick:E,onEdgeUpdateStart:k,onEdgeUpdateEnd:C,children:R})=>{const{edgesFocusable:x,edgesUpdatable:w,elementsSelectable:_,width:d,height:y,connectionMode:m,nodeInternals:b,onError:N}=Rt($N,pn),D=BN(t,b,n);return d?ae(_t,{children:[D.map(({level:G,edges:se,isMaxLevel:J})=>ae("svg",{style:{zIndex:G},width:d,height:y,className:"react-flow__edges react-flow__container",children:[J&&T(qN,{defaultColor:e,rfId:r}),T("g",{children:se.map(z=>{const[M,H,U]=iy(b.get(z.source)),[B,j,$]=iy(b.get(z.target));if(!U||!$)return null;let W=z.type||"default";i[W]||(N==null||N("011",ro.error011(W)),W="default");const me=i[W]||i.default,ye=m===io.Strict?j.target:(j.target??[]).concat(j.source??[]),Te=ry(H.source,z.sourceHandle),be=ry(ye,z.targetHandle),Ue=(Te==null?void 0:Te.position)||Pe.Bottom,Le=(be==null?void 0:be.position)||Pe.Top,Ve=!!(z.focusable||x&&typeof z.focusable>"u"),Re=typeof a<"u"&&(z.updatable||w&&typeof z.updatable>"u");if(!Te||!be)return N==null||N("008",ro.error008(Te,z)),null;const{sourceX:gt,sourceY:tt,targetX:xt,targetY:en}=oN(M,Te,Ue,B,be,Le);return T(me,{id:z.id,className:An([z.className,o]),type:W,data:z.data,selected:!!z.selected,animated:!!z.animated,hidden:!!z.hidden,label:z.label,labelStyle:z.labelStyle,labelShowBg:z.labelShowBg,labelBgStyle:z.labelBgStyle,labelBgPadding:z.labelBgPadding,labelBgBorderRadius:z.labelBgBorderRadius,style:z.style,source:z.source,target:z.target,sourceHandleId:z.sourceHandle,targetHandleId:z.targetHandle,markerEnd:z.markerEnd,markerStart:z.markerStart,sourceX:gt,sourceY:tt,targetX:xt,targetY:en,sourcePosition:Ue,targetPosition:Le,elementsSelectable:_,onEdgeUpdate:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:h,onClick:g,edgeUpdaterRadius:S,onEdgeDoubleClick:E,onEdgeUpdateStart:k,onEdgeUpdateEnd:C,rfId:r,ariaLabel:z.ariaLabel,isFocusable:Ve,isUpdatable:Re,pathOptions:"pathOptions"in z?z.pathOptions:void 0,interactionWidth:z.interactionWidth},z.id)})})]},G)),R]}):null};zx.displayName="EdgeRenderer";var WN=P.memo(zx);const VN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function KN({children:e}){const t=Rt(VN);return T("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function GN(e){const t=fs(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const YN={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top},Fx=({nodeId:e,handleType:t,style:n,type:r=Ui.Bezier,CustomComponent:i,connectionStatus:o})=>{var m,b,N;const{fromNode:a,handleId:s,toX:l,toY:c,connectionMode:h}=Rt(P.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),pn),g=(m=a==null?void 0:a[hn])==null?void 0:m.handleBounds;let S=g==null?void 0:g[t];if(h===io.Loose&&(S=S||(g==null?void 0:g[t==="source"?"target":"source"])),!a||!S)return null;const E=s?S.find(D=>D.id===s):S[0],k=E?E.x+E.width/2:(a.width??0)/2,C=E?E.y+E.height/2:a.height??0,R=(((b=a.positionAbsolute)==null?void 0:b.x)??0)+k,x=(((N=a.positionAbsolute)==null?void 0:N.y)??0)+C,w=E==null?void 0:E.position,_=w?YN[w]:null;if(!w||!_)return null;if(i)return T(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:E,fromX:R,fromY:x,toX:l,toY:c,fromPosition:w,toPosition:_,connectionStatus:o});let d="";const y={sourceX:R,sourceY:x,sourcePosition:w,targetX:l,targetY:c,targetPosition:_};return r===Ui.Bezier?[d]=Yg(y):r===Ui.Step?[d]=dp({...y,borderRadius:0}):r===Ui.SmoothStep?[d]=dp(y):r===Ui.SimpleBezier?[d]=ux(y):d=`M${R},${x} ${l},${c}`,T("path",{d,fill:"none",className:"react-flow__connection-path",style:n})};Fx.displayName="ConnectionLine";const JN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function QN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:a,width:s,height:l,connectionStatus:c}=Rt(JN,pn);return!(i&&o&&s&&a)?null:T("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:T("g",{className:An(["react-flow__connection",c]),children:T(Fx,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:c})})})}const Ux=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:S,onNodeContextMenu:E,onSelectionContextMenu:k,onSelectionStart:C,onSelectionEnd:R,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:d,selectionKeyCode:y,selectionOnDrag:m,selectionMode:b,multiSelectionKeyCode:N,panActivationKeyCode:D,zoomActivationKeyCode:G,deleteKeyCode:se,onlyRenderVisibleElements:J,elementsSelectable:z,selectNodesOnDrag:M,defaultViewport:H,translateExtent:U,minZoom:B,maxZoom:j,preventScrolling:$,defaultMarkerColor:W,zoomOnScroll:me,zoomOnPinch:ye,panOnScroll:Te,panOnScrollSpeed:be,panOnScrollMode:Ue,zoomOnDoubleClick:Le,panOnDrag:Ve,onPaneClick:Re,onPaneMouseEnter:gt,onPaneMouseMove:tt,onPaneMouseLeave:xt,onPaneScroll:en,onPaneContextMenu:gn,onEdgeUpdate:Nt,onEdgeContextMenu:st,onEdgeMouseEnter:Ft,onEdgeMouseMove:He,onEdgeMouseLeave:mn,edgeUpdaterRadius:vn,onEdgeUpdateStart:yn,onEdgeUpdateEnd:fr,noDragClassName:dr,noWheelClassName:hr,noPanClassName:$e,elevateEdgesOnSelect:Rn,disableKeyboardA11y:Dn,nodeOrigin:Un,nodeExtent:Hn,rfId:Tr})=>(GN(o),T(ON,{onPaneClick:Re,onPaneMouseEnter:gt,onPaneMouseMove:tt,onPaneMouseLeave:xt,onPaneContextMenu:gn,onPaneScroll:en,deleteKeyCode:se,selectionKeyCode:y,selectionOnDrag:m,selectionMode:b,onSelectionStart:C,onSelectionEnd:R,multiSelectionKeyCode:N,panActivationKeyCode:D,zoomActivationKeyCode:G,elementsSelectable:z,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:me,zoomOnPinch:ye,zoomOnDoubleClick:Le,panOnScroll:Te,panOnScrollSpeed:be,panOnScrollMode:Ue,panOnDrag:Ve,defaultViewport:H,translateExtent:U,minZoom:B,maxZoom:j,onSelectionContextMenu:k,preventScrolling:$,noDragClassName:dr,noWheelClassName:hr,noPanClassName:$e,disableKeyboardA11y:Dn,children:ae(KN,{children:[T(WN,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:Nt,onlyRenderVisibleElements:J,onEdgeContextMenu:st,onEdgeMouseEnter:Ft,onEdgeMouseMove:He,onEdgeMouseLeave:mn,onEdgeUpdateStart:yn,onEdgeUpdateEnd:fr,edgeUpdaterRadius:vn,defaultMarkerColor:W,noPanClassName:$e,elevateEdgesOnSelect:!!Rn,disableKeyboardA11y:Dn,rfId:Tr,children:T(QN,{style:w,type:x,component:_,containerStyle:d})}),T("div",{className:"react-flow__edgelabel-renderer"}),T(IN,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:S,onNodeContextMenu:E,selectNodesOnDrag:M,onlyRenderVisibleElements:J,noPanClassName:$e,noDragClassName:dr,disableKeyboardA11y:Dn,nodeOrigin:Un,nodeExtent:Hn,rfId:Tr})]})}));Ux.displayName="GraphView";var ZN=P.memo(Ux);const mp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Oi={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mp,nodeExtent:mp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:io.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:kR,isValidConnection:void 0},XN=()=>Bg((e,t)=>({...Oi,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Ud(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",a=i?Ud(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),h=l==null?void 0:l.querySelector(".react-flow__viewport");if(!h)return;const g=window.getComputedStyle(h),{m22:S}=new window.DOMMatrixReadOnly(g.transform),E=n.reduce((C,R)=>{const x=i.get(R.id);if(x){const w=$g(R.nodeElement);!!(w.width&&w.height&&(x.width!==w.width||x.height!==w.height||R.forceUpdate))&&(i.set(x.id,{...x,[hn]:{...x[hn],handleBounds:{source:ay(".source",R.nodeElement,S,c),target:ay(".target",R.nodeElement,S,c)}},...w}),C.push({id:x.id,type:"dimensions",dimensions:w}))}return C},[]);Ox(i,c);const k=a||o&&!a&&Px(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:k}),(E==null?void 0:E.length)>0&&(r==null||r(E))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),a=n.map(s=>{const l={id:s.id,type:"position",dragging:i};return r&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});o(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const c=Ix(n,s()),h=Ud(c,i,a,l);e({nodeInternals:h})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(l=>Bi(l,!0)):(a=Aa(o(),n),s=Aa(i,[])),Bu({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(l=>Bi(l,!0)):(a=Aa(i,n),s=Aa(o(),[])),Bu({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),a=n||o(),s=r||i,l=a.map(h=>(h.selected=!1,Bi(h.id,!1))),c=s.map(h=>Bi(h.id,!1));Bu({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(s=>s.selected).map(s=>Bi(s.id,!1)),a=n.filter(s=>s.selected).map(s=>Bi(s.id,!1));Bu({changedNodes:o,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Wg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:a,d3Selection:s,translateExtent:l}=t();if(!a||!s||!n.x&&!n.y)return!1;const c=gi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),h=[[0,0],[i,o]],g=a==null?void 0:a.constrain()(c,h,l);return a.transform(s,g),r[0]!==g.x||r[1]!==g.y||r[2]!==g.k},cancelConnection:()=>e({connectionNodeId:Oi.connectionNodeId,connectionHandleId:Oi.connectionHandleId,connectionHandleType:Oi.connectionHandleType,connectionStatus:Oi.connectionStatus,connectionStartHandle:Oi.connectionStartHandle,connectionEndHandle:Oi.connectionEndHandle}),reset:()=>e({...Oi})})),n0=({children:e})=>{const t=P.useRef(null);return t.current||(t.current=XN()),T(yR,{value:t.current,children:e})};n0.displayName="ReactFlowProvider";const Hx=({children:e})=>P.useContext(wf)?T(_t,{children:e}):T(n0,{children:e});Hx.displayName="ReactFlowWrapper";function dy(e,t){return P.useRef(null),P.useMemo(()=>t(e),[e])}const e8={input:_x,default:pp,output:Sx,group:e0},t8={default:Bc,straight:Gg,step:Kg,smoothstep:_f,simplebezier:Vg},n8=[0,0],r8=[15,15],i8={x:0,y:0,zoom:1},o8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},qx=P.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=e8,edgeTypes:a=t8,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:h,onMoveStart:g,onMoveEnd:S,onConnect:E,onConnectStart:k,onConnectEnd:C,onClickConnectStart:R,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:d,onNodeContextMenu:y,onNodeDoubleClick:m,onNodeDragStart:b,onNodeDrag:N,onNodeDragStop:D,onNodesDelete:G,onEdgesDelete:se,onSelectionChange:J,onSelectionDragStart:z,onSelectionDrag:M,onSelectionDragStop:H,onSelectionContextMenu:U,onSelectionStart:B,onSelectionEnd:j,connectionMode:$=io.Strict,connectionLineType:W=Ui.Bezier,connectionLineStyle:me,connectionLineComponent:ye,connectionLineContainerStyle:Te,deleteKeyCode:be="Backspace",selectionKeyCode:Ue="Shift",selectionOnDrag:Le=!1,selectionMode:Ve=rs.Full,panActivationKeyCode:Re="Space",multiSelectionKeyCode:gt="Meta",zoomActivationKeyCode:tt="Meta",snapToGrid:xt=!1,snapGrid:en=r8,onlyRenderVisibleElements:gn=!1,selectNodesOnDrag:Nt=!0,nodesDraggable:st,nodesConnectable:Ft,nodesFocusable:He,nodeOrigin:mn=n8,edgesFocusable:vn,edgesUpdatable:yn,elementsSelectable:fr,defaultViewport:dr=i8,minZoom:hr=.5,maxZoom:$e=2,translateExtent:Rn=mp,preventScrolling:Dn=!0,nodeExtent:Un,defaultMarkerColor:Hn="#b1b1b7",zoomOnScroll:Tr=!0,zoomOnPinch:kt=!0,panOnScroll:In=!1,panOnScrollSpeed:qn=.5,panOnScrollMode:pr=za.Free,zoomOnDoubleClick:oe=!0,panOnDrag:le=!0,onPaneClick:ve,onPaneMouseEnter:Ne,onPaneMouseMove:Ke,onPaneMouseLeave:Fe,onPaneScroll:Ge,onPaneContextMenu:qe,children:De,onEdgeUpdate:wt,onEdgeContextMenu:Kt,onEdgeDoubleClick:ct,onEdgeMouseEnter:dt,onEdgeMouseMove:At,onEdgeMouseLeave:Or,onEdgeUpdateStart:gr,onEdgeUpdateEnd:Gr,edgeUpdaterRadius:ai=10,onNodesChange:Qn,onEdgesChange:Zn,noDragClassName:Ai="nodrag",noWheelClassName:ho="nowheel",noPanClassName:Ri="nopan",fitView:po=!1,fitViewOptions:mt,connectOnClick:xn=!0,attributionPosition:Xn,proOptions:Ni,defaultEdgeOptions:Tt,elevateNodesOnSelect:Mn=!0,elevateEdgesOnSelect:mr=!1,disableKeyboardA11y:ta=!1,autoPanOnConnect:ms=!0,autoPanOnNodeDrag:vs=!0,connectionRadius:Nf=20,isValidConnection:Tf,onError:tu,style:Of,id:nu,...Pf},ru)=>{const Df=dy(o,cN),iu=dy(a,iN),na=nu||"1";return T("div",{...Pf,style:{...Of,...o8},ref:ru,className:An(["react-flow",i]),"data-testid":"rf__wrapper",id:nu,children:ae(Hx,{children:[T(ZN,{onInit:c,onMove:h,onMoveStart:g,onMoveEnd:S,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:d,onNodeContextMenu:y,onNodeDoubleClick:m,nodeTypes:Df,edgeTypes:iu,connectionLineType:W,connectionLineStyle:me,connectionLineComponent:ye,connectionLineContainerStyle:Te,selectionKeyCode:Ue,selectionOnDrag:Le,selectionMode:Ve,deleteKeyCode:be,multiSelectionKeyCode:gt,panActivationKeyCode:Re,zoomActivationKeyCode:tt,onlyRenderVisibleElements:gn,selectNodesOnDrag:Nt,defaultViewport:dr,translateExtent:Rn,minZoom:hr,maxZoom:$e,preventScrolling:Dn,zoomOnScroll:Tr,zoomOnPinch:kt,zoomOnDoubleClick:oe,panOnScroll:In,panOnScrollSpeed:qn,panOnScrollMode:pr,panOnDrag:le,onPaneClick:ve,onPaneMouseEnter:Ne,onPaneMouseMove:Ke,onPaneMouseLeave:Fe,onPaneScroll:Ge,onPaneContextMenu:qe,onSelectionContextMenu:U,onSelectionStart:B,onSelectionEnd:j,onEdgeUpdate:wt,onEdgeContextMenu:Kt,onEdgeDoubleClick:ct,onEdgeMouseEnter:dt,onEdgeMouseMove:At,onEdgeMouseLeave:Or,onEdgeUpdateStart:gr,onEdgeUpdateEnd:Gr,edgeUpdaterRadius:ai,defaultMarkerColor:Hn,noDragClassName:Ai,noWheelClassName:ho,noPanClassName:Ri,elevateEdgesOnSelect:mr,rfId:na,disableKeyboardA11y:ta,nodeOrigin:mn,nodeExtent:Un}),T(YR,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:E,onConnectStart:k,onConnectEnd:C,onClickConnectStart:R,onClickConnectEnd:x,nodesDraggable:st,nodesConnectable:Ft,nodesFocusable:He,edgesFocusable:vn,edgesUpdatable:yn,elementsSelectable:fr,elevateNodesOnSelect:Mn,minZoom:hr,maxZoom:$e,nodeExtent:Un,onNodesChange:Qn,onEdgesChange:Zn,snapToGrid:xt,snapGrid:en,connectionMode:$,translateExtent:Rn,connectOnClick:xn,defaultEdgeOptions:Tt,fitView:po,fitViewOptions:mt,onNodesDelete:G,onEdgesDelete:se,onNodeDragStart:b,onNodeDrag:N,onNodeDragStop:D,onSelectionDrag:M,onSelectionDragStart:z,onSelectionDragStop:H,noPanClassName:Ri,nodeOrigin:mn,rfId:na,autoPanOnConnect:ms,autoPanOnNodeDrag:vs,onError:tu,connectionRadius:Nf,isValidConnection:Tf}),T(KR,{onSelectionChange:J}),De,T(_R,{proOptions:Ni,position:Xn}),T(eN,{rfId:na,disableKeyboardA11y:ta})]})})});qx.displayName="ReactFlow";function $x(){const e=ln();return P.useCallback(t=>{const{domNode:n,updateNodeDimensions:r}=e.getState(),o=(Array.isArray(t)?t:[t]).reduce((a,s)=>{const l=n==null?void 0:n.querySelector(`.react-flow__node[data-id="${s}"]`);return l&&a.push({id:s,nodeElement:l,forceUpdate:!0}),a},[]);requestAnimationFrame(()=>r(o))},[])}const a8=e=>e.getNodes();function s8(){return Rt(a8,pn)}function l8({onChange:e}){const t=ln();P.useEffect(()=>{t.setState({onSelectionChange:e})},[e])}const Wx=({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:c,borderRadius:h,shapeRendering:g,onClick:S})=>{const{background:E,backgroundColor:k}=o||{},C=a||E||k;return T("rect",{className:An(["react-flow__minimap-node",c]),x:t,y:n,rx:h,ry:h,width:r,height:i,fill:C,stroke:s,strokeWidth:l,shapeRendering:g,onClick:S?R=>S(R,e):void 0})};Wx.displayName="MiniMapNode";var u8=P.memo(Wx);const c8=e=>e.nodeOrigin,f8=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),$d=e=>e instanceof Function?e:()=>e;function d8({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=u8,onClick:a}){const s=Rt(f8,pn),l=Rt(c8),c=$d(t),h=$d(e),g=$d(n),S=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return T(_t,{children:s.map(E=>{const{x:k,y:C}=zo(E,l).positionAbsolute;return T(o,{x:k,y:C,width:E.width,height:E.height,style:E.style,className:g(E),color:c(E),borderRadius:r,strokeColor:h(E),strokeWidth:i,shapeRendering:S,onClick:a,id:E.id},E.id)})})}var h8=P.memo(d8);const p8=200,g8=150,m8=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?ER(Zg(t,e.nodeOrigin),n):n,rfId:e.rfId}},v8="react-flow__minimap-desc";function Vx({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:h=1,position:g="bottom-right",onClick:S,onNodeClick:E,pannable:k=!1,zoomable:C=!1,ariaLabel:R="React Flow mini map",inversePan:x=!1,zoomStep:w=10}){const _=ln(),d=P.useRef(null),{boundingRect:y,viewBB:m,rfId:b}=Rt(m8,pn),N=(e==null?void 0:e.width)??p8,D=(e==null?void 0:e.height)??g8,G=y.width/N,se=y.height/D,J=Math.max(G,se),z=J*N,M=J*D,H=5*J,U=y.x-(z-y.width)/2-H,B=y.y-(M-y.height)/2-H,j=z+H*2,$=M+H*2,W=`${v8}-${b}`,me=P.useRef(0);me.current=J,P.useEffect(()=>{if(d.current){const be=xr(d.current),Ue=Re=>{const{transform:gt,d3Selection:tt,d3Zoom:xt}=_.getState();if(Re.sourceEvent.type!=="wheel"||!tt||!xt)return;const en=-Re.sourceEvent.deltaY*(Re.sourceEvent.deltaMode===1?.05:Re.sourceEvent.deltaMode?1:.002)*w,gn=gt[2]*Math.pow(2,en);xt.scaleTo(tt,gn)},Le=Re=>{const{transform:gt,d3Selection:tt,d3Zoom:xt,translateExtent:en,width:gn,height:Nt}=_.getState();if(Re.sourceEvent.type!=="mousemove"||!tt||!xt)return;const st=me.current*Math.max(1,gt[2])*(x?-1:1),Ft={x:gt[0]-Re.sourceEvent.movementX*st,y:gt[1]-Re.sourceEvent.movementY*st},He=[[0,0],[gn,Nt]],mn=gi.translate(Ft.x,Ft.y).scale(gt[2]),vn=xt.constrain()(mn,He,en);xt.transform(tt,vn)},Ve=X_().on("zoom",k?Le:null).on("zoom.wheel",C?Ue:null);return be.call(Ve),()=>{be.on("zoom",null)}}},[k,C,x,w]);const ye=S?be=>{const Ue=jr(be);S(be,{x:Ue[0],y:Ue[1]})}:void 0,Te=E?(be,Ue)=>{const Le=_.getState().nodeInternals.get(Ue);E(be,Le)}:void 0;return T(ts,{position:g,style:e,className:An(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:ae("svg",{width:N,height:D,viewBox:`${U} ${B} ${j} ${$}`,role:"img","aria-labelledby":W,ref:d,onClick:ye,children:[R&&T("title",{id:W,children:R}),T(h8,{onClick:Te,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),T("path",{className:"react-flow__minimap-mask",d:`M${U-H},${B-H}h${j+H*2}v${$+H*2}h${-j-H*2}z
        M${m.x},${m.y}h${m.width}v${m.height}h${-m.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:h,pointerEvents:"none"})]})})}Vx.displayName="MiniMap";var y8=P.memo(Vx);function w8(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:T("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function _8(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:T("path",{d:"M0 0h32v4.2H0z"})})}function x8(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:T("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function S8(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:T("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function E8(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:T("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const Ys=({children:e,className:t,...n})=>T("button",{type:"button",className:An(["react-flow__controls-button",t]),...n,children:e});Ys.displayName="ControlButton";const b8=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Kx=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:c,children:h,position:g="bottom-left"})=>{const S=ln(),[E,k]=P.useState(!1),{isInteractive:C,minZoomReached:R,maxZoomReached:x}=Rt(b8,pn),{zoomIn:w,zoomOut:_,fitView:d}=fs();if(P.useEffect(()=>{k(!0)},[]),!E)return null;const y=()=>{w(),o==null||o()},m=()=>{_(),a==null||a()},b=()=>{d(i),s==null||s()},N=()=>{S.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),l==null||l(!C)};return ae(ts,{className:An(["react-flow__controls",c]),position:g,style:e,"data-testid":"rf__controls",children:[t&&ae(_t,{children:[T(Ys,{onClick:y,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:T(w8,{})}),T(Ys,{onClick:m,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:R,children:T(_8,{})})]}),n&&T(Ys,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view",children:T(x8,{})}),r&&T(Ys,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity",children:C?T(E8,{}):T(S8,{})}),h]})};Kx.displayName="Controls";var k8=P.memo(Kx),$r;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})($r||($r={}));function C8({color:e,dimensions:t,lineWidth:n}){return T("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function A8({color:e,radius:t}){return T("circle",{cx:t,cy:t,r:t,fill:e})}const R8={[$r.Dots]:"#91919a",[$r.Lines]:"#eee",[$r.Cross]:"#e2e2e2"},N8={[$r.Dots]:1,[$r.Lines]:1,[$r.Cross]:6},T8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Gx({id:e,variant:t=$r.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:a,style:s,className:l}){const c=P.useRef(null),{transform:h,patternId:g}=Rt(T8,pn),S=a||R8[t],E=r||N8[t],k=t===$r.Dots,C=t===$r.Cross,R=Array.isArray(n)?n:[n,n],x=[R[0]*h[2]||1,R[1]*h[2]||1],w=E*h[2],_=C?[w,w]:x,d=k?[w/o,w/o]:[_[0]/o,_[1]/o];return ae("svg",{className:An(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background",children:[T("pattern",{id:g+e,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${d[0]},-${d[1]})`,children:k?T(A8,{color:S,radius:w/o}):T(C8,{dimensions:_,color:S,lineWidth:i})}),T("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`})]})}Gx.displayName="Background";var O8=P.memo(Gx);const P8="_graph_dg4qg_5",D8="_node_dg4qg_17",I8="_errorOutline_dg4qg_33",M8="_nodeLabelInput_dg4qg_57",L8="_nodeLabelFocusButton_dg4qg_64",B8="_nodeHeader_dg4qg_75",j8="_nodeComment_dg4qg_83",z8="_nodeCommentEmpty_dg4qg_98",F8="_clickable_dg4qg_117",U8="_deleteButton_dg4qg_121",H8="_handle_dg4qg_134",q8="_inlineHandle_dg4qg_146",$8="_knob_dg4qg_157",W8="_arrowRight_dg4qg_169",V8="_inputHandle_dg4qg_187",K8="_outputHandle_dg4qg_192",G8="_connectionsGrid_dg4qg_201",Y8="_inputsColumn_dg4qg_207",J8="_outputsColumn_dg4qg_211",Q8="_addNodeMenuOption_dg4qg_215",Z8="_addNodeMenu_dg4qg_215",X8="_randomSwitchBody_dg4qg_227",eT="_playerRepliesBody_dg4qg_233",tT="_randomSwitchInput_dg4qg_241",It={graph:P8,node:D8,errorOutline:I8,nodeLabelInput:M8,nodeLabelFocusButton:L8,nodeHeader:B8,nodeComment:j8,nodeCommentEmpty:z8,clickable:F8,deleteButton:U8,handle:H8,inlineHandle:q8,knob:$8,arrowRight:W8,inputHandle:V8,outputHandle:K8,connectionsGrid:G8,inputsColumn:Y8,outputsColumn:J8,addNodeMenuOption:Q8,addNodeMenu:Z8,randomSwitchBody:X8,playerRepliesBody:eT,randomSwitchInput:tT};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const hy="popstate";function nT(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return jl("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Go(i)}return iT(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function is(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rT(){return Math.random().toString(36).substr(2,8)}function py(e,t){return{usr:e.state,key:e.key,idx:t}}function jl(e,t,n,r){return n===void 0&&(n=null),Ht({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bi(t):t,{state:n,key:t&&t.key||r||rT()})}function Go(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=an.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(Ht({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function g(){s=an.Pop;let R=h(),x=R==null?null:R-c;c=R,l&&l({action:s,location:C.location,delta:x})}function S(R,x){s=an.Push;let w=jl(C.location,R,x);n&&n(w,R),c=h()+1;let _=py(w,c),d=C.createHref(w);try{a.pushState(_,"",d)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;i.location.assign(d)}o&&l&&l({action:s,location:C.location,delta:1})}function E(R,x){s=an.Replace;let w=jl(C.location,R,x);n&&n(w,R),c=h();let _=py(w,c),d=C.createHref(w);a.replaceState(_,"",d),o&&l&&l({action:s,location:C.location,delta:0})}function k(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:Go(R);return ut(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let C={get action(){return s},get location(){return e(i,a)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hy,g),l=R,()=>{i.removeEventListener(hy,g),l=null}},createHref(R){return t(i,R)},createURL:k,encodeLocation(R){let x=k(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:S,replace:E,go(R){return a.go(R)}};return C}var Zt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zt||(Zt={}));const oT=new Set(["lazy","caseSensitive","path","id","index","children"]);function aT(e){return e.index===!0}function vp(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),aT(i)){let l=Ht({},i,t(i),{id:s});return r[s]=l,l}else{let l=Ht({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=vp(i.children,t,a,r)),l}})}function Ra(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?bi(t):t,i=ds(r.pathname||"/",n);if(i==null)return null;let o=Yx(e);lT(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=vT(o[s],_T(i));return a}function sT(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Yx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mi([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Yx(o.children,t,h,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:gT(c,o.index),routesMeta:h})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of Jx(o.path))i(o,a,l)}),t}function Jx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Jx(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function lT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uT=/^:\w+$/,cT=3,fT=2,dT=1,hT=10,pT=-2,gy=e=>e==="*";function gT(e,t){let n=e.split("/"),r=n.length;return n.some(gy)&&(r+=pT),t&&(r+=fT),n.filter(i=>!gy(i)).reduce((i,o)=>i+(uT.test(o)?cT:o===""?dT:hT),r)}function mT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vT(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=yT({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let g=s.route;o.push({params:r,pathname:mi([i,h.pathname]),pathnameBase:bT(mi([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=mi([i,h.pathnameBase]))}return o}function yT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,h,g)=>{if(h==="*"){let S=s[g]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}return c[h]=xT(s[g]||"",h),c},{}),pathname:o,pathnameBase:a,pattern:e}}function wT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),is(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _T(e){try{return decodeURI(e)}catch(t){return is(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xT(e,t){try{return decodeURIComponent(e)}catch(n){return is(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ST(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bi(e):e;return{pathname:n?n.startsWith("/")?n:ET(n,t):t,search:kT(r),hash:CT(i)}}function ET(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xf(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bi(e):(i=Ht({},e),ut(!i.pathname||!i.pathname.includes("?"),Wd("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Wd("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Wd("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let g=t.length-1;if(a.startsWith("..")){let S=a.split("/");for(;S[0]==="..";)S.shift(),g-=1;i.pathname=S.join("/")}s=g>=0?t[g]:"/"}let l=ST(i,s),c=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const mi=e=>e.join("/").replace(/\/\/+/g,"/"),bT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class i0{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Qx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zx=["post","put","patch","delete"],AT=new Set(Zx),RT=["get",...Zx],NT=new Set(RT),TT=new Set([301,302,303,307,308]),OT=new Set([307,308]),Vd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ms={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DT=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)});function IT(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ut(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let oe=e.detectErrorBoundary;i=le=>({hasErrorBoundary:oe(le)})}else i=DT;let o={},a=vp(e.routes,i,void 0,o),s,l=e.basename||"/",c=Ht({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,g=new Set,S=null,E=null,k=null,C=e.hydrationData!=null,R=Ra(a,e.history.location,l),x=null;if(R==null){let oe=yr(404,{pathname:e.history.location.pathname}),{matches:le,route:ve}=Ey(a);R=le,x={[ve.id]:oe}}let w=!R.some(oe=>oe.route.lazy)&&(!R.some(oe=>oe.route.loader)||e.hydrationData!=null),_,d={historyAction:e.history.action,location:e.history.location,matches:R,initialized:w,navigation:Vd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},y=an.Pop,m=!1,b,N=!1,D=!1,G=[],se=[],J=new Map,z=0,M=-1,H=new Map,U=new Set,B=new Map,j=new Map,$=new Map,W=!1;function me(){return h=e.history.listen(oe=>{let{action:le,location:ve,delta:Ne}=oe;if(W){W=!1;return}is($.size===0||Ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ke=Un({currentLocation:d.location,nextLocation:ve,historyAction:le});if(Ke&&Ne!=null){W=!0,e.history.go(Ne*-1),Dn(Ke,{state:"blocked",location:ve,proceed(){Dn(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),e.history.go(Ne)},reset(){let Fe=new Map(d.blockers);Fe.set(Ke,Ms),be({blockers:Fe})}});return}return Re(le,ve)}),d.initialized||Re(an.Pop,d.location),_}function ye(){h&&h(),g.clear(),b&&b.abort(),d.fetchers.forEach((oe,le)=>vn(le)),d.blockers.forEach((oe,le)=>Rn(le))}function Te(oe){return g.add(oe),()=>g.delete(oe)}function be(oe){d=Ht({},d,oe),g.forEach(le=>le(d))}function Ue(oe,le){var ve,Ne;let Ke=d.actionData!=null&&d.navigation.formMethod!=null&&zr(d.navigation.formMethod)&&d.navigation.state==="loading"&&((ve=oe.state)==null?void 0:ve._isRedirect)!==!0,Fe;le.actionData?Object.keys(le.actionData).length>0?Fe=le.actionData:Fe=null:Ke?Fe=d.actionData:Fe=null;let Ge=le.loaderData?Sy(d.loaderData,le.loaderData,le.matches||[],le.errors):d.loaderData,qe=d.blockers;qe.size>0&&(qe=new Map(qe),qe.forEach((wt,Kt)=>qe.set(Kt,Ms)));let De=m===!0||d.navigation.formMethod!=null&&zr(d.navigation.formMethod)&&((Ne=oe.state)==null?void 0:Ne._isRedirect)!==!0;s&&(a=s,s=void 0),N||y===an.Pop||(y===an.Push?e.history.push(oe,oe.state):y===an.Replace&&e.history.replace(oe,oe.state)),be(Ht({},le,{actionData:Fe,loaderData:Ge,historyAction:y,location:oe,initialized:!0,navigation:Vd,revalidation:"idle",restoreScrollPosition:qn(oe,le.matches||d.matches),preventScrollReset:De,blockers:qe})),y=an.Pop,m=!1,N=!1,D=!1,G=[],se=[]}async function Le(oe,le){if(typeof oe=="number"){e.history.go(oe);return}let ve=yp(d.location,d.matches,l,c.v7_prependBasename,oe,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:Ne,submission:Ke,error:Fe}=my(c.v7_normalizeFormMethod,!1,ve,le),Ge=d.location,qe=jl(d.location,Ne,le&&le.state);qe=Ht({},qe,e.history.encodeLocation(qe));let De=le&&le.replace!=null?le.replace:void 0,wt=an.Push;De===!0?wt=an.Replace:De===!1||Ke!=null&&zr(Ke.formMethod)&&Ke.formAction===d.location.pathname+d.location.search&&(wt=an.Replace);let Kt=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,ct=Un({currentLocation:Ge,nextLocation:qe,historyAction:wt});if(ct){Dn(ct,{state:"blocked",location:qe,proceed(){Dn(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),Le(oe,le)},reset(){let dt=new Map(d.blockers);dt.set(ct,Ms),be({blockers:dt})}});return}return await Re(wt,qe,{submission:Ke,pendingError:Fe,preventScrollReset:Kt,replace:le&&le.replace})}function Ve(){if(He(),be({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Re(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Re(y||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Re(oe,le,ve){b&&b.abort(),b=null,y=oe,N=(ve&&ve.startUninterruptedRevalidation)===!0,In(d.location,d.matches),m=(ve&&ve.preventScrollReset)===!0;let Ne=s||a,Ke=ve&&ve.overrideNavigation,Fe=Ra(Ne,le,l);if(!Fe){let dt=yr(404,{pathname:le.pathname}),{matches:At,route:Or}=Ey(Ne);Hn(),Ue(le,{matches:At,loaderData:{},errors:{[Or.id]:dt}});return}if(d.initialized&&!D&&zT(d.location,le)&&!(ve&&ve.submission&&zr(ve.submission.formMethod))){Ue(le,{matches:Fe});return}b=new AbortController;let Ge=Bs(e.history,le,b.signal,ve&&ve.submission),qe,De;if(ve&&ve.pendingError)De={[Na(Fe).route.id]:ve.pendingError};else if(ve&&ve.submission&&zr(ve.submission.formMethod)){let dt=await gt(Ge,le,ve.submission,Fe,{replace:ve.replace});if(dt.shortCircuited)return;qe=dt.pendingActionData,De=dt.pendingActionError,Ke=Kd(le,ve.submission),Ge=new Request(Ge.url,{signal:Ge.signal})}let{shortCircuited:wt,loaderData:Kt,errors:ct}=await tt(Ge,le,Fe,Ke,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,qe,De);wt||(b=null,Ue(le,Ht({matches:Fe},qe?{actionData:qe}:{},{loaderData:Kt,errors:ct})))}async function gt(oe,le,ve,Ne,Ke){Ke===void 0&&(Ke={}),He();let Fe=qT(le,ve);be({navigation:Fe});let Ge,qe=_p(Ne,le);if(!qe.route.action&&!qe.route.lazy)Ge={type:Zt.error,error:yr(405,{method:oe.method,pathname:le.pathname,routeId:qe.route.id})};else if(Ge=await Ls("action",oe,qe,Ne,o,i,l),oe.signal.aborted)return{shortCircuited:!0};if(Ua(Ge)){let De;return Ke&&Ke.replace!=null?De=Ke.replace:De=Ge.location===d.location.pathname+d.location.search,await st(d,Ge,{submission:ve,replace:De}),{shortCircuited:!0}}if(ul(Ge)){let De=Na(Ne,qe.route.id);return(Ke&&Ke.replace)!==!0&&(y=an.Push),{pendingActionData:{},pendingActionError:{[De.route.id]:Ge.error}}}if(Po(Ge))throw yr(400,{type:"defer-action"});return{pendingActionData:{[qe.route.id]:Ge.data}}}async function tt(oe,le,ve,Ne,Ke,Fe,Ge,qe,De){let wt=Ne||Kd(le,Ke),Kt=Ke||Fe||Cy(wt),ct=s||a,[dt,At]=vy(e.history,d,ve,Kt,le,D,G,se,B,U,ct,l,qe,De);if(Hn(mt=>!(ve&&ve.some(xn=>xn.route.id===mt))||dt&&dt.some(xn=>xn.route.id===mt)),M=++z,dt.length===0&&At.length===0){let mt=dr();return Ue(le,Ht({matches:ve,loaderData:{},errors:De||null},qe?{actionData:qe}:{},mt?{fetchers:new Map(d.fetchers)}:{})),{shortCircuited:!0}}if(!N){At.forEach(xn=>{let Xn=d.fetchers.get(xn.key),Ni=js(void 0,Xn?Xn.data:void 0);d.fetchers.set(xn.key,Ni)});let mt=qe||d.actionData;be(Ht({navigation:wt},mt?Object.keys(mt).length===0?{actionData:null}:{actionData:mt}:{},At.length>0?{fetchers:new Map(d.fetchers)}:{}))}At.forEach(mt=>{J.has(mt.key)&&yn(mt.key),mt.controller&&J.set(mt.key,mt.controller)});let Or=()=>At.forEach(mt=>yn(mt.key));b&&b.signal.addEventListener("abort",Or);let{results:gr,loaderResults:Gr,fetcherResults:ai}=await Ft(d.matches,ve,dt,At,oe);if(oe.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Or),At.forEach(mt=>J.delete(mt.key));let Qn=by(gr);if(Qn){if(Qn.idx>=dt.length){let mt=At[Qn.idx-dt.length].key;U.add(mt)}return await st(d,Qn.result,{replace:Ge}),{shortCircuited:!0}}let{loaderData:Zn,errors:Ai}=xy(d,ve,dt,Gr,De,At,ai,j);j.forEach((mt,xn)=>{mt.subscribe(Xn=>{(Xn||mt.done)&&j.delete(xn)})});let ho=dr(),Ri=hr(M),po=ho||Ri||At.length>0;return Ht({loaderData:Zn,errors:Ai},po?{fetchers:new Map(d.fetchers)}:{})}function xt(oe){return d.fetchers.get(oe)||PT}function en(oe,le,ve,Ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(oe)&&yn(oe);let Ke=s||a,Fe=yp(d.location,d.matches,l,c.v7_prependBasename,ve,le,Ne==null?void 0:Ne.relative),Ge=Ra(Ke,Fe,l);if(!Ge){mn(oe,le,yr(404,{pathname:Fe}));return}let{path:qe,submission:De,error:wt}=my(c.v7_normalizeFormMethod,!0,Fe,Ne);if(wt){mn(oe,le,wt);return}let Kt=_p(Ge,qe);if(m=(Ne&&Ne.preventScrollReset)===!0,De&&zr(De.formMethod)){gn(oe,le,qe,Kt,Ge,De);return}B.set(oe,{routeId:le,path:qe}),Nt(oe,le,qe,Kt,Ge,De)}async function gn(oe,le,ve,Ne,Ke,Fe){if(He(),B.delete(oe),!Ne.route.action&&!Ne.route.lazy){let Tt=yr(405,{method:Fe.formMethod,pathname:ve,routeId:le});mn(oe,le,Tt);return}let Ge=d.fetchers.get(oe),qe=$T(Fe,Ge);d.fetchers.set(oe,qe),be({fetchers:new Map(d.fetchers)});let De=new AbortController,wt=Bs(e.history,ve,De.signal,Fe);J.set(oe,De);let Kt=z,ct=await Ls("action",wt,Ne,Ke,o,i,l);if(wt.signal.aborted){J.get(oe)===De&&J.delete(oe);return}if(Ua(ct))if(J.delete(oe),M>Kt){let Tt=da(void 0);d.fetchers.set(oe,Tt),be({fetchers:new Map(d.fetchers)});return}else{U.add(oe);let Tt=js(Fe);return d.fetchers.set(oe,Tt),be({fetchers:new Map(d.fetchers)}),st(d,ct,{fetcherSubmission:Fe})}if(ul(ct)){mn(oe,le,ct.error);return}if(Po(ct))throw yr(400,{type:"defer-action"});let dt=d.navigation.location||d.location,At=Bs(e.history,dt,De.signal),Or=s||a,gr=d.navigation.state!=="idle"?Ra(Or,d.navigation.location,l):d.matches;ut(gr,"Didn't find any matches after fetcher action");let Gr=++z;H.set(oe,Gr);let ai=js(Fe,ct.data);d.fetchers.set(oe,ai);let[Qn,Zn]=vy(e.history,d,gr,Fe,dt,D,G,se,B,U,Or,l,{[Ne.route.id]:ct.data},void 0);Zn.filter(Tt=>Tt.key!==oe).forEach(Tt=>{let Mn=Tt.key,mr=d.fetchers.get(Mn),ta=js(void 0,mr?mr.data:void 0);d.fetchers.set(Mn,ta),J.has(Mn)&&yn(Mn),Tt.controller&&J.set(Mn,Tt.controller)}),be({fetchers:new Map(d.fetchers)});let Ai=()=>Zn.forEach(Tt=>yn(Tt.key));De.signal.addEventListener("abort",Ai);let{results:ho,loaderResults:Ri,fetcherResults:po}=await Ft(d.matches,gr,Qn,Zn,At);if(De.signal.aborted)return;De.signal.removeEventListener("abort",Ai),H.delete(oe),J.delete(oe),Zn.forEach(Tt=>J.delete(Tt.key));let mt=by(ho);if(mt){if(mt.idx>=Qn.length){let Tt=Zn[mt.idx-Qn.length].key;U.add(Tt)}return st(d,mt.result)}let{loaderData:xn,errors:Xn}=xy(d,d.matches,Qn,Ri,void 0,Zn,po,j);if(d.fetchers.has(oe)){let Tt=da(ct.data);d.fetchers.set(oe,Tt)}let Ni=hr(Gr);d.navigation.state==="loading"&&Gr>M?(ut(y,"Expected pending action"),b&&b.abort(),Ue(d.navigation.location,{matches:gr,loaderData:xn,errors:Xn,fetchers:new Map(d.fetchers)})):(be(Ht({errors:Xn,loaderData:Sy(d.loaderData,xn,gr,Xn)},Ni||Zn.length>0?{fetchers:new Map(d.fetchers)}:{})),D=!1)}async function Nt(oe,le,ve,Ne,Ke,Fe){let Ge=d.fetchers.get(oe),qe=js(Fe,Ge?Ge.data:void 0);d.fetchers.set(oe,qe),be({fetchers:new Map(d.fetchers)});let De=new AbortController,wt=Bs(e.history,ve,De.signal);J.set(oe,De);let Kt=z,ct=await Ls("loader",wt,Ne,Ke,o,i,l);if(Po(ct)&&(ct=await n2(ct,wt.signal,!0)||ct),J.get(oe)===De&&J.delete(oe),wt.signal.aborted)return;if(Ua(ct))if(M>Kt){let At=da(void 0);d.fetchers.set(oe,At),be({fetchers:new Map(d.fetchers)});return}else{U.add(oe),await st(d,ct);return}if(ul(ct)){let At=Na(d.matches,le);d.fetchers.delete(oe),be({fetchers:new Map(d.fetchers),errors:{[At.route.id]:ct.error}});return}ut(!Po(ct),"Unhandled fetcher deferred data");let dt=da(ct.data);d.fetchers.set(oe,dt),be({fetchers:new Map(d.fetchers)})}async function st(oe,le,ve){let{submission:Ne,fetcherSubmission:Ke,replace:Fe}=ve===void 0?{}:ve;le.revalidate&&(D=!0);let Ge=jl(oe.location,le.location,{_isRedirect:!0});if(ut(Ge,"Expected a location on the redirect navigation"),n){let dt=!1;if(le.reloadDocument)dt=!0;else if(Xx.test(le.location)){const At=e.history.createURL(le.location);dt=At.origin!==t.location.origin||ds(At.pathname,l)==null}if(dt){Fe?t.location.replace(le.location):t.location.assign(le.location);return}}b=null;let qe=Fe===!0?an.Replace:an.Push,{formMethod:De,formAction:wt,formEncType:Kt}=oe.navigation;!Ne&&!Ke&&De&&wt&&Kt&&(Ne=Cy(oe.navigation));let ct=Ne||Ke;if(OT.has(le.status)&&ct&&zr(ct.formMethod))await Re(qe,Ge,{submission:Ht({},ct,{formAction:le.location}),preventScrollReset:m});else{let dt=Kd(Ge,Ne);await Re(qe,Ge,{overrideNavigation:dt,fetcherSubmission:Ke,preventScrollReset:m})}}async function Ft(oe,le,ve,Ne,Ke){let Fe=await Promise.all([...ve.map(De=>Ls("loader",Ke,De,le,o,i,l)),...Ne.map(De=>De.matches&&De.match&&De.controller?Ls("loader",Bs(e.history,De.path,De.controller.signal),De.match,De.matches,o,i,l):{type:Zt.error,error:yr(404,{pathname:De.path})})]),Ge=Fe.slice(0,ve.length),qe=Fe.slice(ve.length);return await Promise.all([ky(oe,ve,Ge,Ge.map(()=>Ke.signal),!1,d.loaderData),ky(oe,Ne.map(De=>De.match),qe,Ne.map(De=>De.controller?De.controller.signal:null),!0)]),{results:Fe,loaderResults:Ge,fetcherResults:qe}}function He(){D=!0,G.push(...Hn()),B.forEach((oe,le)=>{J.has(le)&&(se.push(le),yn(le))})}function mn(oe,le,ve){let Ne=Na(d.matches,le);vn(oe),be({errors:{[Ne.route.id]:ve},fetchers:new Map(d.fetchers)})}function vn(oe){let le=d.fetchers.get(oe);J.has(oe)&&!(le&&le.state==="loading"&&H.has(oe))&&yn(oe),B.delete(oe),H.delete(oe),U.delete(oe),d.fetchers.delete(oe)}function yn(oe){let le=J.get(oe);ut(le,"Expected fetch controller: "+oe),le.abort(),J.delete(oe)}function fr(oe){for(let le of oe){let ve=xt(le),Ne=da(ve.data);d.fetchers.set(le,Ne)}}function dr(){let oe=[],le=!1;for(let ve of U){let Ne=d.fetchers.get(ve);ut(Ne,"Expected fetcher: "+ve),Ne.state==="loading"&&(U.delete(ve),oe.push(ve),le=!0)}return fr(oe),le}function hr(oe){let le=[];for(let[ve,Ne]of H)if(Ne<oe){let Ke=d.fetchers.get(ve);ut(Ke,"Expected fetcher: "+ve),Ke.state==="loading"&&(yn(ve),H.delete(ve),le.push(ve))}return fr(le),le.length>0}function $e(oe,le){let ve=d.blockers.get(oe)||Ms;return $.get(oe)!==le&&$.set(oe,le),ve}function Rn(oe){d.blockers.delete(oe),$.delete(oe)}function Dn(oe,le){let ve=d.blockers.get(oe)||Ms;ut(ve.state==="unblocked"&&le.state==="blocked"||ve.state==="blocked"&&le.state==="blocked"||ve.state==="blocked"&&le.state==="proceeding"||ve.state==="blocked"&&le.state==="unblocked"||ve.state==="proceeding"&&le.state==="unblocked","Invalid blocker state transition: "+ve.state+" -> "+le.state);let Ne=new Map(d.blockers);Ne.set(oe,le),be({blockers:Ne})}function Un(oe){let{currentLocation:le,nextLocation:ve,historyAction:Ne}=oe;if($.size===0)return;$.size>1&&is(!1,"A router only supports one blocker at a time");let Ke=Array.from($.entries()),[Fe,Ge]=Ke[Ke.length-1],qe=d.blockers.get(Fe);if(!(qe&&qe.state==="proceeding")&&Ge({currentLocation:le,nextLocation:ve,historyAction:Ne}))return Fe}function Hn(oe){let le=[];return j.forEach((ve,Ne)=>{(!oe||oe(Ne))&&(ve.cancel(),le.push(Ne),j.delete(Ne))}),le}function Tr(oe,le,ve){if(S=oe,k=le,E=ve||null,!C&&d.navigation===Vd){C=!0;let Ne=qn(d.location,d.matches);Ne!=null&&be({restoreScrollPosition:Ne})}return()=>{S=null,k=null,E=null}}function kt(oe,le){return E&&E(oe,le.map(Ne=>sT(Ne,d.loaderData)))||oe.key}function In(oe,le){if(S&&k){let ve=kt(oe,le);S[ve]=k()}}function qn(oe,le){if(S){let ve=kt(oe,le),Ne=S[ve];if(typeof Ne=="number")return Ne}return null}function pr(oe){o={},s=vp(oe,i,void 0,o)}return _={get basename(){return l},get state(){return d},get routes(){return a},initialize:me,subscribe:Te,enableScrollRestoration:Tr,navigate:Le,fetch:en,revalidate:Ve,createHref:oe=>e.history.createHref(oe),encodeLocation:oe=>e.history.encodeLocation(oe),getFetcher:xt,deleteFetcher:vn,dispose:ye,getBlocker:$e,deleteBlocker:Rn,_internalFetchControllers:J,_internalActiveDeferreds:j,_internalSetRoutes:pr},_}function MT(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function yp(e,t,n,r,i,o,a){let s,l;if(o!=null&&a!=="path"){s=[];for(let h of t)if(s.push(h),h.route.id===o){l=h;break}}else s=t,l=t[t.length-1];let c=r0(i||".",xf(s).map(h=>h.pathnameBase),ds(e.pathname,n)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!o0(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:mi([n,c.pathname])),Go(c)}function my(e,t,n,r){if(!r||!MT(r))return{path:n};if(r.formMethod&&!HT(r.formMethod))return{path:n,error:yr(405,{method:r.formMethod})};let i=()=>({path:n,error:yr(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),s=t2(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!zr(a))return i();let S=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,k)=>{let[C,R]=k;return""+E+C+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:S}}}else if(r.formEncType==="application/json"){if(!zr(a))return i();try{let S=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:S,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=wp(r.formData),c=r.formData;else if(r.body instanceof FormData)l=wp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=_y(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=_y(l)}catch{return i()}let h={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(zr(h.formMethod))return{path:n,submission:h};let g=bi(n);return t&&g.search&&o0(g.search)&&l.append("index",""),g.search="?"+l,{path:Go(g),submission:h}}function LT(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function vy(e,t,n,r,i,o,a,s,l,c,h,g,S,E){let k=E?Object.values(E)[0]:S?Object.values(S)[0]:void 0,C=e.createURL(t.location),R=e.createURL(i),x=E?Object.keys(E)[0]:void 0,_=LT(n,x).filter((y,m)=>{if(y.route.lazy)return!0;if(y.route.loader==null)return!1;if(BT(t.loaderData,t.matches[m],y)||a.some(D=>D===y.route.id))return!0;let b=t.matches[m],N=y;return yy(y,Ht({currentUrl:C,currentParams:b.params,nextUrl:R,nextParams:N.params},r,{actionResult:k,defaultShouldRevalidate:o||C.pathname+C.search===R.pathname+R.search||C.search!==R.search||e2(b,N)}))}),d=[];return l.forEach((y,m)=>{if(!n.some(se=>se.route.id===y.routeId))return;let b=Ra(h,y.path,g);if(!b){d.push({key:m,routeId:y.routeId,path:y.path,matches:null,match:null,controller:null});return}let N=t.fetchers.get(m),D=_p(b,y.path),G=!1;c.has(m)?G=!1:s.includes(m)?G=!0:N&&N.state!=="idle"&&N.data===void 0?G=o:G=yy(D,Ht({currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:k,defaultShouldRevalidate:o})),G&&d.push({key:m,routeId:y.routeId,path:y.path,matches:b,match:D,controller:new AbortController})}),[_,d]}function BT(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function e2(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function yy(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function wy(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ut(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";is(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!oT.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Ht({},t(i),{lazy:void 0}))}async function Ls(e,t,n,r,i,o,a,s){s===void 0&&(s={});let l,c,h,g=k=>{let C,R=new Promise((x,w)=>C=w);return h=()=>C(),t.signal.addEventListener("abort",h),Promise.race([k({request:t,params:n.params,context:s.requestContext}),R])};try{let k=n.route[e];if(n.route.lazy)if(k){let C,R=await Promise.all([g(k).catch(x=>{C=x}),wy(n.route,o,i)]);if(C)throw C;c=R[0]}else if(await wy(n.route,o,i),k=n.route[e],k)c=await g(k);else if(e==="action"){let C=new URL(t.url),R=C.pathname+C.search;throw yr(405,{method:t.method,pathname:R,routeId:n.route.id})}else return{type:Zt.data,data:void 0};else if(k)c=await g(k);else{let C=new URL(t.url),R=C.pathname+C.search;throw yr(404,{pathname:R})}ut(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(k){l=Zt.error,c=k}finally{h&&t.signal.removeEventListener("abort",h)}if(UT(c)){let k=c.status;if(TT.has(k)){let x=c.headers.get("Location");if(ut(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xx.test(x))x=yp(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,x);else if(!s.isStaticRequest){let w=new URL(t.url),_=x.startsWith("//")?new URL(w.protocol+x):new URL(x),d=ds(_.pathname,a)!=null;_.origin===w.origin&&d&&(x=_.pathname+_.search+_.hash)}if(s.isStaticRequest)throw c.headers.set("Location",x),c;return{type:Zt.redirect,status:k,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===Zt.error?Zt.error:Zt.data,response:c};let C,R=c.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?C=await c.json():C=await c.text(),l===Zt.error?{type:l,error:new i0(k,c.statusText,C),headers:c.headers}:{type:Zt.data,data:C,statusCode:c.status,headers:c.headers}}if(l===Zt.error)return{type:l,error:c};if(FT(c)){var S,E;return{type:Zt.deferred,deferredData:c,statusCode:(S=c.init)==null?void 0:S.status,headers:((E=c.init)==null?void 0:E.headers)&&new Headers(c.init.headers)}}return{type:Zt.data,data:c}}function Bs(e,t,n,r){let i=e.createURL(t2(t)).toString(),o={signal:n};if(r&&zr(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=wp(r.formData):o.body=r.formData}return new Request(i,o)}function wp(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _y(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function jT(e,t,n,r,i){let o={},a=null,s,l=!1,c={};return n.forEach((h,g)=>{let S=t[g].route.id;if(ut(!Ua(h),"Cannot handle redirect results in processLoaderData"),ul(h)){let E=Na(e,S),k=h.error;r&&(k=Object.values(r)[0],r=void 0),a=a||{},a[E.route.id]==null&&(a[E.route.id]=k),o[S]=void 0,l||(l=!0,s=Qx(h.error)?h.error.status:500),h.headers&&(c[S]=h.headers)}else Po(h)?(i.set(S,h.deferredData),o[S]=h.deferredData.data):o[S]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(c[S]=h.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function xy(e,t,n,r,i,o,a,s){let{loaderData:l,errors:c}=jT(t,n,r,i,s);for(let h=0;h<o.length;h++){let{key:g,match:S,controller:E}=o[h];ut(a!==void 0&&a[h]!==void 0,"Did not find corresponding fetcher result");let k=a[h];if(!(E&&E.signal.aborted))if(ul(k)){let C=Na(e.matches,S==null?void 0:S.route.id);c&&c[C.route.id]||(c=Ht({},c,{[C.route.id]:k.error})),e.fetchers.delete(g)}else if(Ua(k))ut(!1,"Unhandled fetcher revalidation redirect");else if(Po(k))ut(!1,"Unhandled fetcher deferred data");else{let C=da(k.data);e.fetchers.set(g,C)}}return{loaderData:l,errors:c}}function Sy(e,t,n,r){let i=Ht({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Na(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Ey(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yr(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new i0(e||500,a,new Error(s),!0)}function by(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ua(n))return{result:n,idx:t}}}function t2(e){let t=typeof e=="string"?bi(e):e;return Go(Ht({},t,{hash:""}))}function zT(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Po(e){return e.type===Zt.deferred}function ul(e){return e.type===Zt.error}function Ua(e){return(e&&e.type)===Zt.redirect}function FT(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function UT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function HT(e){return NT.has(e.toLowerCase())}function zr(e){return AT.has(e.toLowerCase())}async function ky(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find(g=>g.route.id===l.route.id),h=c!=null&&!e2(c,l)&&(o&&o[l.route.id])!==void 0;if(Po(s)&&(i||h)){let g=r[a];ut(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await n2(s,g,i).then(S=>{S&&(n[a]=S||n[a])})}}}async function n2(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Zt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Zt.error,error:i}}return{type:Zt.data,data:e.deferredData.data}}}function o0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _p(e,t){let n=typeof t=="string"?bi(t).search:t.search;if(e[e.length-1].route.index&&o0(n||""))return e[e.length-1];let r=xf(e);return r[r.length-1]}function Cy(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Kd(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qT(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function js(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $T(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function da(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}const Sf=P.createContext(null),r2=P.createContext(null),hs=P.createContext(null),Ef=P.createContext(null),Xo=P.createContext({outlet:null,matches:[],isDataRoute:!1}),i2=P.createContext(null);function WT(e,t){let{relative:n}=t===void 0?{}:t;Yl()||ut(!1);let{basename:r,navigator:i}=P.useContext(hs),{hash:o,pathname:a,search:s}=a2(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:mi([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Yl(){return P.useContext(Ef)!=null}function ki(){return Yl()||ut(!1),P.useContext(Ef).location}function o2(e){P.useContext(hs).static||P.useLayoutEffect(e)}function Jl(){let{isDataRoute:e}=P.useContext(Xo);return e?nO():VT()}function VT(){Yl()||ut(!1);let e=P.useContext(Sf),{basename:t,navigator:n}=P.useContext(hs),{matches:r}=P.useContext(Xo),{pathname:i}=ki(),o=JSON.stringify(xf(r).map(l=>l.pathnameBase)),a=P.useRef(!1);return o2(()=>{a.current=!0}),P.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=r0(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mi([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,o,i,e])}function a2(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(Xo),{pathname:i}=ki(),o=JSON.stringify(xf(r).map(a=>a.pathnameBase));return P.useMemo(()=>r0(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function KT(e,t,n){Yl()||ut(!1);let{navigator:r}=P.useContext(hs),{matches:i}=P.useContext(Xo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=ki(),c;if(t){var h;let C=typeof t=="string"?bi(t):t;s==="/"||(h=C.pathname)!=null&&h.startsWith(s)||ut(!1),c=C}else c=l;let g=c.pathname||"/",S=s==="/"?g:g.slice(s.length)||"/",E=Ra(e,{pathname:S}),k=ZT(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:mi([s,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?s:mi([s,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n);return t&&k?P.createElement(Ef.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:an.Pop}},k):k}function GT(){let e=u2(),t=Qx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,o)}const YT=P.createElement(GT,null);class JT extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(Xo.Provider,{value:this.props.routeContext},P.createElement(i2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QT(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(Sf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Xo.Provider,{value:t},r)}function ZT(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));s>=0||ut(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,c)=>{let h=l.route.id?a==null?void 0:a[l.route.id]:null,g=null;n&&(g=l.route.errorElement||YT);let S=t.concat(o.slice(0,c+1)),E=()=>{let k;return h?k=g:l.route.Component?k=P.createElement(l.route.Component,null):l.route.element?k=l.route.element:k=s,P.createElement(QT,{match:l,routeContext:{outlet:s,matches:S,isDataRoute:n!=null},children:k})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?P.createElement(JT,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var s2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s2||{}),zc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zc||{});function XT(e){let t=P.useContext(Sf);return t||ut(!1),t}function eO(e){let t=P.useContext(r2);return t||ut(!1),t}function tO(e){let t=P.useContext(Xo);return t||ut(!1),t}function l2(e){let t=tO(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function u2(){var e;let t=P.useContext(i2),n=eO(zc.UseRouteError),r=l2(zc.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function nO(){let{router:e}=XT(s2.UseNavigateStable),t=l2(zc.UseNavigateStable),n=P.useRef(!1);return o2(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jc({fromRouteId:t},o)))},[e,t])}const rO="startTransition",Ay=Vp[rO];function iO(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=P.useState(n.state),{v7_startTransition:a}=r||{},s=P.useCallback(g=>{a&&Ay?Ay(()=>o(g)):o(g)},[o,a]);P.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,S,E)=>n.navigate(g,{state:S,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(g,S,E)=>n.navigate(g,{replace:!0,state:S,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),c=n.basename||"/",h=P.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return P.createElement(P.Fragment,null,P.createElement(Sf.Provider,{value:h},P.createElement(r2.Provider,{value:i},P.createElement(aO,{basename:c,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?P.createElement(oO,{routes:n.routes,state:i}):t))),null)}function oO(e){let{routes:t,state:n}=e;return KT(t,void 0,n)}function aO(e){let{basename:t="/",children:n=null,location:r,navigationType:i=an.Pop,navigator:o,static:a=!1}=e;Yl()&&ut(!1);let s=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=bi(r));let{pathname:c="/",search:h="",hash:g="",state:S=null,key:E="default"}=r,k=P.useMemo(()=>{let C=ds(c,s);return C==null?null:{location:{pathname:C,search:h,hash:g,state:S,key:E},navigationType:i}},[s,c,h,g,S,E,i]);return k==null?null:P.createElement(hs.Provider,{value:l},P.createElement(Ef.Provider,{children:n,value:k}))}new Promise(()=>{});function sO(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:P.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:P.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}function lO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cO(e,t){return e.button===0&&(!t||t==="_self")&&!uO(e)}function xp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fO(e,t){let n=xp(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const dO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function hO(e,t){return IT({basename:t==null?void 0:t.basename,future:zl({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:nT({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||pO(),routes:e,mapRouteProperties:sO}).initialize()}function pO(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zl({},t,{errors:gO(t.errors)})),t}function gO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new i0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const mO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yO=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:h}=t,g=lO(t,dO),{basename:S}=P.useContext(hs),E,k=!1;if(typeof c=="string"&&vO.test(c)&&(E=c,mO))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),d=ds(_.pathname,S);_.origin===w.origin&&d!=null?c=d+_.search+_.hash:k=!0}catch{}let C=WT(c,{relative:i}),R=wO(c,{replace:a,state:s,target:l,preventScrollReset:h,relative:i});function x(w){r&&r(w),w.defaultPrevented||R(w)}return P.createElement("a",zl({},g,{href:E||C,onClick:k||o?r:x,ref:n,target:l}))});var Ry;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ry||(Ry={}));var Ny;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ny||(Ny={}));function wO(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=t===void 0?{}:t,s=Jl(),l=ki(),c=a2(e,{relative:a});return P.useCallback(h=>{if(cO(h,n)){h.preventDefault();let g=r!==void 0?r:Go(l)===Go(c);s(e,{replace:g,state:i,preventScrollReset:o,relative:a})}},[l,s,c,r,i,n,e,o,a])}function _O(e){let t=P.useRef(xp(e)),n=P.useRef(!1),r=ki(),i=P.useMemo(()=>fO(r.search,n.current?null:t.current),[r.search]),o=Jl(),a=P.useCallback((s,l)=>{const c=xp(typeof s=="function"?s(i):s);n.current=!0,o("?"+c,l)},[o,i]);return[i,a]}const pt=(...e)=>({className:e.filter(Boolean).map(String).join(" ")});function Sp(e){return JSON.parse(JSON.stringify(e))}function xO({delayMs:e=1e3,onUninterested:t=()=>{}}={}){let n;const r=P.useRef(t);r.current=t;const i=()=>{n=setTimeout(()=>r.current(),e)};return P.useEffect(()=>void i(),[]),P.useRef({props:{onMouseMove:()=>{n&&clearTimeout(n),n=void 0},onMouseEnter:o=>{o.preventDefault(),n&&clearTimeout(n),n=void 0},onMouseLeave:o=>{o.preventDefault(),i()}},forceInterest(){this.props.onMouseLeave({preventDefault:()=>{}})}}).current}const jt=Me.forwardRef((e,t)=>T("div",{className:"alternis__center",ref:t,...e})),SO=g1(F3);var a0=Object.defineProperty,EO=Object.getOwnPropertyDescriptor,bO=Object.getOwnPropertyNames,kO=Object.prototype.hasOwnProperty,CO=(e,t)=>{for(var n in t)a0(e,n,{get:t[n],enumerable:!0})},AO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bO(t))!kO.call(e,i)&&i!==n&&a0(e,i,{get:()=>t[i],enumerable:!(r=EO(t,i))||r.enumerable});return e},RO=e=>AO(a0({},"__esModule",{value:!0}),e),c2={};CO(c2,{temporal:()=>OO});var NO=RO(c2),TO=SO,Ty=(e,t,n)=>(i,o)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(a=1)=>{var s,l;if(o().pastStates.length){const c=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),h=o().pastStates.splice(-a,a),g=h.shift();e(g),i({pastStates:o().pastStates,futureStates:o().futureStates.concat(((l=n==null?void 0:n.diff)==null?void 0:l.call(n,c,g))||c,h.reverse())})}},redo:(a=1)=>{var s,l;if(o().futureStates.length){const c=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),h=o().futureStates.splice(-a,a),g=h.shift();e(g),i({pastStates:o().pastStates.concat(((l=n==null?void 0:n.diff)==null?void 0:l.call(n,c,g))||c,h.reverse()),futureStates:o().futureStates})}},clear:()=>i({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>i({isTracking:!1}),resume:()=>i({isTracking:!0}),setOnSave:a=>i({_onSave:a}),_onSave:n==null?void 0:n.onSave,_handleSet:a=>{var s,l,c,h,g;if(o().isTracking){const S=((s=n==null?void 0:n.partialize)==null?void 0:s.call(n,t()))||t(),E=(l=n==null?void 0:n.diff)==null?void 0:l.call(n,a,S);(c=n==null?void 0:n.equality)!=null&&c.call(n,a,S)||E===null||(n!=null&&n.limit&&o().pastStates.length>=(n==null?void 0:n.limit)&&o().pastStates.shift(),(g=(h=o())._onSave)==null||g.call(h,a,S),i({pastStates:o().pastStates.concat(E||a),futureStates:[]}))}}}),OO=(e,t)=>(r,i,o)=>{var l,c;o.temporal=(0,TO.createStore)(((l=t==null?void 0:t.wrapTemporal)==null?void 0:l.call(t,Ty(r,i,t)))||Ty(r,i,t));const a=((c=t==null?void 0:t.handleSet)==null?void 0:c.call(t,o.temporal.getState()._handleSet))||o.temporal.getState()._handleSet,s=o.setState;return o.setState=(...h)=>{var S;const g=((S=t==null?void 0:t.partialize)==null?void 0:S.call(t,i()))||i();s(...h),a(g)},e((...h)=>{var S;const g=((S=t==null?void 0:t.partialize)==null?void 0:S.call(t,i()))||i();r(...h),a(g)},i,o)};function bf(e){return"$"+e}function f2(e){return e.substring(1)}function co(){this._store={}}co.prototype.get=function(e){var t=bf(e);return this._store[t]};co.prototype.set=function(e,t){var n=bf(e);return this._store[n]=t,!0};co.prototype.has=function(e){var t=bf(e);return t in this._store};co.prototype.keys=function(){return Object.keys(this._store).map(e=>f2(e))};co.prototype.delete=function(e){var t=bf(e),n=t in this._store;return delete this._store[t],n};co.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],o=this._store[i];i=f2(i),e(o,i)}};Object.defineProperty(co.prototype,"size",{get:function(){return Object.keys(this._store).length}});function kf(e){if(this._store=new co,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}kf.prototype.add=function(e){return this._store.set(e,!0)};kf.prototype.has=function(e){return this._store.has(e)};kf.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})};Object.defineProperty(kf.prototype,"size",{get:function(){return this._store.size}});const PO={},d2=Object.freeze(Object.defineProperty({__proto__:null,default:PO},Symbol.toStringTag,{value:"Module"})),DO=g1(d2);var s0={};s0.test=function(){return typeof globalThis.queueMicrotask=="function"};s0.install=function(e){return function(){globalThis.queueMicrotask(e)}};var l0={},h2=globalThis.MutationObserver||globalThis.WebKitMutationObserver;l0.test=function(){return h2};l0.install=function(e){var t=0,n=new h2(e),r=globalThis.document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=++t%2}};var u0={};u0.test=function(){return globalThis.setImmediate?!1:typeof globalThis.MessageChannel<"u"};u0.install=function(e){var t=new globalThis.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}};var c0={};c0.test=function(){return"document"in globalThis&&"onreadystatechange"in globalThis.document.createElement("script")};c0.install=function(e){return function(){var t=globalThis.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},globalThis.document.documentElement.appendChild(t),e}};var f0={};f0.test=function(){return!0};f0.install=function(e){return function(){setTimeout(e,0)}};var Js=[DO,s0,l0,u0,c0,f0],cl,Do,Qs=-1,Io=[];function IO(){!cl||!Do||(cl=!1,Do.length?Io=Do.concat(Io):Qs=-1,Io.length&&p2())}function p2(){if(!cl){cl=!0;for(var e=Io.length,t=setTimeout(IO);e;){for(Do=Io,Io=[];Do&&++Qs<e;)Do[Qs].run();Qs=-1,e=Io.length}Do=null,Qs=-1,cl=!1,clearTimeout(t)}}var zs=-1,MO=Js.length;for(;++zs<MO;)if(Js[zs]&&Js[zs].test&&Js[zs].test()){Js[zs].install(p2);break}class zt extends Error{constructor(t,n,r){super(),this.status=t,this.name=n,this.message=r,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new zt(401,"unauthorized","Name or password is incorrect.");new zt(400,"bad_request","Missing JSON list of 'docs'");new zt(404,"not_found","missing");new zt(409,"conflict","Document update conflict");new zt(400,"bad_request","_id field must contain a string");new zt(412,"missing_id","_id is required for puts");new zt(400,"bad_request","Only reserved document ids may start with underscore.");new zt(412,"precondition_failed","Database not open");new zt(500,"unknown_error","Database encountered an unknown error");new zt(500,"badarg","Some query argument is invalid");new zt(400,"invalid_request","Request was invalid");new zt(400,"query_parse_error","Some query parameter is invalid");new zt(500,"doc_validation","Bad special document member");new zt(400,"bad_request","Something wrong with the request");new zt(400,"bad_request","Document must be a JSON object");new zt(404,"not_found","Database not found");new zt(500,"indexed_db_went_bad","unknown");new zt(500,"web_sql_went_bad","unknown");new zt(500,"levelDB_went_went_bad","unknown");new zt(403,"forbidden","Forbidden by design doc validate_doc_update function");new zt(400,"bad_request","Invalid rev format");new zt(412,"file_exists","The database could not be created, the file already exists.");new zt(412,"missing_stub","A pre-existing attachment stub wasn't found");new zt(413,"invalid_url","Provided URL is invalid");var Ep={},LO={get exports(){return Ep},set exports(e){Ep=e}},Ha=typeof Reflect=="object"?Reflect:null,Oy=Ha&&typeof Ha.apply=="function"?Ha.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},rc;Ha&&typeof Ha.ownKeys=="function"?rc=Ha.ownKeys:Object.getOwnPropertySymbols?rc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:rc=function(t){return Object.getOwnPropertyNames(t)};function BO(e){console&&console.warn&&console.warn(e)}var g2=Number.isNaN||function(t){return t!==t};function Ct(){Ct.init.call(this)}LO.exports=Ct;Ep.once=UO;Ct.EventEmitter=Ct;Ct.prototype._events=void 0;Ct.prototype._eventsCount=0;Ct.prototype._maxListeners=void 0;var Py=10;function Cf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ct,"defaultMaxListeners",{enumerable:!0,get:function(){return Py},set:function(e){if(typeof e!="number"||e<0||g2(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Py=e}});Ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ct.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||g2(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function m2(e){return e._maxListeners===void 0?Ct.defaultMaxListeners:e._maxListeners}Ct.prototype.getMaxListeners=function(){return m2(this)};Ct.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")Oy(l,this,n);else for(var c=l.length,h=x2(l,c),r=0;r<c;++r)Oy(h[r],this,n);return!0};function v2(e,t,n,r){var i,o,a;if(Cf(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=m2(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,BO(s)}return e}Ct.prototype.addListener=function(t,n){return v2(this,t,n,!1)};Ct.prototype.on=Ct.prototype.addListener;Ct.prototype.prependListener=function(t,n){return v2(this,t,n,!0)};function jO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y2(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=jO.bind(r);return i.listener=n,r.wrapFn=i,i}Ct.prototype.once=function(t,n){return Cf(n),this.on(t,y2(this,t,n)),this};Ct.prototype.prependOnceListener=function(t,n){return Cf(n),this.prependListener(t,y2(this,t,n)),this};Ct.prototype.removeListener=function(t,n){var r,i,o,a,s;if(Cf(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():zO(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ct.prototype.off=Ct.prototype.removeListener;Ct.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function w2(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?FO(i):x2(i,i.length)}Ct.prototype.listeners=function(t){return w2(this,t,!0)};Ct.prototype.rawListeners=function(t){return w2(this,t,!1)};Ct.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):_2.call(e,t)};Ct.prototype.listenerCount=_2;function _2(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ct.prototype.eventNames=function(){return this._eventsCount>0?rc(this._events):[]};function x2(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function zO(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function FO(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function UO(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}S2(e,t,o,{once:!0}),t!=="error"&&HO(e,i,{once:!0})})}function HO(e,t,n){typeof e.on=="function"&&S2(e,"error",t,n)}function S2(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Dy={},qO={get exports(){return Dy},set exports(e){Dy=e}};(function(e,t){(function(n){e.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(x,w){var _=x[0],d=x[1],y=x[2],m=x[3];_+=(d&y|~d&m)+w[0]-680876936|0,_=(_<<7|_>>>25)+d|0,m+=(_&d|~_&y)+w[1]-389564586|0,m=(m<<12|m>>>20)+_|0,y+=(m&_|~m&d)+w[2]+606105819|0,y=(y<<17|y>>>15)+m|0,d+=(y&m|~y&_)+w[3]-1044525330|0,d=(d<<22|d>>>10)+y|0,_+=(d&y|~d&m)+w[4]-176418897|0,_=(_<<7|_>>>25)+d|0,m+=(_&d|~_&y)+w[5]+1200080426|0,m=(m<<12|m>>>20)+_|0,y+=(m&_|~m&d)+w[6]-1473231341|0,y=(y<<17|y>>>15)+m|0,d+=(y&m|~y&_)+w[7]-45705983|0,d=(d<<22|d>>>10)+y|0,_+=(d&y|~d&m)+w[8]+1770035416|0,_=(_<<7|_>>>25)+d|0,m+=(_&d|~_&y)+w[9]-1958414417|0,m=(m<<12|m>>>20)+_|0,y+=(m&_|~m&d)+w[10]-42063|0,y=(y<<17|y>>>15)+m|0,d+=(y&m|~y&_)+w[11]-1990404162|0,d=(d<<22|d>>>10)+y|0,_+=(d&y|~d&m)+w[12]+1804603682|0,_=(_<<7|_>>>25)+d|0,m+=(_&d|~_&y)+w[13]-40341101|0,m=(m<<12|m>>>20)+_|0,y+=(m&_|~m&d)+w[14]-1502002290|0,y=(y<<17|y>>>15)+m|0,d+=(y&m|~y&_)+w[15]+1236535329|0,d=(d<<22|d>>>10)+y|0,_+=(d&m|y&~m)+w[1]-165796510|0,_=(_<<5|_>>>27)+d|0,m+=(_&y|d&~y)+w[6]-1069501632|0,m=(m<<9|m>>>23)+_|0,y+=(m&d|_&~d)+w[11]+643717713|0,y=(y<<14|y>>>18)+m|0,d+=(y&_|m&~_)+w[0]-373897302|0,d=(d<<20|d>>>12)+y|0,_+=(d&m|y&~m)+w[5]-701558691|0,_=(_<<5|_>>>27)+d|0,m+=(_&y|d&~y)+w[10]+38016083|0,m=(m<<9|m>>>23)+_|0,y+=(m&d|_&~d)+w[15]-660478335|0,y=(y<<14|y>>>18)+m|0,d+=(y&_|m&~_)+w[4]-405537848|0,d=(d<<20|d>>>12)+y|0,_+=(d&m|y&~m)+w[9]+568446438|0,_=(_<<5|_>>>27)+d|0,m+=(_&y|d&~y)+w[14]-1019803690|0,m=(m<<9|m>>>23)+_|0,y+=(m&d|_&~d)+w[3]-187363961|0,y=(y<<14|y>>>18)+m|0,d+=(y&_|m&~_)+w[8]+1163531501|0,d=(d<<20|d>>>12)+y|0,_+=(d&m|y&~m)+w[13]-1444681467|0,_=(_<<5|_>>>27)+d|0,m+=(_&y|d&~y)+w[2]-51403784|0,m=(m<<9|m>>>23)+_|0,y+=(m&d|_&~d)+w[7]+1735328473|0,y=(y<<14|y>>>18)+m|0,d+=(y&_|m&~_)+w[12]-1926607734|0,d=(d<<20|d>>>12)+y|0,_+=(d^y^m)+w[5]-378558|0,_=(_<<4|_>>>28)+d|0,m+=(_^d^y)+w[8]-2022574463|0,m=(m<<11|m>>>21)+_|0,y+=(m^_^d)+w[11]+1839030562|0,y=(y<<16|y>>>16)+m|0,d+=(y^m^_)+w[14]-35309556|0,d=(d<<23|d>>>9)+y|0,_+=(d^y^m)+w[1]-1530992060|0,_=(_<<4|_>>>28)+d|0,m+=(_^d^y)+w[4]+1272893353|0,m=(m<<11|m>>>21)+_|0,y+=(m^_^d)+w[7]-155497632|0,y=(y<<16|y>>>16)+m|0,d+=(y^m^_)+w[10]-1094730640|0,d=(d<<23|d>>>9)+y|0,_+=(d^y^m)+w[13]+681279174|0,_=(_<<4|_>>>28)+d|0,m+=(_^d^y)+w[0]-358537222|0,m=(m<<11|m>>>21)+_|0,y+=(m^_^d)+w[3]-722521979|0,y=(y<<16|y>>>16)+m|0,d+=(y^m^_)+w[6]+76029189|0,d=(d<<23|d>>>9)+y|0,_+=(d^y^m)+w[9]-640364487|0,_=(_<<4|_>>>28)+d|0,m+=(_^d^y)+w[12]-421815835|0,m=(m<<11|m>>>21)+_|0,y+=(m^_^d)+w[15]+530742520|0,y=(y<<16|y>>>16)+m|0,d+=(y^m^_)+w[2]-995338651|0,d=(d<<23|d>>>9)+y|0,_+=(y^(d|~m))+w[0]-198630844|0,_=(_<<6|_>>>26)+d|0,m+=(d^(_|~y))+w[7]+1126891415|0,m=(m<<10|m>>>22)+_|0,y+=(_^(m|~d))+w[14]-1416354905|0,y=(y<<15|y>>>17)+m|0,d+=(m^(y|~_))+w[5]-57434055|0,d=(d<<21|d>>>11)+y|0,_+=(y^(d|~m))+w[12]+1700485571|0,_=(_<<6|_>>>26)+d|0,m+=(d^(_|~y))+w[3]-1894986606|0,m=(m<<10|m>>>22)+_|0,y+=(_^(m|~d))+w[10]-1051523|0,y=(y<<15|y>>>17)+m|0,d+=(m^(y|~_))+w[1]-2054922799|0,d=(d<<21|d>>>11)+y|0,_+=(y^(d|~m))+w[8]+1873313359|0,_=(_<<6|_>>>26)+d|0,m+=(d^(_|~y))+w[15]-30611744|0,m=(m<<10|m>>>22)+_|0,y+=(_^(m|~d))+w[6]-1560198380|0,y=(y<<15|y>>>17)+m|0,d+=(m^(y|~_))+w[13]+1309151649|0,d=(d<<21|d>>>11)+y|0,_+=(y^(d|~m))+w[4]-145523070|0,_=(_<<6|_>>>26)+d|0,m+=(d^(_|~y))+w[11]-1120210379|0,m=(m<<10|m>>>22)+_|0,y+=(_^(m|~d))+w[2]+718787259|0,y=(y<<15|y>>>17)+m|0,d+=(m^(y|~_))+w[9]-343485551|0,d=(d<<21|d>>>11)+y|0,x[0]=_+x[0]|0,x[1]=d+x[1]|0,x[2]=y+x[2]|0,x[3]=m+x[3]|0}function o(x){var w=[],_;for(_=0;_<64;_+=4)w[_>>2]=x.charCodeAt(_)+(x.charCodeAt(_+1)<<8)+(x.charCodeAt(_+2)<<16)+(x.charCodeAt(_+3)<<24);return w}function a(x){var w=[],_;for(_=0;_<64;_+=4)w[_>>2]=x[_]+(x[_+1]<<8)+(x[_+2]<<16)+(x[_+3]<<24);return w}function s(x){var w=x.length,_=[1732584193,-271733879,-1732584194,271733878],d,y,m,b,N,D;for(d=64;d<=w;d+=64)i(_,o(x.substring(d-64,d)));for(x=x.substring(d-64),y=x.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<y;d+=1)m[d>>2]|=x.charCodeAt(d)<<(d%4<<3);if(m[d>>2]|=128<<(d%4<<3),d>55)for(i(_,m),d=0;d<16;d+=1)m[d]=0;return b=w*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(b[2],16),D=parseInt(b[1],16)||0,m[14]=N,m[15]=D,i(_,m),_}function l(x){var w=x.length,_=[1732584193,-271733879,-1732584194,271733878],d,y,m,b,N,D;for(d=64;d<=w;d+=64)i(_,a(x.subarray(d-64,d)));for(x=d-64<w?x.subarray(d-64):new Uint8Array(0),y=x.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<y;d+=1)m[d>>2]|=x[d]<<(d%4<<3);if(m[d>>2]|=128<<(d%4<<3),d>55)for(i(_,m),d=0;d<16;d+=1)m[d]=0;return b=w*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(b[2],16),D=parseInt(b[1],16)||0,m[14]=N,m[15]=D,i(_,m),_}function c(x){var w="",_;for(_=0;_<4;_+=1)w+=r[x>>_*8+4&15]+r[x>>_*8&15];return w}function h(x){var w;for(w=0;w<x.length;w+=1)x[w]=c(x[w]);return x.join("")}h(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function x(w,_){return w=w|0||0,w<0?Math.max(w+_,0):Math.min(w,_)}ArrayBuffer.prototype.slice=function(w,_){var d=this.byteLength,y=x(w,d),m=d,b,N,D,G;return _!==n&&(m=x(_,d)),y>m?new ArrayBuffer(0):(b=m-y,N=new ArrayBuffer(b),D=new Uint8Array(N),G=new Uint8Array(this,y,b),D.set(G),N)}}();function g(x){return/[\u0080-\uFFFF]/.test(x)&&(x=unescape(encodeURIComponent(x))),x}function S(x,w){var _=x.length,d=new ArrayBuffer(_),y=new Uint8Array(d),m;for(m=0;m<_;m+=1)y[m]=x.charCodeAt(m);return w?y:d}function E(x){return String.fromCharCode.apply(null,new Uint8Array(x))}function k(x,w,_){var d=new Uint8Array(x.byteLength+w.byteLength);return d.set(new Uint8Array(x)),d.set(new Uint8Array(w),x.byteLength),_?d:d.buffer}function C(x){var w=[],_=x.length,d;for(d=0;d<_-1;d+=2)w.push(parseInt(x.substr(d,2),16));return String.fromCharCode.apply(String,w)}function R(){this.reset()}return R.prototype.append=function(x){return this.appendBinary(g(x)),this},R.prototype.appendBinary=function(x){this._buff+=x,this._length+=x.length;var w=this._buff.length,_;for(_=64;_<=w;_+=64)i(this._hash,o(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},R.prototype.end=function(x){var w=this._buff,_=w.length,d,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m;for(d=0;d<_;d+=1)y[d>>2]|=w.charCodeAt(d)<<(d%4<<3);return this._finish(y,_),m=h(this._hash),x&&(m=C(m)),this.reset(),m},R.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},R.prototype.setState=function(x){return this._buff=x.buff,this._length=x.length,this._hash=x.hash,this},R.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},R.prototype._finish=function(x,w){var _=w,d,y,m;if(x[_>>2]|=128<<(_%4<<3),_>55)for(i(this._hash,x),_=0;_<16;_+=1)x[_]=0;d=this._length*8,d=d.toString(16).match(/(.*?)(.{0,8})$/),y=parseInt(d[2],16),m=parseInt(d[1],16)||0,x[14]=y,x[15]=m,i(this._hash,x)},R.hash=function(x,w){return R.hashBinary(g(x),w)},R.hashBinary=function(x,w){var _=s(x),d=h(_);return w?C(d):d},R.ArrayBuffer=function(){this.reset()},R.ArrayBuffer.prototype.append=function(x){var w=k(this._buff.buffer,x,!0),_=w.length,d;for(this._length+=x.byteLength,d=64;d<=_;d+=64)i(this._hash,a(w.subarray(d-64,d)));return this._buff=d-64<_?new Uint8Array(w.buffer.slice(d-64)):new Uint8Array(0),this},R.ArrayBuffer.prototype.end=function(x){var w=this._buff,_=w.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y,m;for(y=0;y<_;y+=1)d[y>>2]|=w[y]<<(y%4<<3);return this._finish(d,_),m=h(this._hash),x&&(m=C(m)),this.reset(),m},R.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.ArrayBuffer.prototype.getState=function(){var x=R.prototype.getState.call(this);return x.buff=E(x.buff),x},R.ArrayBuffer.prototype.setState=function(x){return x.buff=S(x.buff,!0),R.prototype.setState.call(this,x)},R.ArrayBuffer.prototype.destroy=R.prototype.destroy,R.ArrayBuffer.prototype._finish=R.prototype._finish,R.ArrayBuffer.hash=function(x,w){var _=l(new Uint8Array(x)),d=h(_);return w?C(d):d},R})})(qO);function $O(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function WO(e){if(typeof e.slice=="function")return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function VO(e){if(e instanceof ArrayBuffer)return WO(e);var t=e.size,n=e.type;return typeof e.slice=="function"?e.slice(0,t,n):e.webkitSlice(0,t,n)}var E2=Function.prototype.toString,KO=E2.call(Object);function GO(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&E2.call(n)==KO}function bp(e){var t,n,r;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=bp(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if($O(e))return VO(e);if(!GO(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=bp(e[n]);typeof i<"u"&&(t[n]=i)}return t}var Iy;try{localStorage.setItem("_pouch_check_localstorage",1),Iy=!!localStorage.getItem("_pouch_check_localstorage")}catch{Iy=!1}var Fs=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},vt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ha,Zs,on,Pi,Di;class YO{constructor(t){ha.set(this,void 0),Zs.set(this,void 0),on.set(this,null),Pi.set(this,new Map),Di.set(this,!1),Fs(this,ha,t,"f"),Fs(this,Zs,()=>{this.unsubscribeAll()},"f"),t.once("destroyed",vt(this,Zs,"f"))}subscribeToDocs(t,n){var r;if(vt(this,Di,"f"))return()=>{};vt(this,on,"f")==null&&Fs(this,on,JO(vt(this,ha,"f")),"f");const i=Array.isArray(t)&&t.length>0;if(i)for(const a of t??[])if(vt(this,on,"f").ids.has(a))(r=vt(this,on,"f").ids.get(a))===null||r===void 0||r.add(n);else{const s=new Set;s.add(n),vt(this,on,"f").ids.set(a,s)}else vt(this,on,"f").all.add(n);let o=!1;return()=>{var a,s,l,c;if(!(o||vt(this,Di,"f"))){if(o=!0,i)for(const h of t??[]){const g=(a=vt(this,on,"f"))===null||a===void 0?void 0:a.ids.get(h);g==null||g.delete(n),(g==null?void 0:g.size)===0&&((s=vt(this,on,"f"))===null||s===void 0||s.ids.delete(h))}else(l=vt(this,on,"f"))===null||l===void 0||l.all.delete(n);((c=vt(this,on,"f"))===null||c===void 0?void 0:c.all.size)===0&&vt(this,on,"f").ids.size===0&&(vt(this,on,"f").changesFeed.cancel(),Fs(this,on,null,"f"))}}}subscribeToView(t,n){if(vt(this,Di,"f"))return()=>{};let r;vt(this,Pi,"f").has(t)?r=vt(this,Pi,"f").get(t):(r=QO(vt(this,ha,"f"),t),vt(this,Pi,"f").set(t,r)),r.callbacks.add(n);let i=!1;return()=>{i||vt(this,Di,"f")||(i=!0,r.callbacks.delete(n),r.callbacks.size===0&&(r.feed.cancel(),vt(this,Pi,"f").delete(t)))}}unsubscribeAll(){if(!vt(this,Di,"f")){Fs(this,Di,!0,"f"),vt(this,ha,"f").removeListener("destroyed",vt(this,Zs,"f")),vt(this,on,"f")&&(vt(this,on,"f").changesFeed.cancel(),vt(this,on,"f").all.clear(),vt(this,on,"f").ids.forEach(t=>{t.clear()}),vt(this,on,"f").ids.clear());for(const t of vt(this,Pi,"f").values())t.feed.cancel(),t.callbacks.clear();vt(this,Pi,"f").clear()}}}ha=new WeakMap,Zs=new WeakMap,on=new WeakMap,Pi=new WeakMap,Di=new WeakMap;function JO(e){let t=null;return t={changesFeed:e.changes({since:"now",live:!0}).on("change",r=>{var i;const o=((i=t==null?void 0:t.all.size)!==null&&i!==void 0?i:0)>0,a=t==null?void 0:t.ids.get(r.id);r.deleted?(o&&t&&ju(t.all,!0,r.id),a&&ju(a,!0,r.id)):e.get(r.id).then(s=>{o&&t&&ju(t.all,!1,r.id,s),a&&ju(a,!1,r.id,s)}).catch(console.error)}),all:new Set,ids:new Map},t}function ju(e,t,n,r){for(const i of e)try{const o=r?bp(r):void 0;i(t,n,o)}catch(o){console.error(o)}}function QO(e,t){let n=null;return n={feed:e.changes({since:"now",live:!0,filter:"_view",view:t}).on("change",i=>{var o;for(const a of(o=n==null?void 0:n.callbacks)!==null&&o!==void 0?o:[])try{a(i.id)}catch(s){console.error(s)}}),callbacks:new Set},n}const kp=P.createContext({defaultKey:"",databases:{}});function ZO(e){const{pouchdb:t,name:n}=e,{databases:r,default:i}=e;let o,a;if(r!=null&&i!=null)o=r,a=i.toString();else if(t!=null)a=(n==null?void 0:n.toString())||t.name,o={[a]:t};else throw new TypeError("databases argument must be pared with the default argument");const s=XO(o),l=P.useContext(kp).databases,c=P.useMemo(()=>({defaultKey:a,databases:Object.assign(Object.assign({},l),s)}),[s,a,l]);return Me.createElement(kp.Provider,{value:c},e.children)}function XO(e){const[t,n]=P.useState(e),[r,i]=P.useState(null);if(r&&e===t)return r;const o={},a=new Set(Object.keys(r??{}));let s=!1;for(const[l,c]of Object.entries(e))r&&t[l]===c?(o[l]=r[l],a.delete(l)):(s=!0,o[l]={pouchdb:c,subscriptionManager:new YO(c)});if(s||a.size>0)n(e),i(o);else if(r)return r;if(r)for(const l of a)r[l].subscriptionManager.unsubscribeAll();return o}function b2(e){const{defaultKey:t,databases:n}=P.useContext(kp);if(t===""&&n[t]==null&&Object.keys(n).length===0)throw new Error("could not find PouchDB context value; please ensure the component is wrapped in a <Provider>");const r=e==="_default"?t:e??t;if(!(r in n))throw new Error(`could not find a PouchDB database with name of "${e}"`);return n[r]}function k2(e){const[t,n]=P.useReducer(eP,e,a=>(typeof a=="function"&&(a=a()),a||(a={}),Object.assign(Object.assign({},a),{error:null,state:"loading"}))),r=P.useMemo(()=>Object.assign(Object.assign({},t),{loading:t.state==="loading"}),[t]),i=P.useRef(t);i.current=t;const o=P.useCallback(a=>{const s=a(i.current);n({type:"loading_finished",payload:s})},[]);return[r,n,o]}function eP(e,t){switch(t.type){case"loading_started":return Object.assign(Object.assign({},e),{state:"loading"});case"loading_finished":return Object.assign(Object.assign({},t.payload),{error:null,state:"done"});case"loading_error":return Object.assign(Object.assign(Object.assign({},e),t.payload.setResult?t.payload.result||{}:{}),{state:"error",error:t.payload.error});default:return e}}function C2(e,t,n){const{pouchdb:r,subscriptionManager:i}=b2(t==null?void 0:t.db),{rev:o,revs:a,revs_info:s,conflicts:l,attachments:c,binary:h,latest:g}=t||{},S=P.useCallback(()=>{let x=null;typeof n=="function"?x=n():n&&typeof n=="object"&&(x=n);const w=x;return w&&w._id==null&&(w._id=e),w&&w._rev==null&&(w._rev=""),{doc:w}},[e,n]),[E,k]=k2(S),C=P.useRef(e);P.useEffect(()=>{e!==C.current&&(C.current=e,n!=null&&k({type:"loading_finished",payload:S()}))},[e,n,S,k]);const R=P.useRef(S);return R.current=S,P.useEffect(()=>{let x=!0;const w=async()=>{k({type:"loading_started"});try{const d=await r.get(e,{rev:o,revs:a,revs_info:s,conflicts:l,attachments:c,binary:h,latest:g});x&&k({type:"loading_finished",payload:{doc:d}})}catch(d){x&&k({type:"loading_error",payload:{error:d,setResult:!0,result:R.current()}})}};w();const _=o&&!g?()=>{}:i.subscribeToDocs([e],(d,y,m)=>{x&&(d||a||s||l||c?w():k({type:"loading_finished",payload:{doc:m}}))});return()=>{x=!1,_()}},[k,r,i,e,o,a,s,l,c,h,g]),E}var tP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};function nP(e){const t=P.useRef(e);return P.useMemo(()=>tP(t.current,e)?t.current:(t.current=e,e),[e])}function rP(e){const{pouchdb:t,subscriptionManager:n}=b2(e==null?void 0:e.db),{include_docs:r,conflicts:i,attachments:o,binary:a,limit:s,skip:l,descending:c,update_seq:h}=e||{},{startkey:g,endkey:S,inclusive_end:E}=e||{},{key:k}=e||{},C=nP(e==null?void 0:e.keys),[R,x,w]=k2(()=>({rows:[],total_rows:0,offset:0}));return P.useEffect(()=>{let _=!0,d=!1,y=!1;const m={include_docs:r,conflicts:i,attachments:o,binary:a,limit:s,skip:l,descending:c,update_seq:h,startkey:g,endkey:S,inclusive_end:E,key:k,keys:C},b=async()=>{if(d){y=!0;return}d=!0,y=!1,x({type:"loading_started"});try{const G=await t.allDocs(m);_&&x({type:"loading_finished",payload:G})}catch(G){_&&x({type:"loading_error",payload:{error:G,setResult:!1}})}finally{d=!1,y&&_&&b()}};b();let N=null;k!=null?N=[k]:C!=null&&(N=C);const D=n.subscribeToDocs(N,(G,se)=>{!_||!iP(se,g,S,E,c)||(G?w(J=>{const z=J.rows.filter(M=>M.id!==se);return Object.assign(Object.assign({},J),{rows:z,total_rows:J.total_rows-(J.rows.length-z.length)})}):b())});return()=>{_=!1,D()}},[x,w,t,n,r,i,o,a,g,S,E,s,l,c,k,C,h]),R}function iP(e,t,n,r,i){return t&&(i&&e>t||!i&&e<t)?!1:n==null?!0:r?i?e>=n:e<=n:i?e>n:e<n}const oP="hidden/template1",aP="2024-02-04T20:54:23.022Z",sP="Aisha and Aaron project",lP={intro:{nodes:[{id:"1",type:"entry",position:{x:255,y:105},width:68,height:41,selected:!1,positionAbsolute:{x:255,y:105},dragging:!1},{id:"2",type:"dialogueEntry",data:{speakerIndex:0,text:"Hey"},position:{x:390,y:45},width:207,height:151,selected:!1,positionAbsolute:{x:390,y:45},dragging:!1},{id:"3",type:"randomSwitch",data:{proportions:[1,9]},position:{x:660,y:30},width:174,height:170,selected:!1,positionAbsolute:{x:660,y:30},dragging:!1},{id:"4",type:"dialogueEntry",data:{speakerIndex:1,text:"WELL HELLO"},position:{x:945,y:-75},width:207,height:151,selected:!1,positionAbsolute:{x:945,y:-75},dragging:!1},{id:"5",type:"dialogueEntry",data:{speakerIndex:1,text:"Yo"},position:{x:945,y:150},width:207,height:151,selected:!1,positionAbsolute:{x:945,y:150},dragging:!1},{id:"6",type:"playerReplies",data:{replies:[{text:"It's {name} and I like waffles",condition:"none"},{text:"It's {name}",condition:"none"},{lockVariable:"Aaron likes you",condition:"unlocked",text:"Wanna go eat waffles?"}],label:"name-replies",speaker:0},position:{x:1920,y:30},width:375,height:164,selected:!1,positionAbsolute:{x:1920,y:30},dragging:!1},{id:"7",type:"goto",data:{target:"name-replies"},position:{x:3060,y:30},width:216,height:111,selected:!1,positionAbsolute:{x:3060,y:30},dragging:!1},{id:"8",type:"lockNode",data:{action:"unlock",variable:"Aaron likes you"},position:{x:2385,y:-180},width:209,height:133,selected:!1,positionAbsolute:{x:2385,y:-180},dragging:!1},{id:"9",type:"dialogueEntry",data:{speakerIndex:1,text:"What's your name?"},position:{x:1290,y:45},width:207,height:151,selected:!1,positionAbsolute:{x:1290,y:45},dragging:!1},{id:"10",type:"dialogueEntry",data:{speakerIndex:1,text:`You're pretty cool!
What was your name again?`},position:{x:2685,y:-210},width:207,height:151,selected:!1,positionAbsolute:{x:2685,y:-210},dragging:!1},{id:"11",type:"dialogueEntry",data:{speakerIndex:1,text:"Ok. What was your name again?"},position:{x:2370,y:0},width:207,height:151,selected:!1,positionAbsolute:{x:2370,y:0},dragging:!1},{id:"12",type:"dialogueEntry",data:{speakerIndex:1,text:"Yeah, {name}."},position:{x:2400,y:210},width:207,height:151,selected:!1,positionAbsolute:{x:2400,y:210},dragging:!1},{id:"13",type:"emitNode",data:{function:"ask player name"},position:{x:1605,y:60},width:215,height:130,selected:!1,positionAbsolute:{x:1605,y:60},dragging:!1}],edges:[{source:"1",sourceHandle:"1_source_0",target:"2",targetHandle:"2_target_0",id:"reactflow__edge-11_source_0-22_target_0",selected:!1},{source:"3",sourceHandle:"3_source_1",target:"5",targetHandle:"5_target_0",id:"reactflow__edge-33_source_1-55_target_0",selected:!1},{source:"4",sourceHandle:"4_source_0",target:"9",targetHandle:"9_target_0",id:"reactflow__edge-44_source_0-99_target_0",selected:!1},{source:"5",sourceHandle:"5_source_0",target:"9",targetHandle:"9_target_0",id:"reactflow__edge-55_source_0-99_target_0",selected:!1},{source:"8",sourceHandle:"8_source_0",target:"10",targetHandle:"10_target_0",id:"reactflow__edge-88_source_0-1010_target_0"},{source:"6",sourceHandle:"6_source_1",target:"11",targetHandle:"11_target_0",id:"reactflow__edge-66_source_1-1111_target_0"},{source:"6",sourceHandle:"6_source_2",target:"12",targetHandle:"12_target_0",id:"reactflow__edge-66_source_2-1212_target_0"},{source:"10",sourceHandle:"10_source_0",target:"7",targetHandle:"7_target_0",id:"reactflow__edge-1010_source_0-77_target_0"},{source:"11",sourceHandle:"11_source_0",target:"7",targetHandle:"7_target_0",id:"reactflow__edge-1111_source_0-77_target_0"},{source:"9",sourceHandle:"9_source_0",target:"13",targetHandle:"13_target_0",id:"reactflow__edge-99_source_0-1313_target_0",selected:!1},{source:"13",sourceHandle:"13_source_0",target:"6",targetHandle:"6_target_0",id:"reactflow__edge-1313_source_0-66_target_0",selected:!1},{source:"3",sourceHandle:"3_source_0",target:"4",targetHandle:"4_target_0",id:"reactflow__edge-33_source_0-44_target_0"},{source:"6",sourceHandle:"6_source_0",target:"8",targetHandle:"8_target_0",id:"reactflow__edge-66_source_0-88_target_0"},{source:"2",sourceHandle:"2_source_0",target:"3",targetHandle:"3_target_0",id:"reactflow__edge-22_source_0-33_target_0"}]}},uP=[{name:"Aisha",portraitUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAB4ZVhJZk1NACoAAAAIAAUBBgADAAAAAQACAAABGgAFAAAAAQAAAEoBGwAFAAAAAQAAAFIBKAADAAAAAQACAACHaQAEAAAAAQAAAFoAAAAAAAABLAAAAAEAAAEsAAAAAQACoAIABAAAAAEAAABAoAMABAAAAAEAAABAAAAAADFlOmUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAIPaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+MzAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj4zMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlOis2wAAHTZJREFUeAHlm3mQnHWZx5/u6eme+57MkWSSSQIJSSCBQDDgKlJcK6zI5WqpWwaRXaRcqyy11sItj1q0tqwtt9StXXZZ2V2NKIcIKyDIsiIoICQQEnLfk2Tuu3tm+pju/X6et9+ZCVAQMbp/+CM9b/f7/t7f7zm+z/m+RF6492MF+yMe0ZD3wluI4c2vR8JlXncsREp1LrheCI9vsdfrFnnLE8X138a6sYA43Zmot7w+bzZm1y9YoRCxSIQzb8J88fLcGeEa4fHN9ns7105m3Uh62CKZYV8+VqTRfxSql5z0no6ItxBAuNjriUIkeX3miiac/Yc4HpgRQDRiryfvZEiIzBjPycyencNuwo/+/n8xP0sL394mG7rT5XYSTBSdh8/UPYAmFHouNy1TOpGgP8yv2U3lA35/g20iEbGrL2g9ncna8WO99sunN9u+fUesr2/Yli5ZYOeeu8rOPvsMq6+v8fm/P4q0MrTIf4XjFArA2Q3X9WOg6YjlclnbsfOg3Xvf4/bCC69afnrar+fzBRfEY4//2srKEnb++WfaJ2/5oDU21lo0GoAT4UmGp2wUWDCP/wnGKRRAoOm5xCLpiYlJu//HT9imTT+1WGmp1dZUWWlpTJ+4ZTJpi8VKLa7zo2Pj9vTTW+y5Z7daVXWVtbc1+bzGpjq75NINNq+5waqrKqy2rtpKisIJmTjZIyrKT+ctIsGH4xQK4ERNIemUmL/9a3fai9J6lYivr6uzmppqMR1zk1AgtZKSqP5GrLq62pqbGiSUrHX39NmrO/Y7jZjQ/zz5vGWzOb9v+fJFdtPHr7NzZDKw8duAA//jCAAFxREJM8FCXHlA07rw/O90nJaUR0bG7JZbb7fBwRExXmsLF8x3zeULeYsqhGSyGRdQNpt1ARR0vry8XEyW2ORU2np7+2zJkg7dE5MJRC2neQcOd9n0dM65/vjGa+yG6y/7reiE+emcEDB+wOJTh/3eU4oA1CE+7Hh3v/3lX33F0lMZa25uss7FHb7ZpBCRzmRcCxCTnppyc6yurvTzk/qN8PoHBrVOwX1B15FenZsWcmps5YrT3EkOD4/YP//LPZbT+Q9cf7lQhPmRmL25PEBT8Jmdd8oEAENAGWK/+MVv2dRkxjXfuXiR4Juxg4eOuCY7FrRbabzUCamvr3ObTKfTsndS5oJDfXBwyDLTWXvp5Z1ivMpSqUmbxnEJudzbUF9r7a0t9u3v3G379x+1277wcV9vli2+ka36wW0T4eB0oROjC8cpEwCSZRw42GXdQkBUKVadwloyOW4HxPzIyKhduGG9tFUiGE5L42lBfcrvQWh5MYjnh+bOzoW2e/d+GxgYtqHhURdsrn7aaquqLSsf0ds7oJBZZ/OFpscf/5XMJmqf/czHiv6EJSOGn8trH9bFhEpKtfZ00QSAaXGcMgEgVCR8z48ec8nPE/RBRDI1YePJpG04/zx3cKnUiGs9m8uJyEBFzAuyQ7Ojx3vcD4hqF1bnovnOUHlFwsoSCRseGff7xxQ1WluabWR03B586H/tpc077Tvf/oI1NKqe0boIOccesnkEUpKLulIwrbwEEY63nwmGK4RHrdnTM2BP/fLFQOrSJhodGx+3C9af56YxOjpmU+kpS8skpgXxTC7j0K+prbKWefOsqbHB5re1Wl1djVVWlMsH1FlWjGSz0wqnU0JM1jZsOMvi8ZjvkZJwV8kvlCXK7PDRHtt405dtIjlh2XTGMv7JCjEShJCSTWs/3e9OcNYCfodUOGRcR1ekjrt3HXKC6+T18fRoubqq0r324OCgfmfEXLUNjYyImYw11deL8Warqa7VGnmbnJx0m1/Q3uqwjUZKLC3CU5MTQg9CmLDnnnvFWtuaLZ6IuXl09/ba2jNXOjoGBodt092POBKBuyNdTjWXzTvjmXTOfUxYlsPCKUMAQhgZS4qRgsdrkh2E0NzU5PafEyETk2k7rhjfUFfvYbGuNnCCo6MjnjBlFOu5Dz+SErO1tdXW2CBbl8MbHBryOWjwyJEeN4+qqnKbkiAHdO3ss1ZJaBG774EnLDmWcqXIDc2YVlCDiGH8gaJGON5QADARjPAYTn/jo3tYwlffgNsnTodkJ5Eg28u6GUzJ0+OsyhPK5sRYhSCeSqVsLDWu44TP2bv/oG1/dbeNyq5rlTDBBcjI5hUGlSiNaz4ZI+cnJ9IyGeUu+p4U7PEzK07v9O/blEThj3IyHTI/BuEVRPAbPxCONxBAAB0W8HlOBHtCzOyN4QIcg/N5q68VlPU7SHGDpYHtiIgmgSlV2gtjMAPTMHT0WLf1yTy6lfigwYryuD4JX8cdpYjGfqkVqiorfFuyQsbg4KgQJiHI0w8r8aqsqPRk6xvfvEs0ZGR6AruUwTGqjNNLUW5EY8VxggDgDw/pHjSTs2lJcFpS4DefUJrhzaFAnn12m/3g7sds80s7HHJlZWUOZUJh32C/NDqmdVQAaX1SXsrgjDK7qAgJwl+Jo2X18sV2643X2g1XXyx/MOX+JCfBETrJENNyYqTXmBMaZ/94PO6+Jq/18QELFrQJTRP28yefw/c7PcA+oFXxRjRBVzhOEAAnPUxIoiHTmYmMvGjW4RRcQ8fBB42xMDDfueOI9ffTZop43B8bT7nUh4fHXRiLF3bYwoUKaZo/NDzs8D8uBxZUfQVb2tFu11z5Lu2bUyRosPdcuMaGhoZ9bWHRbbdJUaFcSMAfIEAywSnlEg3KCaCBtLpjfgts2B3fvU93CQFiVuxYVOaHwEOl+ST9OVEAIg7twBiQQeNozm1Jq3CNuIoj4hxHbPCd71zrqGppbrVz1qwWXMts/8HDNjY2anWy95VnrHDNIzfCItoblBDYhz0qBfmrLt/g4S6i0EnYWyk0NChiDEoIQB7nCJznNTcqvW70c1NCybQQWy6zIZPk0z8w6nOh9dfPvuS6Qt/kGmSTIG7uOFEAzBRDQL8gwrxSIzuTGeQUQvwjDWVkk1lCio5+TuZy48Y/c61UV1XZhvXr7AIlPm1t8xWnV1ityltscnRszI51dys5SjkNOd0HAWtWn+aaoVDC6aGyiOj48HWXSINR6+sfFKMoJki2mhrqra11nqVFC+YFs9QTpXK8ICqudJnjfQ8+4euyZk5CDNYWnty5BWI4MRME2cBE4CGBgPEQ5uHmTrTPYSpyVWYtwpDui1u22tLORe6wsM2EPqS7wDSlGA/0QYHcqcVLYnbjR69Q7V+pNUzCUejSf2W6Bxt1O5USbt34Pvv2nQ9Y17EeW9De4ntROyBo/MLQ0KiEC0JIsQm1kzZPCdXho8dt3/4u70LFhZ6C6KMGgEVJgr8+ThAABITDmXNngcSAjZiVN83ncSzk7RHXQCSrAkXefXw8qSwvbcd6ut3WnFLucslJc9ICdhqTaX1Imu3saHOH1ts/ZA88/LRrmN0ry8vkHyZ9jevlDBtqK+ymD7/X7tz0iKfJLfOa3B9AE42RGqELs6pUhMDZEe5otqCagN4i5LU4nTCEPXecaAJclnS4OaZ0s1QfZ8DPwwS3BuGQjUqKzBHi7vrPn/i65WVKTpSGYvvLT+u0hGDJmFKNz+ZLFrXb6Z0LpC1FBRF86Give3UEBmqWdM5X86TSz33vRz+zlO7DR3zo2osdzt09/dbTPyA0jXiWCH3c50iTAqCPkInzw2cwHzIDPhQOJTQ/AVEaJzRE0jVrLKtQg3RJZNAasAI+ODsYCBbQNkXzGFL8fe43W+0fv/MDj+9LOzts6/Ydtnb1CvkEpcKV5XaRPPrhrh5pvcWdK+uAwpigWVtTKZ+QEU0kN5POJIQJKnbX9x9W6lxr1115oWt2YGjMHnz0V4L5lLRf4uV2hYoknCbhEhrxFdg6DRnmXfQn59lnbv2IODW/B5RXl/RaInPEt5kRQL60zqaqzvJyczojJ6R0ESeI0t0panFsDq8FMjJT2lCCGZET+tjNXxK9MW9YoAEiQEtLk/X29bsfqBcaSIYue/c6a29p9I2jiu04x+27D9uOvce9TiiLReyC81Z6TsCkhMwhKwLiYigtVNELYOw9cMx+9sTzKqqyNn9+q+cuNFpziliEOvxBj0pmQnGZstFNd96u2iHuPUlpziqjPVaW6fK1ZkyA+OieEs0KPmjYY2bxdwnMa1BkEAG4Boz/9d/vd3iftlRwV7kKobS7EvEyq1MXJyZGKYha1O+756GnrKqmVoKNybZ1TWsu6Wi1hoYGefKMHe3rtf+69+d2qHsiQBp2ro4yGSEMgMRdaqevO+s0++ifX+5r0xtwHwWsJHyEgg8AwQwiBFUkPJWqgCqRcAS2mTEjAFSNnXgm6DCSAMQ89oLDAw1Rigj9xiw4xyY7lHdTuuKEaH9DTJB355WrN9rV77/aPnHLX1tlS8TOv2iZjUyadfUNOSQRYq0E8ndf+7o1L07YouUNdvm1Z9vn/uY2u+KqG7wLDAPAmp4gcb63X/0E0dXaUq8Q2+l7UdxAO04WpUwqzU54KAxi/4ByCfjjGvkNwgjHrAB0hqTEY6QcJwsiKA8fRenFiovCPMIh80rKzpYt6UQunr4C9c6ODneEhKQjh4/apZdcKvhFrayixHbt3GHNqv/DgU/CrzQ2V7mQJyYF27K49XYfcC/vBIsQ7LtUiKlU0oOTpZXeMX+e3xO2y/ALOOSEEjGUwwfF0ZlyPybFuTmHm+s4EwbdBBT7hW2FC2ddfgONIzmcYCZwIlzXhwHcmUOre0y+AMmSt4MGYjXae+75523Lbx6way+7RpnhmB3YfcDa5AdcwFoH6G955iG7asNV1qXYXau84JnHN7kWQRPooi5g3a7j/bagbZ52lpmKhC2v7FFW2OB9hFKZlSc6Tpd6jGIeZbIPodU1VOQl4A8OXpMKo0UYZjMysNAXuACQngiCYTSGT8gKmqSoFCIkOgimY367p6nk6clUUoREbaC7z2rKonb0SLctU5hjhELk+/jokA319lilUJKbmlQ9n3Rocw0ok9nxUGTz1j226f7HJbS8HVJU6VM1uPz0RQrHyk20NwKDNvTjtPNFIyZkMLy4c5QXcwOu+RX+iPuomJqWHXnVJ2cnSQRFBM5fC3vslpZ9I8VYJFytRiU1OnaK5lmHtjZE47wIT+NJwVqQpTv8wks7bf06eXr9PpmBP6mQBo+p3bb11f1aT473ew9DsMrvGtsmFETFINrPaD/aYyiSCACdJGmJ8lIxD4ppkMp8i4Jh/1kfoJMwiIaxFzYQ2P0GVkQo3MwHxpl7TOkp/oDaHpjG5X2H1e5iOPQqK33uvoPHJIysnbt2ua2/4BzLQxTJSnG9cD6o4lwwgmOg0YLdoUSLTjLRBOGBjOrqcs1H44H3h/YKrUskwD8hgAWqDkE0c8K1wyP7zAqAH2LGB0Twz+EU2LynkTrnTlJHHkTs2HlAhUq/IJlT1rfUJUwyg+Mh5Y3JOzfocdgLW3Z59ZhRVlclk+CD2cBwqA2ETcgEOcEI4Aspu/Ypp09Pe7MUZiqUXHF+dDTpTCEYymOEAurwP2NKzeHnyive5dEBhjALnCpCDceJJqCLDDIrGbwyfjm1MqXDOkee7U5O3yNqtpB6PqFndks7OxXH1dsTKnimByF8aHmhgUYKkyNdllRfobG+yh0jTPsjLtYSJy4E8UsYe+1ADM+oEYr/obhiPmm1C0+wps1WOq20XU4P86DUTiYndb7UhXzhO9ZIa7OrIgBtOHNiVhQ6h5NAtHRcXVLSoPsDIO8mIKehLHDvwSP29/9wlzaJO/O0rHfv2eeEsTYM4RewR7SKVp58ZrP1q3J7YfteiysxiilU9Q2M2LHeQWcqpChERPibSDMsTReEGDy9C0z08ICEhArBo1HS3lE5T54blFeUeSglgpTH1V7THFHlR6rZuc8FZhAApGLKkhCA+wLgAkQlebxuQFjBRuRctr6827Zt32drzlrtVSAPM8nqgDUEkrBAeIUIgUDu3aPSlJogJm1881vf9+YlFrh+/SpbqEfhNDZeO7h3oG9UBCuBEZMBWoJcJZFAwwWH+hR9f6GOiETJjEmOyfHSQ/QaRryBYgZmAZJNumbMCMB/uUPRBiLGsz5t4Ajwi5Khfh86cNx+/BM1GnQOWwe29PMhDrOg4UkHJ2hgRvSgtNfvpjA6pHb2mauX2qozOj1nhxAQQgRhvFb7g4Nj6E3PEcaLzAdCIt9HSUe1NuZGwoO2G/RABWUgEBRQJV8hosUwYTBQBN9pj4UCmDUBhKJFvfrTZL5jwzCG9JEc22/evM0m1Qki5PH0he4ODDAPqNMToBagiuMcIbFMMGSNZ57fLjvNK1qICDSh9ULm9fWEgSmlZMsTqbQLhm5y2M8PhEKjVT5G/qdJH66DCK8FJBCIRTkIGcH6azE6x3foCseMACCH84G9QFhg9xDCh8V37z6k0ne7OzicTo+qPRhgUZhnjaGhEYWedi+AcIo8AwgEGJUtj6u7c79NytcggNeOkDD22rvnqLQYhDJvd8n3AORwzoTQVq78ADrcOeoq7yBBS1wOEJPk6RM0zRiAvvpvGCqOGQHw26GhI/1AYIb3RCAggUTj2edfVjGiJEe2xlLYGoNNJ+UIGTysoF21Y9deEaCQKM1zHUiy70Rqyr75T3fb81v3WjU5uk7yQZupZNr27T1me3Z3aV82D7TIE2IrBKQiTAY08Z2aIBgqhoQ8BMR5QjjRAkSEI3DsJ7A8xweIX2p0i0iTOoYvMtGcjLq3NVuyOOjkQHCRDieeDSf10LOyokIdncVycElPjBobeOYnx6mIQPcIOPKCRDYbtYcffdq2K4+48uLzbI+0vXv/EevuG7Sli+bb2atPR6qiG7AHWifchQUOSReaB33szR7BXDk10c65Uh0ndL5fkWa+1w+hGJgLKoIx6wR1flqOio3dDJinUXCoigwdz1UKO089Ofr1XK5VvQ/0IYxeAHNwjNte3eXtazaaEAp4UkSrnEflJDJlCgWrlzTZlr1H7W6FrmpBmSJo/doznDEKHbddoW9cj70YkAziACZ7JFQxjisicYVriApBgAA3kyKPO/bslwCagzkCFQWaOiy6IxizAtBviJuOBO1nz/yUBzhs8Jq6mbD2hc9ttP/Y9JC9snW3p71AMS4nR55QnsDbBsRDhGtfL0Z4Ta+N62vKbVFLjd14+TK749ED/ljrhmveowcvNFj8Vg9l/uhLv1NjEyq3ldSILh6Tk/MTkkvjJWq2VLujTql8btTDVpIgeK6uVnNU/1EyQ0O5BM8I1peAxNgs+3PCICe9DUbHRJvQoyst41WW4s3Rguw5Zp16sfErf/tJRYOd9sN7H/GQt1im8ehjzzjxbNSs7I9BcqJAbMs7Gu2y9Z22YmGdNdeVW49gOZTK2s03XWdV8ic4u35VdggsfO4HN+w9qpQWh4b2qQjpDPHmh1ySMss6CWhCuskr6lTZoOoQXs1xgckh0ho7a/UypyVcj0QORYdjDgKCjIoLOENsH80wgBwDAbn4xBTmcM6a08mYvX+wdZsQMTxmR7qOebsbGx2W9s9d2W6f/eB6MUf/cFy+IWWPv9ilCq/cmsQQjooHogvaGtXtHZkRANqL6/xBvVkK3GnFx2PTMr8ha2uutTM7eYfA7BdbDqoUn3Lh4XDxC2MyK/cDcpAcMVGecIkrv54XysMx4xKxJOzO470YDNtaMExOgHZ4LEZi5JUhAqE+0FHgsPdd+W61wqv0lLfXmRpU2xr38enr1vmRUngombHewZQ9+ZKeDilTw8zQbqm0ymhtJp7zQkVgPkmFOiTc3ljtch8YnpCPiFhXz7AYP2Av7uxy01jcWmcVygwrlfgk9UyBXAPT5fWaajlmHDrQVyyzQu7E5G4GAYEDkTalUQZhMCf7LikJHCAa8cQIryuOw3zBJ0sAZ5+1wh7671/oQWWNiqKgUfn5D1/gSQ9r9w4kZUIRW9hYZV+7cZ199XsvKwoctDOVFSJg31PXESLZHAp47Iln7fL1Hba4rdZGFSJ7JYCM5pKjzG+qtG2HBlX+ltqChlJbIkfXO5y0B3+lV2Q0p0mP6r982y1FYWLG4kOb4CzJM8IxIwBOaM7M8Em6g1PcCPxpfaN9X0onQYzEKoWJMbWnl5++2DZv2aGIENQC565odS2TV6hws6Zq6n2ztoZyu33jOfa5Ox+xCzassT+9eL1Dc5fi/zaFxp7jfXbhyib7xFWrRGxAUl1VQm+JxQV3VZoyCda5eG2FAIJv0g8NkJKgqySNr1q5TE0YHonB8twRoCs8M2MCnGAyNQDMI7HwThjke0zeF2iFYZLzgekEqfKnP/URN6FJvQqzWDYNXVFBb1prxeVXaHn5slqroSZh8+rKVFjtsO/f/bBtuu/nds/9T1hrecZuvXqVndE5b4b5kFhoyCiLTGr9gOUAqeF1yNx4xUqnj5eyB5SVIinm8iEdDvjSQsVRcvMH1n6Z74VomeUSLdKw7J+wJNFTSVF3+3UJBYaBK8cSCcOdi7QLV5yjm1tRWWbPqn6/7qIltmxB8BCkRBElhtmoAsFryIp8XLy2TVBWS720YO8+s8nedU6HtTfVOLUiw4UVzNRf/SaATdC4FS1lan5oS//MzOGLTl5xfqc99twBr0vWrZVAiiLgfkbckhaPJP37LAJ0I/YPIzinYGrgFJnprScdOY998oW5+ArK6IQeUfH7sksvYLqqQr37r6Ozrc4v6TObhcznxKGm25rOBrvk7Hb1DpS/67dAordEdZdDv0iFzsvfKqlSri/F5CSAlPL8NxrsOTquh6uav1clOCuwD5/gOzNmBzT5ABrU88RJ7/7oDm7K0kBA+5rpt4Jh/c6IgCxEsLBOEb+ZQ7LEWxwd86pwDxqso/cFldERkrIgTPNpl7GelnIT0dby8Oo0wTwa4E4I4OgftbfVnWIv8rI0SJgzOK9/PqZ1f21NhcruZS4wv6Y/7OgmMOe+GQH4yrrgIc8nFLcVERAeRgCSCDZCQ2R4geDkO1xgAFzzxVy9nBZjghcp9H+j1eqhSBRT0DX98zGpB38IhEZUojRiVQllbjriY5gH4QxCs5fPygSpKUAPI7zOd2RVXNYVVquuVp1CaiBm0MYE7gtncZfWDg78LW6IpDQHJoKcIIj7pKHIGCdYggr0DwI8EmhhBIHwRtS+Qhi3/dtT9tXvPmOpQsK+8UO9709Xic0lOJieyPgvm9QxK4arxXxGMTqVZlFNKzIJZXh6Yjvk84QJ+nYe6rfeocCOmTN37OkasR2Hem1YCRHRy3kv8uff+VMcMwLgHA0HbyF5eAuYYlOEQTbo3l93lGDPuiGwZ11TpsXQHXpKpEaJVLr+vLW279ioferrP9YbpIc9VLFWWkziQrRc8F0nq+LBWkPBmzNO8Bz+ZzSNwOMwJOl3DyZt676g2+SbF/9MCXGvqKRGIWSEnmipmRpYFTyhOCgJxowA+Ml5tMgHyDOADh9SzDCB8OuiEDNAEMRh+oe82or6uDetx+df+vxGu0gvUBEtRpQFInc9eXcEjE4qNZ6U39GeUzKFpDQvkFiFTKBU682SCBXFIQLjQkBM3jIt31QhmM8dT7102O74yWYb9fcN9HBE2SYOmyqXpqpnriLCUVu8cVYAugBjPP6GUrTuqtAhsH8JQirH47tQikTSyBDnTNL8gOz1551pA0qFa1SZ3fjRq23R4nb76QvdDvGhCT1QGZV2lOVKWTYwnrejw3nrHgvCLqYBShih8DE/vpfwQEQ1BC9S8pB0oVJgehdc/+mv99uuw0O2cmmr3fwX79VbJlV2/fsvcZN1yfNH/9xXBSeCPcL/ZYZfuZJacKyhP8G/QAbaPLg/QIO/zYXqfABfXWf4tGDu+ATlsQQmUHT3jckhlevNUPULpbn6GuUcpIYaCaWyCJgyl1CIQAMBY5IB42gJ8wL8/AOJI2Mqk7UvnWDeHuc95HLlIVSAQPzuh7bYe96xTE+S6BVqL8jVvaBcnQS29jHzhkh44o/tOGsCf2ycF/n9P3WXQqngZlp8AAAAAElFTkSuQmCC"},{name:"Aaron",portraitUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAB4ZVhJZk1NACoAAAAIAAUBBgADAAAAAQACAAABGgAFAAAAAQAAAEoBGwAFAAAAAQAAAFIBKAADAAAAAQACAACHaQAEAAAAAQAAAFoAAAAAAAABLAAAAAEAAAEsAAAAAQACoAIABAAAAAEAAABAoAMABAAAAAEAAABAAAAAADFlOmUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAIPaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+MzAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj4zMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlOis2wAAJFVJREFUeAHle3l03NV972ek0Sya0Wi075KtxZYXGbxg9sWEOmYJhILZt/Q0SbM0zdL2nXdeKA2Fk5RH0yYphC0ECGWxISUBnELAAYMXYjBeZGzJkrVL1q4ZaaQZzYz0Pp/7m99YdmhOT/5910fzm7m/u3z37V479m69ax7/HzfnH8fdgbl5B4dkwOGYQzRZgMScDw7MIyMjap4cgeScC3MON+Y5Vu+cGdPgAxmOBP9m+RfjGvNcYx7zcxzhcCBjfo4zwbGiv779MT4IBqtxFTg4V6MdjgxrFved59pm93nCRlj/py1NgK6BGLr6o2be3Nw8JiNRLG3cAJ8/F5kZmdZ6BFygaPN4fBax2CSynG643T5BY43RJwck54g85znYT5isefpiGp8ZJCq/zxEZM4C/ksk4tr37Fj57wQWYmZlBICefzwlMTvajsKjRbJGR4UI0Os45c3B7AlzBgfhsBB5P0HwniTEZ6uX6mZgKD2JirAeh6Sgqy/Lg9XrgzMpEbYUPrvlJA0maAPr13r6Q6YwnEmIf1qzTokAimYTT6SSAc/j4SDOOHG831L/xiisxnxR2FvL9w0Mozs8nwZyYmJxE/9AgmpY0Ymh0GCWFRZibm8P2D3YjwfXHwyH4srNx9YbLzHwRKjY7j+b2Tlxz2ZX40bPP445r/hxlRcUIT2sPJ3HKxL7DzVi3somwJLHz449w0br1gCcrDUMikUQgWGX28vlKiLwfL259Dqsal6SIDVxMvC5ck2twyzCfp31kkjuN9XWGg5ncVH/z5N6vtv8WfYODWF5XTwASSMT5R2T07kh7G558eQt6BgbMav/1/g4cbmszgD629QWMhUJ4e88uSlkvJqenEZ2dxTmrVnMsiZcSjNl4HDNRSwozCEMwJ4ATI8P4j9d/jfbuLiMp7320F2KQmBCNxfCbHe/isRefwxvvv2fG/vMTjxhGPbrleb6fRXVVJfoHhw2Mkl9bIm2UP5UAQujVN97GLDewpXbLttcRmgzj8gsvIQGW4PqNl2N2Nm7gF2eFcElBIVUngjDH6fviqio89PyzcGY6DWJat6u/33CntLAQRQUFRngclDY1IZ2UlJBQAjYzMwO/P3SQaxXgxOiIeb/x/AsxEQ7jpTd/Q/VzIjIzjTXLVuLcM1bjEzIhRMk73NqKwdR4j9uNvNwcG98/eJ6iAvZbASGRz3BKhy0VjZPjt37u83jvw73oHTyB9p4uVJaWoTgvH5eddwERnzIAHeloR47bi86+Xtx29eeR4/OhuaWFSCdREMxDMBBATUU5RscnrIVT6qO9hVBebi7cLjdmZmU4HRgcGUK2N9uSNoq9z+tFc5vWm8M5Z67Bu3s/wO4D+3C4vRWlVDOvx4O39+6Gz+MlwWhXqBJVZaU2an/w/FQJCIUn4c7KMuIrrskoLqPYP/TcL1BFpC+/8CK+d+HWq66BOLJtxzu49JxzcTt1dmRsDBXlZYZINM1oqKrB6mUrUEyJcCTm4HN5cbytC/Ozc3h31x50dvdwzjiOHe/AANWrtrwSBSRSXk4uJSfT2I6bLr+KajOFcaqRbMJeSoUI6SLBYiTUN269E1+49npDlLxArukPTVlGrrmlFTOU5P+ufaoESD8T5JhEUlwQk9YsX4FsUveNnTuMPl+47iy6MEoIqax+6bPmnblsuZGe2z53rRHhzq5utLa1YyeRHQuFsXvffqNWEm9x0UVClxbmG9WJUqW8FNmu49047+z16B7ohz+bHoYwSNr6hweRTwlxkfh/ef2NhHEObbQNT/3qZRRREpuWNkIEaKyrw8PPPUs7nkGCFVmq+t9QwGEHQnKDz742aIbJeAyNjuLrX7iTrsYN6VGMyLn5FPSyWXKNs3SFErEYnxpju8soDVkGEXzi2Rfw0aFmWnsvxdiNsYkwcn3ZHB834i7pmqUhlXvKKy5GW8sxGtWkIZzbnUWEltBO5KOAnmXjJRezP4t/cpdzBjkxxmaUrIjsj2xCaUExDh07isWVlYZY3/qHe7F25fI0CeQBLlpreYFPlYCsLCeGR8fQ1dODVU0rjRHLcrkM8rIPsWgMruwseBT8sDsrbrkoUVx69+obb2DLa28Y9+l2OTE1FSGhEsghISoWL8bY8DDyaNiqa2tRQMSj9PmzJPBoyoPIyosQx7t60Hy0FQ21iwzBLiMRJA2SHrtJTewW8PsR8Pk1BKsoDXLf3b19hjn2mNOfn0qADJI2QSpLfzp7e41hKiosQB6NmDgeCk+gvKzMiLpE2EXui5vxRBzDIyMYGBo2alNbWYZM6mlhaSm62tshIuZIv4l8eGICH3/we8RjUeNK45QEpzG6DoPsuvPORYi2ofngIbR1dqOrrx9HWtvwF7fdjCzuKYLNTMfo2xmzsDmdWRABFFhJUkXwl199jfo/i8I8K545HXkz79M65SuzKZa7PtqPyPSMQUZi53a7GAHGsaiygn0OTItzBFxxgtuVRcKEGeBM0jZkwMPfkpYoxdI5Po6KmmoDZBdjg8HhEY53IYOI5OTkIEKiuSl1C9uRAwcNwS689FIcoOdJct+DlIZHn/4FpXPcqKSIX0wVmWJcMU77UlddhSEa4fDkFFUhapgixshuSJXE2NPbqbsueNu0tMEsIA+geVzHiLeGCPmFTSL7zh4GKCSGDJrX58U0xV7E8jDa85Ezg/0DdGWMG9g8JORVmzcbCZIRjUxNYftrr1ubpBZWDKK/Xe+8iwoiFqVV9xCIA5+0YM2KRngU1tIOzbEvkOM3rk5w+Wlj7CYja8NqP+139vMUAkxFGKFRJIW0xNFDfyyDp6jPGDhukMl+bZxuROCtnbux9uyzEWV4G6TBKigpxh4C7qXPltj3d3eb4YUlJcjJDaCj9Rh++6tfGTGVilxx/fW4aOOfGSK3NjdjiLZAnFPz0Bj6iWCIgY36sri/vIXCaCGVmWKGGZ2aYybyw/JioisNd+qd5iwcliaAk+LUPXAC4wxQxBXxWH05gRxMkzCLly3D5PgYxukdFi1ZYgiRySyxv7+P+phA77FWA9AIffmxTz6hFPgwR8mQrttNxs7+LR1V01PEyKGY1tTXw0Wiyf4IShk7AXzowCHk+ilJVBcng6IBqtA0Pc0IDbUM3TwZJjUsoPTFSRypouIUD92z8sZ52gXZCAVaWWTq7gOTxguIdmkCBGmo/s/jD8NNwDOpv3Fa+kzqZYJGREYnn/50itJhcjjODCrC+/AjvP36b3D08BGDjE1pAS1xlzvUhjEiLs8iIJXEnN5EmBnq8fCJE1QZH2qXNBjJ+eTgQRPUiOvyCiESM8mw+iv3fBfFjO6inKOsNBqZQYRBUjaZJVin6G6He7oRZPDVsHoVQmRqsJhh+ngIM1SlUvSRsJbLTxMgi3pZREOlHNuwXzpPCvkZ1sq1TdC/2nFAkECK8nMcm19cZHRZSIkADhpASY+kJkqbsJxBSU9Hh8E5RGP4x1qcSHIiZCi9FHE1qWM2YxHpumyKM8uNPdvfwTf/+T7DeT+5PM1osK+9A0UVZchyk+vU/SQJU5xXgFlKmBgnoCTXimKy+3cBJywCpB2qAVyRn6Bnk1X2cXH5WSFvtyD9LGFiikrLy3R3lO5J2aNtcAzylB5tLAJ2Hz9upspbqAkhZX3yECLYFL1MeGqav+dNCm3rqiQii3vLjWltSUAhY4bM+STee20b9pIIPro7xR7Sf2WlDo4X/ArC/DS8UqVIPGapNKWy88N9+GjLK+jpstJ+wZMmgH7YzUux9VCUsjKcGJ+JmG5tEmCCQZgRik5jzxtv4t/vvhdxWvsA9VNNwAtYiayHxs9HSy11kI0YD08Z2ip6nGKBYoZEUp9yjmBONqO4aYPMHOsLcrlqmuskMpGZmInns6l29Y2NdGl5+P5ffxsjtAVTsRkzNkx7IBVTy6KaeJ0uTM5a70wnP/oOHUGM8LYeGSODLNRPIYAQyCbgLnJ0lhQfYwJic8RHoojaYRJknki+veUljI6MYtdbbxtLLGD1pyaJkBcRO8RpSYuPoXB9VZlBWASqLS/CxvVNOL+pAec1LcGZ9dVmXphxg5IXEVpN8YWfbjXX78NATw+Ot7RwVQdtQyZefvQxw32Nc0lNuJf2dtPYhVKE0Tu72fB5vE4S1togbQM0SPqeRYqHabxMqSo1M4eczyTyE7Y0kEO5jOZEHKWf9sI2sRTrR8hlWd1Atgc1xQU4o2ERRREoy19m4gURRlZeoh2jmBfnBXD5eatNPH+sZ4jp8CxVJclY3mnWl+rIrQlJ5R3a13ZzAjObHkLNTxsQjs6kGZdNxsmFT1Jq5RG2/uIpXHH1tUADCSB1MbP4oUKlANTkhch76U7ka23kNV7vhxgii8sykITQbDjBCGyKEdg0RVaALyorQnlRHsqL82mdGT9QREUsISFjNJcSdRuGBENpHznZWFPKvMFj/kYZ4YlXZh8+Zavog5HgWhtvvdmeigmG36pBxmhrbEa46fr0fTIaQTfD+qcfeohufAy5+blppqUJ4ODAKcP5lOxxaVFPhmihEdSOCl5iRNTrcVmbcW6M/lfISf/kIVbUVqKUG9WUkgiFeQZQcXGYLspUgLiNLLua5pkER30c46ftWLN0sSFABX37NPeSe5aYh2kr+llVyuQ+CrjsJlcqfx9NzJou2Q4RIEKGth86jLtvuIVw0VDyrbblNtY466Fobw6z8tsULwGkel9f3wA6qHMqRtafuQp+BitqBlGKoOaIGHNE2EmOB2jQ5KoC1NlSJiAySofaOtE/Mm68wkwsbhC95oK19rZci3sToiSNn/Rd9kVcVtwuoopgn1nbhMGkA1O0Dz19JwQBli5rQN/xDpQwTFa0OU9YhFOScCuA89Ndhun+mnfvwQNf+qrBQZsJl0RcHsgCIW0DIiyD/8tXv4EJpqpFrOWFZGGV9S1ajHxS2slNVp57tpkle/A3992Lr193I2ZJShnNTK4YpoUNMyipKimk8Uvi1+9/aJIlTRKiXq6xurHWBEWmnmhWc7CEdYiRnVW1kVTIkDXVVxl1EJFdrkxU0CPNBbIxT2kIcR8Xdf3jd3fg3E2bTJCzl8b46fvvhzzFfb/cgggRlao2nX+eQVpMkoRIcqQW0ly1NAF8dEWrLr0EA23tqKqvxxQjq0ESY4L59KGdu7B/x/u4+5mfG4rncZOsZUtoePwk0iRVQW7TSUCZ4RFAubff7m1GdVkxOa+w1nJrsiVD48oYI1hML+Alx5UYNS6uQFvPCRPjK6GSJISZ6ipqrKYK7WvpRPeJYabbRIJAV5aVYNMdt6GGEaOb6vK3mz6HGD2NEAtTana88mtcdvONws9Ia31TE1r3sxJFZiWVPhP5OA9o3DyUSRPgCMrhWleG6nVnwUUqsfaDALmoRfNYyHj0+hswzYqrYoEILXSUwN35nW/imR/+BH5yqIxWfCw0aUrVSoVvv/Em1DbUmyKmRFq25MVnn8T2vQdNH7tosJLUdzeRG2EVJ8hwuxRLGhpQxqSpgvWGidAEXtr6IhqKS2gTFhEW4PWd+1gv9KGEhdWcIA9GuIZCYr1UFKj6wm4GSjYBZmkbLrv1RlQurcfvtrxsahFSzXhSNoI5giETP0oRRoujHPWTE6jjCc0E9ehIQSlitMxxIuv2MBkJ5qZdjOxAIfODgrwcrCwvNFa/prQA4zRSCoIaGLB85ZvfNssvW7oE//D3f4dilsLFRYl/W++gqRkMjcH4/Wp6jPVnnYV/feinhmvr167BF1n8sOsK8iBSD3kDDz2KkMglTKNRJm/cRSk1S09G1wZ7es2+8jY//s7/MhIs1Tjj7HOwbPkK865/woMlJVMnCZDjiCLIKO3D519E41WfRTmNW0G0E9tLK01MX7WEhyE0cHJftimdp4T09fYj6HTwuKnELCz9zfV58O677xBYBkQE9MyVK5iQjPBwo8eMWVRRTP12YRHFW4T4uLWDBo+HHUePGOSDTJnrFi1CB+t6QzSCQUWaMiIUYVM4pUT6GZJHFVJLvfhOkiqmSBKmmDS98C//hl2UhDFmp+qPU2pXr11nMkQBMRW1eJ92g1kME5ZNhXHX1VcwrHJhii7EQ7fhJcWlAgMdHeg51mYQkIXOprhJtGWpFfJazWFc1xh1fOeuXairLGUZvRD7PtqLhx59FEc6+vi7iJ4iSRdplakKAj4TditXaG05ivUr6rCsuhRtRw7il9veMOtnk1hG/kl87e1njcBFKYhSOl30RpffdYcxdF7G/8X0CrId2556xiBv4OKcf3/nLRNApQBlRGrZpbQK6GeEgY0OMDIT9MUZzKiIPI/rqGMzxthNMZuTIctlNhhiguRj+hnkH7tMC9FNyecrdleoqqBkknPVFPtLJFU9qi8vNoZO/UHqs8JkbsU5TGWnZ01yJKemkDmfxllqoJagqxQBCquqTSBkRf4s2W+4BNu3bEVRZSVddQBDVAFZfbvd99ILlgTZHXy6Mk8jwGw0ga0//BHmCaBEvKycRubGW8AaKwpYZlL9TWLkpX8NESmJXpQWX4WMvGCQ9T0nDrR2I8fvxVLG/DoDUEbp5rGUCKQ8omtuFGc1LjZu0IZF4tlQRVtDFdB4qVgB3Z2AEGGOdg9Q0jIxxiLHex8fRXlJATbcYXHcXmOGbvEv7/1HvPnc8zjywV6724j+hhuuQ03jUtYBpgwDFAeo+dwWgYwE6GR9l2s5gutGEOvrQZKcjPhz4GfxIElDp3b2FZsQYPw/NcvcOtUUtXkZ8Pzn9t2oq6tRGmYsuuL8Ooq6kJHOigKKHRSd9bGgWcM4wegr1+mlFRyka6wvLzFhtB0uq4ByrPsEz/gm8PLv9hgNWLO8AVfdfjMKaxen5wuUnLxcVNQtRoQFj2nCbqkLpYu1ir+4524DrQozgkOuUJGovICaIYDKBBsyWlB1y40U1VlEyN0ZipsOOUMMO4eIxGHm0pduvs5Msj9Eze88+AM8dv8DGGEdb+mqxfiIxdGu/iGsXbKYXJ2lm/OagETGURwdoqu01UL5ugghtdH5gdvlN79l0BTNdfJUV+HsbXfdgk1f+qIJxlStsrlowxFnMjVFCTnOeqKQd7OYoirUj976L3sIZujCtVdKW5HjsQq0aRvQ0T6Ab/0toyqKs4diXL641hyOKs9uOvccfO7O21DCitHCJiMovf7uIz82oWiU6fPf33A72ltDBmk7e9McSYV0OpcGc5LR4sKmA88QiyKq+6lJz1l+IjJASUkRzr/uWngDOvBgv+2E9EW3V9RFrqpeKDVUYSTOkL5sUY1FKA7TGNk2W+q0h/N0G1BTw5ofrXMDffY9D/8bqW0ZHkMzRk80P6aAmaCnsAqaqh0wu1MlZjoER5zJkdeP1eefQ/fVbhCWiqiRKRYBqAKy6DrO0rpSCVOoJGGmKA3yDsoahWiMHPNQKqpqylCa60S8+zDdGwnr9CDLFzA5S3Ke5TcSKhDwYmZizNQxtZ+Y0nTOekxQevOUMJFRYbrDhc26mkNCKAnh3ozpVfaaR9uBg3jnsUdYyj5hLKn02MNQVzm7TmNEeJ0OKXtzMYwNMhCqoBHrYygr9Vm3qhavcMPO/hFmgqoZsMzHAociwXnOERd0Pnh6C3KtMD1FMMt6p2stOulhUQ4//e4D9MxZFGsWSk6fmPotpKU6anr2HmzGlvu+j3yql9LuaCyBOt4jsFtsNkkGkgDff6KLfeRHRpfJ7mTZjx1uSy+mCTMUWQFub6A+FTISiRkanRn09w6l3//ujd9T9Bw43n/CxPtKjeUBvBRP2V1KIy85MeEh4fXD3JHSgtR5SUGCuYOM1AeHjqGePl0lM4MAkTcinEJSUxY2qZtUUsZW63pZPhejhhlmqzlZ1zDUEwBsv2+exMazWWavq/byssMM/TM35gsZK2JqBi38WIi8+m19svv1W2Gqaz6TZ3F55nBV6+mkWe7NyfUVwmZk8MiMAcwcb3I5pefcdYY5vKTJoxiEUnKooxs+RpNf++ub8MGuQ8Zt1jfWYI5xhdJvEVWSFwzmmOqSN9uNBN1oZ0cbL16ETNh+zXWXmJNtSY4IIfy6+qyMU3Bdtj5AHGhsN56Xz2slcTzw1H4UsviQzaivhbc/NLGsrJB+3Ycvf3kzz+m9wppT1RYSaGGfvs9jjG7thhu+Y+oARUxYNG2ees7TOhosHpbQQovaHtkP9gtp1QFVRVKM3z8ygW9/6w6csWap+TNb/g8+eOeCQVsM0wxlmlYvNUbXntbdQ0noGzI/BaXMkyICZ0FuFnpOhFmSniHViSSbqrgUTtxz91+hv2+QcfykKUym8TeyYoYu+NCyag6e5+ca4h1s78Gms1cZjsXpWiUtEeq5YgORkHJn3F9AxNVMbjBCNylbcuml602fPmRM9U+qoO+SNPupErj6lWAVM/YYHhgy+/R09rMWMcs7B100mFlkLuMZbSpm8KEUQhRwKrx8+tetp+i3AFU8/cmhNjzw/cdxzrln4Kt/cxtn/GHTWGmMKjkqQOi7gLvj9qvxwIM/N0FOYa4/vb5qftkUd0GiuSeJalWA9x5pN5s8+dhW9NAQy37IALvoESYmJo2qVDDxyqX4R+g6q2rKWedj7YL1gnGeMs9TRaQmY2MThMcinE6L3FQTkTzdzMapesBNm2rx6o5+HO+1UksToHDkD3/0rLnN8d77+9DXP0xKJ1FZXcYjbR92vrePupVANmOGUlJel6pGh8fpUejKqD7TBK6QYfDeT47hmovWm8MQIaxm2w/7qT75fh2OTJP7Opo/c90anhXyYgW5K2aIqLJPlAP+MbLU99R6RRUBlFbXYGRiGjnRpBlfwlBeOJZVliMc4kk18xtxX00P6b+as3cgjJ+9cJCTmCDQgOk8TyKVpGhFaTzE0iXL6lDOY6c5+t1iZnc6aLzsis9QFC1XqCel0hg8CgKBk1fJYOHChe/d/zArOsexjmvIIKrZgIsA+m5qgYSnneqmeqLKagMDTLycVrgqu6CrumoZDt1Z5FN7ch8RSGtIfYdYxlNUW1NTgcOHO8mobCMFKvWrZmlkn3BmMn1PxwGLKnPxT986H1/7x7fNoqKsjJIWNcUHppvrz11vFpBuql+ipVBVTe6QkYH5bt0REocsldi7r8WEwrp2u5tubVVDDUNbHpCKSmxCXGuNhaYwOhnhBSkXCeAxUeE7O3bge/d8jeJP/Wber0KmMNfqglGIL2yq93mp6+GxMK/a0NglpuF0uFDMzFORorLM+XndbxZjyCBbGnRJiuvi7aMB/HLrmzxT87E0FUSZSk5+D6oXV/EIKoTcXJ8xjhrsp9h7vPKrLIjKzUj/aUsU1bk9Th5bh/DEz17E0aMdPCJPspxVS8PHO0BE1JVFqaEEyeJbBx88LyBRRAzLXSWxn9fo1HwkyI03X8lrN2NUs2KsWb3CSJ9qAXYeochR9iEajeODPQfw5uvbzR2mStYiZPwu3XgRKnhVJ8zsdMtzvzF3kIMBN+77epORsPQtsfc7i3gpcZqUsQ4u8vOpVyX5hlKGQgakk5QT0SQpfr+bwRAPMNlRWZmPb3zzBzh4sNWM1kc1OVDJaEw6LouttcQRKaIMnJp03G7S734eZ3/mrJVYvvYs3h14De8eOGoObnRF55KLzsLm668wcGqNhZLQeqzXhNOSdUnJ0qVVZpz2FMGbm4+j/dhxXPvZBtTmhc2WBgIhE57itXZOspB1oLg4aJC3gJS86I9iS6raTbo+SfepwKS3dwCXbfwiXMFibP7sBbipsRTZlIg4b41wgFlXtkXI20SwjNtJUVYEGKKkrPczaRoeQA7T76888ggeefZxXHvlZ6jTfur5GJ565mUTbSpqVBP8+isvK9Av0yepbGnpsfZlV4TxQYJ7L6qvhSunhKMsfCwCmCmyjNYXiZTEWR0CVoDZ7+RvtRlpRcvKyI3Fio6OTtxz709w3c2bcfumC7A4I44C1fJpBIepe87wKBe21jLr2Yux1yK4DFMmS2a9ONrSobQLMZ5JHHj4X/HmF27C8f/cij+79vO4/8cPQv7dz6zx/z74BOfq5gfVh2qnTFPRo5goKdY9BxGh/fgAhocmMHCC1dfUfsobDBL8bQhA/GgYqIMpi1rOJEbiatJSvpPHENJq9lNSLLF6fdt23Hv/Y/ja//47XkNvwujhg4jw2oyGX1wR5AlNJj4cDCErdWRlrZFaTD/YZGxV99cdpVsbi1HAOTKyIjxFBiPN+3HgJw9ikqHuD59/Ghk0jKo1PP6zLYYJMeq/bRPKqLbaXFPVFEPINcu72W0mqjqE9csQQF9zfdbBpb77aPxkkMQd6ZKXaZOAVLMJoF8vbn0NL7y4DZtvuha+Ix+hc9srGDl0wAzSexdXrw8yyiNAR7t6+TgVca2npspw98AIbm4oRo7cFZtiDGMrzC9KG2uQx158Fq0vPIPzeFS2JB6hrWnBCA2k9R8zCCuZlpfvN8ZNO8kNmmN6/iAd0y3Pp0jXamkCUFEZbCzUKUtXJeaRiM7rLeBtyoV5+vP6th1YuWoFzl3RgLFPDiHCu70pwtrr46ySAG6jPZhgzfHg0eOnkECiqrh/iFHbtfWF8JHzdjPct3/wqXUTPOgc2PO+uSh18R13YkOJH08++RKlRYUZRaCSDOJBSdb3yclpVFYobtFN1pOQSX3tlv6am62vLHebkNF+zZ7UPJvzeqrvnu/9GEW8snLrlRvQ9tJzJyec8k1hCWMGSs9dy0v5Zh4fkwiq3Kis1c3DV9XwN9bko1RSRj1OOQa6zwUsW7gmAWh/ZStvpkyijucLEVaqe7oGzAjB1tPNXGDB+DCN9DSLuAqmTEBFHBOKClMtTYDiXPl0J0qKqUNqxNJG3n5aL4APPviY2VscX/3S7Rj9+EOmqVZ9zX5vP0U7miTDPZXTb6KI59E47tp/hP/1pZWJzxQuYSBWE+RZI+t484zyMnid3kGOOXkE5ysqYT8vWVJ6Qixo2C3JzLGXdf5A9SIsZThy/w9+SuSs8FibSVplDNVCDINVOYtLMigVYshC0qZrgrK8dbWMn6XrIhAXsWt+1g1ti2ozpObjP3sZF2/ixcb+bkz1dpuNBhgLlPpcBlnTkfoQEezmpo5uqs7DM0dP4DqKfDZDXbnZEXqK3kQ2vnD7Xamh2is1k3B8+NTPEeARWK7b8kwalNC5RFkFfCzLT/Z0MFEK0XVL3C1bFqD+h3lAI6R1p1jqpncqu00zX0DKm6clQNtpkDilZlNQPy23Yrrx6utvY8M1V2HD2uVG761eYP8Ib4dwcbupeptaynRZ5NOBhLW+i4gTVMsNZXlQWqGgxQheej/9VozRx9I4hdhaWowRF/kM8X+OlPCER4lSt06X6Q102iwJkP4Lbtt2abJ+i7tSSbudJECqT/V4u6loybXMBvbknbv3I8CzgDkGKrGJk/f+YjQ8O/tCRng034ib2dASKPtTBC7y8t4/d5arVX+YhxbBDGV8FFFuuPBP55F0CSh1nzSQFny8ttN+DBn0Fmpy2YKxsDBoVFlwa30LblXcrHsBGhuNnWTUSWz5QvDqrE9NwMS5ivrUBJTihDD1dmZsBJMzCm5OtuocD1rHVVi12jy9h6RYasTF2JlaiN/+vM46bJG1Vlucw1spfcfQvJVBEI2VXNYckc6gdR8K8c4SL0K6HFbRxEzghzGvVG49lWB1dfVj5cqljE0yqQp5FPtZxghxGkDdM7D8vh051lbyf6GkQE1LgBYWtSyuWNuIakanrJ+0nvTNJEQuI6/Jvu5UrzWvNteDWW2U7uUXcsEm4MLu079LIg2dGCwleL0tyRL7HIFPsBCqPfO5X/YCF6n52kewqLnI6ebDlAYuJBsWYL2iqrKINUMVYjSCZXYabeES4LEbH+l2KgE4WGd7AkaDVeURElpDAZF8ajZvb/l4sSDOSE1nB8ZtMVTMZb1f/DT/x5EAmUiSTxtIEdf8cW29MzaCTzX1+6lWft401zlgph0F8l2hLwvV9ExSR7tpfJxATVHKMugxosxEN2/eSEGjbVCIyqazS9Uzg8xiS0p4dkn4de9JCdLCls4G1RlzFtLUzKEvko8qP4sLKfbJ7EjU1N58r4X/Xa2G/+uLFydYH4iwCqNXvjy6Mv4PThEuEprmHaMwffw0wqOTmGAo7CACvtxs5JcGESzMQVl9KW9zJHB451GM9PLQ9PLV8Pjc6Gnpt+aOR0yBs7apGkvPbkBncw96jvJ2GNWiqLIQv9h2gBerPfjyLedglC5u5dIyxJK8U0hgJB06NNFvJ0+5XZmKKiUHrFbJkcyetF2nEMBgyA+JTQp3u+tPespS6wxA/6lakmAkgNCdHuUlGfTY1R8RU1xMyKNwrJNxgwycYFKz4Tp0bARFDLNLi/S/yv70dooRtJexN7F//6lPK5mS9KhZn5+2Vhr51DCFrbqntLCdDlNTQ+HC13/y9/8H+d1TRmFeITkAAAAASUVORK5CYII="}],cP={"Aaron likes you":{type:"boolean",default:"value"},name:{type:"string",default:"value"}},fP={"ask player name":{}},d0={id:oP,updatedAt:aP,name:sP,dialogues:lP,participants:uP,variables:cP,functions:fP};function $i(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fc={},dP={get exports(){return Fc},set exports(e){Fc=e}};(function(e,t){(function(n){e.exports=n()})(function(){return function(){function n(r,i,o){function a(c,h){if(!i[c]){if(!r[c]){var g=typeof $i=="function"&&$i;if(!h&&g)return g(c,!0);if(s)return s(c,!0);var S=new Error("Cannot find module '"+c+"'");throw S.code="MODULE_NOT_FOUND",S}var E=i[c]={exports:{}};r[c][0].call(E.exports,function(k){var C=r[c][1][k];return a(C||k)},E,E.exports,n,r,i,o)}return i[c].exports}for(var s=typeof $i=="function"&&$i,l=0;l<o.length;l++)a(o[l]);return a}return n}()({1:[function(n,r,i){},{}],2:[function(n,r,i){var o=Object.create||G,a=Object.keys||se,s=Function.prototype.bind||J;function l(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c=10,h;try{var g={};Object.defineProperty&&Object.defineProperty(g,"x",{value:0}),h=g.x===0}catch{h=!1}h?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(z){if(typeof z!="number"||z<0||z!==z)throw new TypeError('"defaultMaxListeners" must be a positive number');c=z}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||isNaN(M))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=M,this};function S(z){return z._maxListeners===void 0?l.defaultMaxListeners:z._maxListeners}l.prototype.getMaxListeners=function(){return S(this)};function E(z,M,H){if(M)z.call(H);else for(var U=z.length,B=N(z,U),j=0;j<U;++j)B[j].call(H)}function k(z,M,H,U){if(M)z.call(H,U);else for(var B=z.length,j=N(z,B),$=0;$<B;++$)j[$].call(H,U)}function C(z,M,H,U,B){if(M)z.call(H,U,B);else for(var j=z.length,$=N(z,j),W=0;W<j;++W)$[W].call(H,U,B)}function R(z,M,H,U,B,j){if(M)z.call(H,U,B,j);else for(var $=z.length,W=N(z,$),me=0;me<$;++me)W[me].call(H,U,B,j)}function x(z,M,H,U){if(M)z.apply(H,U);else for(var B=z.length,j=N(z,B),$=0;$<B;++$)j[$].apply(H,U)}l.prototype.emit=function(M){var H,U,B,j,$,W,me=M==="error";if(W=this._events,W)me=me&&W.error==null;else if(!me)return!1;if(me){if(arguments.length>1&&(H=arguments[1]),H instanceof Error)throw H;var ye=new Error('Unhandled "error" event. ('+H+")");throw ye.context=H,ye}if(U=W[M],!U)return!1;var Te=typeof U=="function";switch(B=arguments.length,B){case 1:E(U,Te,this);break;case 2:k(U,Te,this,arguments[1]);break;case 3:C(U,Te,this,arguments[1],arguments[2]);break;case 4:R(U,Te,this,arguments[1],arguments[2],arguments[3]);break;default:for(j=new Array(B-1),$=1;$<B;$++)j[$-1]=arguments[$];x(U,Te,this,j)}return!0};function w(z,M,H,U){var B,j,$;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(j=z._events,j?(j.newListener&&(z.emit("newListener",M,H.listener?H.listener:H),j=z._events),$=j[M]):(j=z._events=o(null),z._eventsCount=0),!$)$=j[M]=H,++z._eventsCount;else if(typeof $=="function"?$=j[M]=U?[H,$]:[$,H]:U?$.unshift(H):$.push(H),!$.warned&&(B=S(z),B&&B>0&&$.length>B)){$.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+$.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');W.name="MaxListenersExceededWarning",W.emitter=z,W.type=M,W.count=$.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",W.name,W.message)}return z}l.prototype.addListener=function(M,H){return w(this,M,H,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(M,H){return w(this,M,H,!0)};function _(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var z=new Array(arguments.length),M=0;M<z.length;++M)z[M]=arguments[M];this.listener.apply(this.target,z)}}function d(z,M,H){var U={fired:!1,wrapFn:void 0,target:z,type:M,listener:H},B=s.call(_,U);return B.listener=H,U.wrapFn=B,B}l.prototype.once=function(M,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.on(M,d(this,M,H)),this},l.prototype.prependOnceListener=function(M,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(M,d(this,M,H)),this},l.prototype.removeListener=function(M,H){var U,B,j,$,W;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(B=this._events,!B)return this;if(U=B[M],!U)return this;if(U===H||U.listener===H)--this._eventsCount===0?this._events=o(null):(delete B[M],B.removeListener&&this.emit("removeListener",M,U.listener||H));else if(typeof U!="function"){for(j=-1,$=U.length-1;$>=0;$--)if(U[$]===H||U[$].listener===H){W=U[$].listener,j=$;break}if(j<0)return this;j===0?U.shift():b(U,j),U.length===1&&(B[M]=U[0]),B.removeListener&&this.emit("removeListener",M,W||H)}return this},l.prototype.removeAllListeners=function(M){var H,U,B;if(U=this._events,!U)return this;if(!U.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):U[M]&&(--this._eventsCount===0?this._events=o(null):delete U[M]),this;if(arguments.length===0){var j=a(U),$;for(B=0;B<j.length;++B)$=j[B],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(H=U[M],typeof H=="function")this.removeListener(M,H);else if(H)for(B=H.length-1;B>=0;B--)this.removeListener(M,H[B]);return this};function y(z,M,H){var U=z._events;if(!U)return[];var B=U[M];return B?typeof B=="function"?H?[B.listener||B]:[B]:H?D(B):N(B,B.length):[]}l.prototype.listeners=function(M){return y(this,M,!0)},l.prototype.rawListeners=function(M){return y(this,M,!1)},l.listenerCount=function(z,M){return typeof z.listenerCount=="function"?z.listenerCount(M):m.call(z,M)},l.prototype.listenerCount=m;function m(z){var M=this._events;if(M){var H=M[z];if(typeof H=="function")return 1;if(H)return H.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function b(z,M){for(var H=M,U=H+1,B=z.length;U<B;H+=1,U+=1)z[H]=z[U];z.pop()}function N(z,M){for(var H=new Array(M),U=0;U<M;++U)H[U]=z[U];return H}function D(z){for(var M=new Array(z.length),H=0;H<M.length;++H)M[H]=z[H].listener||z[H];return M}function G(z){var M=function(){};return M.prototype=z,new M}function se(z){for(var M in z)Object.prototype.hasOwnProperty.call(z,M);return M}function J(z){var M=this;return function(){return M.apply(z,arguments)}}},{}],3:[function(n,r,i){var o=[n(1),n(6),n(5),n(4),n(7),n(8)],a,s,l=-1,c=[],h=!1;function g(){!a||!s||(a=!1,s.length?c=s.concat(c):l=-1,c.length&&S())}function S(){if(!a){h=!1,a=!0;for(var w=c.length,_=setTimeout(g);w;){for(s=c,c=[];s&&++l<w;)s[l].run();l=-1,w=c.length}s=null,l=-1,a=!1,clearTimeout(_)}}for(var E,k=-1,C=o.length;++k<C;)if(o[k]&&o[k].test&&o[k].test()){E=o[k].install(S);break}function R(w,_){this.fun=w,this.array=_}R.prototype.run=function(){var w=this.fun,_=this.array;switch(_.length){case 0:return w();case 1:return w(_[0]);case 2:return w(_[0],_[1]);case 3:return w(_[0],_[1],_[2]);default:return w.apply(null,_)}},r.exports=x;function x(w){var _=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)_[d-1]=arguments[d];c.push(new R(w,_)),!h&&!a&&(h=!0,E())}},{1:1,4:4,5:5,6:6,7:7,8:8}],4:[function(n,r,i){(function(o){(function(){i.test=function(){return o.setImmediate?!1:typeof o.MessageChannel<"u"},i.install=function(a){var s=new o.MessageChannel;return s.port1.onmessage=a,function(){s.port2.postMessage(0)}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],5:[function(n,r,i){(function(o){(function(){var a=o.MutationObserver||o.WebKitMutationObserver;i.test=function(){return a},i.install=function(s){var l=0,c=new a(s),h=o.document.createTextNode("");return c.observe(h,{characterData:!0}),function(){h.data=l=++l%2}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],6:[function(n,r,i){(function(o){(function(){i.test=function(){return typeof o.queueMicrotask=="function"},i.install=function(a){return function(){o.queueMicrotask(a)}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],7:[function(n,r,i){(function(o){(function(){i.test=function(){return"document"in o&&"onreadystatechange"in o.document.createElement("script")},i.install=function(a){return function(){var s=o.document.createElement("script");return s.onreadystatechange=function(){a(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},o.document.documentElement.appendChild(s),a}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],8:[function(n,r,i){i.test=function(){return!0},i.install=function(o){return function(){setTimeout(o,0)}}},{}],9:[function(n,r,i){var o=r.exports={},a,s;function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=l}catch{a=l}try{typeof clearTimeout=="function"?s=clearTimeout:s=c}catch{s=c}})();function h(d){if(a===setTimeout)return setTimeout(d,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(d,0);try{return a(d,0)}catch{try{return a.call(null,d,0)}catch{return a.call(this,d,0)}}}function g(d){if(s===clearTimeout)return clearTimeout(d);if((s===c||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(d);try{return s(d)}catch{try{return s.call(null,d)}catch{return s.call(this,d)}}}var S=[],E=!1,k,C=-1;function R(){!E||!k||(E=!1,k.length?S=k.concat(S):C=-1,S.length&&x())}function x(){if(!E){var d=h(R);E=!0;for(var y=S.length;y;){for(k=S,S=[];++C<y;)k&&k[C].run();C=-1,y=S.length}k=null,E=!1,g(d)}}o.nextTick=function(d){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];S.push(new w(d,y)),S.length===1&&!E&&h(x)};function w(d,y){this.fun=d,this.array=y}w.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function _(){}o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(d){return[]},o.binding=function(d){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(d){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],10:[function(n,r,i){(function(o){if(typeof i=="object")r.exports=o();else{var a;try{a=window}catch{a=self}a.SparkMD5=o()}})(function(o){var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(d,y){var m=d[0],b=d[1],N=d[2],D=d[3];m+=(b&N|~b&D)+y[0]-680876936|0,m=(m<<7|m>>>25)+b|0,D+=(m&b|~m&N)+y[1]-389564586|0,D=(D<<12|D>>>20)+m|0,N+=(D&m|~D&b)+y[2]+606105819|0,N=(N<<17|N>>>15)+D|0,b+=(N&D|~N&m)+y[3]-1044525330|0,b=(b<<22|b>>>10)+N|0,m+=(b&N|~b&D)+y[4]-176418897|0,m=(m<<7|m>>>25)+b|0,D+=(m&b|~m&N)+y[5]+1200080426|0,D=(D<<12|D>>>20)+m|0,N+=(D&m|~D&b)+y[6]-1473231341|0,N=(N<<17|N>>>15)+D|0,b+=(N&D|~N&m)+y[7]-45705983|0,b=(b<<22|b>>>10)+N|0,m+=(b&N|~b&D)+y[8]+1770035416|0,m=(m<<7|m>>>25)+b|0,D+=(m&b|~m&N)+y[9]-1958414417|0,D=(D<<12|D>>>20)+m|0,N+=(D&m|~D&b)+y[10]-42063|0,N=(N<<17|N>>>15)+D|0,b+=(N&D|~N&m)+y[11]-1990404162|0,b=(b<<22|b>>>10)+N|0,m+=(b&N|~b&D)+y[12]+1804603682|0,m=(m<<7|m>>>25)+b|0,D+=(m&b|~m&N)+y[13]-40341101|0,D=(D<<12|D>>>20)+m|0,N+=(D&m|~D&b)+y[14]-1502002290|0,N=(N<<17|N>>>15)+D|0,b+=(N&D|~N&m)+y[15]+1236535329|0,b=(b<<22|b>>>10)+N|0,m+=(b&D|N&~D)+y[1]-165796510|0,m=(m<<5|m>>>27)+b|0,D+=(m&N|b&~N)+y[6]-1069501632|0,D=(D<<9|D>>>23)+m|0,N+=(D&b|m&~b)+y[11]+643717713|0,N=(N<<14|N>>>18)+D|0,b+=(N&m|D&~m)+y[0]-373897302|0,b=(b<<20|b>>>12)+N|0,m+=(b&D|N&~D)+y[5]-701558691|0,m=(m<<5|m>>>27)+b|0,D+=(m&N|b&~N)+y[10]+38016083|0,D=(D<<9|D>>>23)+m|0,N+=(D&b|m&~b)+y[15]-660478335|0,N=(N<<14|N>>>18)+D|0,b+=(N&m|D&~m)+y[4]-405537848|0,b=(b<<20|b>>>12)+N|0,m+=(b&D|N&~D)+y[9]+568446438|0,m=(m<<5|m>>>27)+b|0,D+=(m&N|b&~N)+y[14]-1019803690|0,D=(D<<9|D>>>23)+m|0,N+=(D&b|m&~b)+y[3]-187363961|0,N=(N<<14|N>>>18)+D|0,b+=(N&m|D&~m)+y[8]+1163531501|0,b=(b<<20|b>>>12)+N|0,m+=(b&D|N&~D)+y[13]-1444681467|0,m=(m<<5|m>>>27)+b|0,D+=(m&N|b&~N)+y[2]-51403784|0,D=(D<<9|D>>>23)+m|0,N+=(D&b|m&~b)+y[7]+1735328473|0,N=(N<<14|N>>>18)+D|0,b+=(N&m|D&~m)+y[12]-1926607734|0,b=(b<<20|b>>>12)+N|0,m+=(b^N^D)+y[5]-378558|0,m=(m<<4|m>>>28)+b|0,D+=(m^b^N)+y[8]-2022574463|0,D=(D<<11|D>>>21)+m|0,N+=(D^m^b)+y[11]+1839030562|0,N=(N<<16|N>>>16)+D|0,b+=(N^D^m)+y[14]-35309556|0,b=(b<<23|b>>>9)+N|0,m+=(b^N^D)+y[1]-1530992060|0,m=(m<<4|m>>>28)+b|0,D+=(m^b^N)+y[4]+1272893353|0,D=(D<<11|D>>>21)+m|0,N+=(D^m^b)+y[7]-155497632|0,N=(N<<16|N>>>16)+D|0,b+=(N^D^m)+y[10]-1094730640|0,b=(b<<23|b>>>9)+N|0,m+=(b^N^D)+y[13]+681279174|0,m=(m<<4|m>>>28)+b|0,D+=(m^b^N)+y[0]-358537222|0,D=(D<<11|D>>>21)+m|0,N+=(D^m^b)+y[3]-722521979|0,N=(N<<16|N>>>16)+D|0,b+=(N^D^m)+y[6]+76029189|0,b=(b<<23|b>>>9)+N|0,m+=(b^N^D)+y[9]-640364487|0,m=(m<<4|m>>>28)+b|0,D+=(m^b^N)+y[12]-421815835|0,D=(D<<11|D>>>21)+m|0,N+=(D^m^b)+y[15]+530742520|0,N=(N<<16|N>>>16)+D|0,b+=(N^D^m)+y[2]-995338651|0,b=(b<<23|b>>>9)+N|0,m+=(N^(b|~D))+y[0]-198630844|0,m=(m<<6|m>>>26)+b|0,D+=(b^(m|~N))+y[7]+1126891415|0,D=(D<<10|D>>>22)+m|0,N+=(m^(D|~b))+y[14]-1416354905|0,N=(N<<15|N>>>17)+D|0,b+=(D^(N|~m))+y[5]-57434055|0,b=(b<<21|b>>>11)+N|0,m+=(N^(b|~D))+y[12]+1700485571|0,m=(m<<6|m>>>26)+b|0,D+=(b^(m|~N))+y[3]-1894986606|0,D=(D<<10|D>>>22)+m|0,N+=(m^(D|~b))+y[10]-1051523|0,N=(N<<15|N>>>17)+D|0,b+=(D^(N|~m))+y[1]-2054922799|0,b=(b<<21|b>>>11)+N|0,m+=(N^(b|~D))+y[8]+1873313359|0,m=(m<<6|m>>>26)+b|0,D+=(b^(m|~N))+y[15]-30611744|0,D=(D<<10|D>>>22)+m|0,N+=(m^(D|~b))+y[6]-1560198380|0,N=(N<<15|N>>>17)+D|0,b+=(D^(N|~m))+y[13]+1309151649|0,b=(b<<21|b>>>11)+N|0,m+=(N^(b|~D))+y[4]-145523070|0,m=(m<<6|m>>>26)+b|0,D+=(b^(m|~N))+y[11]-1120210379|0,D=(D<<10|D>>>22)+m|0,N+=(m^(D|~b))+y[2]+718787259|0,N=(N<<15|N>>>17)+D|0,b+=(D^(N|~m))+y[9]-343485551|0,b=(b<<21|b>>>11)+N|0,d[0]=m+d[0]|0,d[1]=b+d[1]|0,d[2]=N+d[2]|0,d[3]=D+d[3]|0}function l(d){var y=[],m;for(m=0;m<64;m+=4)y[m>>2]=d.charCodeAt(m)+(d.charCodeAt(m+1)<<8)+(d.charCodeAt(m+2)<<16)+(d.charCodeAt(m+3)<<24);return y}function c(d){var y=[],m;for(m=0;m<64;m+=4)y[m>>2]=d[m]+(d[m+1]<<8)+(d[m+2]<<16)+(d[m+3]<<24);return y}function h(d){var y=d.length,m=[1732584193,-271733879,-1732584194,271733878],b,N,D,G,se,J;for(b=64;b<=y;b+=64)s(m,l(d.substring(b-64,b)));for(d=d.substring(b-64),N=d.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<N;b+=1)D[b>>2]|=d.charCodeAt(b)<<(b%4<<3);if(D[b>>2]|=128<<(b%4<<3),b>55)for(s(m,D),b=0;b<16;b+=1)D[b]=0;return G=y*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(G[2],16),J=parseInt(G[1],16)||0,D[14]=se,D[15]=J,s(m,D),m}function g(d){var y=d.length,m=[1732584193,-271733879,-1732584194,271733878],b,N,D,G,se,J;for(b=64;b<=y;b+=64)s(m,c(d.subarray(b-64,b)));for(d=b-64<y?d.subarray(b-64):new Uint8Array(0),N=d.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<N;b+=1)D[b>>2]|=d[b]<<(b%4<<3);if(D[b>>2]|=128<<(b%4<<3),b>55)for(s(m,D),b=0;b<16;b+=1)D[b]=0;return G=y*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(G[2],16),J=parseInt(G[1],16)||0,D[14]=se,D[15]=J,s(m,D),m}function S(d){var y="",m;for(m=0;m<4;m+=1)y+=a[d>>m*8+4&15]+a[d>>m*8&15];return y}function E(d){var y;for(y=0;y<d.length;y+=1)d[y]=S(d[y]);return d.join("")}E(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function d(y,m){return y=y|0||0,y<0?Math.max(y+m,0):Math.min(y,m)}ArrayBuffer.prototype.slice=function(y,m){var b=this.byteLength,N=d(y,b),D=b,G,se,J,z;return m!==o&&(D=d(m,b)),N>D?new ArrayBuffer(0):(G=D-N,se=new ArrayBuffer(G),J=new Uint8Array(se),z=new Uint8Array(this,N,G),J.set(z),se)}}();function k(d){return/[\u0080-\uFFFF]/.test(d)&&(d=unescape(encodeURIComponent(d))),d}function C(d,y){var m=d.length,b=new ArrayBuffer(m),N=new Uint8Array(b),D;for(D=0;D<m;D+=1)N[D]=d.charCodeAt(D);return y?N:b}function R(d){return String.fromCharCode.apply(null,new Uint8Array(d))}function x(d,y,m){var b=new Uint8Array(d.byteLength+y.byteLength);return b.set(new Uint8Array(d)),b.set(new Uint8Array(y),d.byteLength),m?b:b.buffer}function w(d){var y=[],m=d.length,b;for(b=0;b<m-1;b+=2)y.push(parseInt(d.substr(b,2),16));return String.fromCharCode.apply(String,y)}function _(){this.reset()}return _.prototype.append=function(d){return this.appendBinary(k(d)),this},_.prototype.appendBinary=function(d){this._buff+=d,this._length+=d.length;var y=this._buff.length,m;for(m=64;m<=y;m+=64)s(this._hash,l(this._buff.substring(m-64,m)));return this._buff=this._buff.substring(m-64),this},_.prototype.end=function(d){var y=this._buff,m=y.length,b,N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D;for(b=0;b<m;b+=1)N[b>>2]|=y.charCodeAt(b)<<(b%4<<3);return this._finish(N,m),D=E(this._hash),d&&(D=w(D)),this.reset(),D},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(d){return this._buff=d.buff,this._length=d.length,this._hash=d.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(d,y){var m=y,b,N,D;if(d[m>>2]|=128<<(m%4<<3),m>55)for(s(this._hash,d),m=0;m<16;m+=1)d[m]=0;b=this._length*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(b[2],16),D=parseInt(b[1],16)||0,d[14]=N,d[15]=D,s(this._hash,d)},_.hash=function(d,y){return _.hashBinary(k(d),y)},_.hashBinary=function(d,y){var m=h(d),b=E(m);return y?w(b):b},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(d){var y=x(this._buff.buffer,d,!0),m=y.length,b;for(this._length+=d.byteLength,b=64;b<=m;b+=64)s(this._hash,c(y.subarray(b-64,b)));return this._buff=b-64<m?new Uint8Array(y.buffer.slice(b-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(d){var y=this._buff,m=y.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N,D;for(N=0;N<m;N+=1)b[N>>2]|=y[N]<<(N%4<<3);return this._finish(b,m),D=E(this._hash),d&&(D=w(D)),this.reset(),D},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var d=_.prototype.getState.call(this);return d.buff=R(d.buff),d},_.ArrayBuffer.prototype.setState=function(d){return d.buff=C(d.buff,!0),_.prototype.setState.call(this,d)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(d,y){var m=g(new Uint8Array(d)),b=E(m);return y?w(b):b},_})},{}],11:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return E.default}});var o=k(n(19)),a=k(n(20)),s=k(n(22)),l=k(n(23)),c=k(n(13)),h=k(n(25)),g=k(n(24)),S=k(n(18)),E=k(n(14));function k(C){return C&&C.__esModule?C:{default:C}}},{13:13,14:14,18:18,19:19,20:20,22:22,23:23,24:24,25:25}],12:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function o(w){if(typeof w=="string"){const _=unescape(encodeURIComponent(w));w=new Uint8Array(_.length);for(let d=0;d<_.length;++d)w[d]=_.charCodeAt(d)}return a(l(c(w),w.length*8))}function a(w){const _=[],d=w.length*32,y="0123456789abcdef";for(let m=0;m<d;m+=8){const b=w[m>>5]>>>m%32&255,N=parseInt(y.charAt(b>>>4&15)+y.charAt(b&15),16);_.push(N)}return _}function s(w){return(w+64>>>9<<4)+14+1}function l(w,_){w[_>>5]|=128<<_%32,w[s(_)-1]=_;let d=1732584193,y=-271733879,m=-1732584194,b=271733878;for(let N=0;N<w.length;N+=16){const D=d,G=y,se=m,J=b;d=E(d,y,m,b,w[N],7,-680876936),b=E(b,d,y,m,w[N+1],12,-389564586),m=E(m,b,d,y,w[N+2],17,606105819),y=E(y,m,b,d,w[N+3],22,-1044525330),d=E(d,y,m,b,w[N+4],7,-176418897),b=E(b,d,y,m,w[N+5],12,1200080426),m=E(m,b,d,y,w[N+6],17,-1473231341),y=E(y,m,b,d,w[N+7],22,-45705983),d=E(d,y,m,b,w[N+8],7,1770035416),b=E(b,d,y,m,w[N+9],12,-1958414417),m=E(m,b,d,y,w[N+10],17,-42063),y=E(y,m,b,d,w[N+11],22,-1990404162),d=E(d,y,m,b,w[N+12],7,1804603682),b=E(b,d,y,m,w[N+13],12,-40341101),m=E(m,b,d,y,w[N+14],17,-1502002290),y=E(y,m,b,d,w[N+15],22,1236535329),d=k(d,y,m,b,w[N+1],5,-165796510),b=k(b,d,y,m,w[N+6],9,-1069501632),m=k(m,b,d,y,w[N+11],14,643717713),y=k(y,m,b,d,w[N],20,-373897302),d=k(d,y,m,b,w[N+5],5,-701558691),b=k(b,d,y,m,w[N+10],9,38016083),m=k(m,b,d,y,w[N+15],14,-660478335),y=k(y,m,b,d,w[N+4],20,-405537848),d=k(d,y,m,b,w[N+9],5,568446438),b=k(b,d,y,m,w[N+14],9,-1019803690),m=k(m,b,d,y,w[N+3],14,-187363961),y=k(y,m,b,d,w[N+8],20,1163531501),d=k(d,y,m,b,w[N+13],5,-1444681467),b=k(b,d,y,m,w[N+2],9,-51403784),m=k(m,b,d,y,w[N+7],14,1735328473),y=k(y,m,b,d,w[N+12],20,-1926607734),d=C(d,y,m,b,w[N+5],4,-378558),b=C(b,d,y,m,w[N+8],11,-2022574463),m=C(m,b,d,y,w[N+11],16,1839030562),y=C(y,m,b,d,w[N+14],23,-35309556),d=C(d,y,m,b,w[N+1],4,-1530992060),b=C(b,d,y,m,w[N+4],11,1272893353),m=C(m,b,d,y,w[N+7],16,-155497632),y=C(y,m,b,d,w[N+10],23,-1094730640),d=C(d,y,m,b,w[N+13],4,681279174),b=C(b,d,y,m,w[N],11,-358537222),m=C(m,b,d,y,w[N+3],16,-722521979),y=C(y,m,b,d,w[N+6],23,76029189),d=C(d,y,m,b,w[N+9],4,-640364487),b=C(b,d,y,m,w[N+12],11,-421815835),m=C(m,b,d,y,w[N+15],16,530742520),y=C(y,m,b,d,w[N+2],23,-995338651),d=R(d,y,m,b,w[N],6,-198630844),b=R(b,d,y,m,w[N+7],10,1126891415),m=R(m,b,d,y,w[N+14],15,-1416354905),y=R(y,m,b,d,w[N+5],21,-57434055),d=R(d,y,m,b,w[N+12],6,1700485571),b=R(b,d,y,m,w[N+3],10,-1894986606),m=R(m,b,d,y,w[N+10],15,-1051523),y=R(y,m,b,d,w[N+1],21,-2054922799),d=R(d,y,m,b,w[N+8],6,1873313359),b=R(b,d,y,m,w[N+15],10,-30611744),m=R(m,b,d,y,w[N+6],15,-1560198380),y=R(y,m,b,d,w[N+13],21,1309151649),d=R(d,y,m,b,w[N+4],6,-145523070),b=R(b,d,y,m,w[N+11],10,-1120210379),m=R(m,b,d,y,w[N+2],15,718787259),y=R(y,m,b,d,w[N+9],21,-343485551),d=h(d,D),y=h(y,G),m=h(m,se),b=h(b,J)}return[d,y,m,b]}function c(w){if(w.length===0)return[];const _=w.length*8,d=new Uint32Array(s(_));for(let y=0;y<_;y+=8)d[y>>5]|=(w[y/8]&255)<<y%32;return d}function h(w,_){const d=(w&65535)+(_&65535);return(w>>16)+(_>>16)+(d>>16)<<16|d&65535}function g(w,_){return w<<_|w>>>32-_}function S(w,_,d,y,m,b){return h(g(h(h(_,w),h(y,b)),m),d)}function E(w,_,d,y,m,b,N){return S(_&d|~_&y,w,_,m,b,N)}function k(w,_,d,y,m,b,N){return S(_&y|d&~y,w,_,m,b,N)}function C(w,_,d,y,m,b,N){return S(_^d^y,w,_,m,b,N)}function R(w,_,d,y,m,b,N){return S(d^(_|~y),w,_,m,b,N)}var x=o;i.default=x},{}],13:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o="00000000-0000-0000-0000-000000000000";i.default=o},{}],14:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(n(24));function a(c){return c&&c.__esModule?c:{default:c}}function s(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");let h;const g=new Uint8Array(16);return g[0]=(h=parseInt(c.slice(0,8),16))>>>24,g[1]=h>>>16&255,g[2]=h>>>8&255,g[3]=h&255,g[4]=(h=parseInt(c.slice(9,13),16))>>>8,g[5]=h&255,g[6]=(h=parseInt(c.slice(14,18),16))>>>8,g[7]=h&255,g[8]=(h=parseInt(c.slice(19,23),16))>>>8,g[9]=h&255,g[10]=(h=parseInt(c.slice(24,36),16))/1099511627776&255,g[11]=h/4294967296&255,g[12]=h>>>24&255,g[13]=h>>>16&255,g[14]=h>>>8&255,g[15]=h&255,g}var l=s;i.default=l},{24:24}],15:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;i.default=o},{}],16:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=s;let o;const a=new Uint8Array(16);function s(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}},{}],17:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function o(c,h,g,S){switch(c){case 0:return h&g^~h&S;case 1:return h^g^S;case 2:return h&g^h&S^g&S;case 3:return h^g^S}}function a(c,h){return c<<h|c>>>32-h}function s(c){const h=[1518500249,1859775393,2400959708,3395469782],g=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const C=unescape(encodeURIComponent(c));c=[];for(let R=0;R<C.length;++R)c.push(C.charCodeAt(R))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const S=c.length/4+2,E=Math.ceil(S/16),k=new Array(E);for(let C=0;C<E;++C){const R=new Uint32Array(16);for(let x=0;x<16;++x)R[x]=c[C*64+x*4]<<24|c[C*64+x*4+1]<<16|c[C*64+x*4+2]<<8|c[C*64+x*4+3];k[C]=R}k[E-1][14]=(c.length-1)*8/Math.pow(2,32),k[E-1][14]=Math.floor(k[E-1][14]),k[E-1][15]=(c.length-1)*8&4294967295;for(let C=0;C<E;++C){const R=new Uint32Array(80);for(let m=0;m<16;++m)R[m]=k[C][m];for(let m=16;m<80;++m)R[m]=a(R[m-3]^R[m-8]^R[m-14]^R[m-16],1);let x=g[0],w=g[1],_=g[2],d=g[3],y=g[4];for(let m=0;m<80;++m){const b=Math.floor(m/20),N=a(x,5)+o(b,w,_,d)+y+h[b]+R[m]>>>0;y=d,d=_,_=a(w,30)>>>0,w=x,x=N}g[0]=g[0]+x>>>0,g[1]=g[1]+w>>>0,g[2]=g[2]+_>>>0,g[3]=g[3]+d>>>0,g[4]=g[4]+y>>>0}return[g[0]>>24&255,g[0]>>16&255,g[0]>>8&255,g[0]&255,g[1]>>24&255,g[1]>>16&255,g[1]>>8&255,g[1]&255,g[2]>>24&255,g[2]>>16&255,g[2]>>8&255,g[2]&255,g[3]>>24&255,g[3]>>16&255,g[3]>>8&255,g[3]&255,g[4]>>24&255,g[4]>>16&255,g[4]>>8&255,g[4]&255]}var l=s;i.default=l},{}],18:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(n(24));function a(h){return h&&h.__esModule?h:{default:h}}const s=[];for(let h=0;h<256;++h)s.push((h+256).toString(16).substr(1));function l(h,g=0){const S=(s[h[g+0]]+s[h[g+1]]+s[h[g+2]]+s[h[g+3]]+"-"+s[h[g+4]]+s[h[g+5]]+"-"+s[h[g+6]]+s[h[g+7]]+"-"+s[h[g+8]]+s[h[g+9]]+"-"+s[h[g+10]]+s[h[g+11]]+s[h[g+12]]+s[h[g+13]]+s[h[g+14]]+s[h[g+15]]).toLowerCase();if(!(0,o.default)(S))throw TypeError("Stringified UUID is invalid");return S}var c=l;i.default=c},{24:24}],19:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=s(n(16)),a=s(n(18));function s(k){return k&&k.__esModule?k:{default:k}}let l,c,h=0,g=0;function S(k,C,R){let x=C&&R||0;const w=C||new Array(16);k=k||{};let _=k.node||l,d=k.clockseq!==void 0?k.clockseq:c;if(_==null||d==null){const G=k.random||(k.rng||o.default)();_==null&&(_=l=[G[0]|1,G[1],G[2],G[3],G[4],G[5]]),d==null&&(d=c=(G[6]<<8|G[7])&16383)}let y=k.msecs!==void 0?k.msecs:Date.now(),m=k.nsecs!==void 0?k.nsecs:g+1;const b=y-h+(m-g)/1e4;if(b<0&&k.clockseq===void 0&&(d=d+1&16383),(b<0||y>h)&&k.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=y,g=m,c=d,y+=122192928e5;const N=((y&268435455)*1e4+m)%4294967296;w[x++]=N>>>24&255,w[x++]=N>>>16&255,w[x++]=N>>>8&255,w[x++]=N&255;const D=y/4294967296*1e4&268435455;w[x++]=D>>>8&255,w[x++]=D&255,w[x++]=D>>>24&15|16,w[x++]=D>>>16&255,w[x++]=d>>>8|128,w[x++]=d&255;for(let G=0;G<6;++G)w[x+G]=_[G];return C||(0,a.default)(w)}var E=S;i.default=E},{16:16,18:18}],20:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=s(n(21)),a=s(n(12));function s(h){return h&&h.__esModule?h:{default:h}}var c=(0,o.default)("v3",48,a.default);i.default=c},{12:12,21:21}],21:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=g,i.URL=i.DNS=void 0;var o=s(n(18)),a=s(n(14));function s(S){return S&&S.__esModule?S:{default:S}}function l(S){S=unescape(encodeURIComponent(S));const E=[];for(let k=0;k<S.length;++k)E.push(S.charCodeAt(k));return E}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=c;const h="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=h;function g(S,E,k){function C(R,x,w,_){if(typeof R=="string"&&(R=l(R)),typeof x=="string"&&(x=(0,a.default)(x)),x.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+R.length);if(d.set(x),d.set(R,x.length),d=k(d),d[6]=d[6]&15|E,d[8]=d[8]&63|128,w){_=_||0;for(let y=0;y<16;++y)w[_+y]=d[y];return w}return(0,o.default)(d)}try{C.name=S}catch{}return C.DNS=c,C.URL=h,C}},{14:14,18:18}],22:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=s(n(16)),a=s(n(18));function s(h){return h&&h.__esModule?h:{default:h}}function l(h,g,S){h=h||{};const E=h.random||(h.rng||o.default)();if(E[6]=E[6]&15|64,E[8]=E[8]&63|128,g){S=S||0;for(let k=0;k<16;++k)g[S+k]=E[k];return g}return(0,a.default)(E)}var c=l;i.default=c},{16:16,18:18}],23:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=s(n(21)),a=s(n(17));function s(h){return h&&h.__esModule?h:{default:h}}var c=(0,o.default)("v5",80,a.default);i.default=c},{17:17,21:21}],24:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(n(15));function a(c){return c&&c.__esModule?c:{default:c}}function s(c){return typeof c=="string"&&o.default.test(c)}var l=s;i.default=l},{15:15}],25:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(n(24));function a(c){return c&&c.__esModule?c:{default:c}}function s(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)}var l=s;i.default=l},{24:24}],26:[function(n,r,i){i.stringify=function(s){var l=[];l.push({obj:s});for(var c="",h,g,S,E,k,C,R,x,w,_,d;h=l.pop();)if(g=h.obj,S=h.prefix||"",E=h.val||"",c+=S,E)c+=E;else if(typeof g!="object")c+=typeof g>"u"?null:JSON.stringify(g);else if(g===null)c+="null";else if(Array.isArray(g)){for(l.push({val:"]"}),k=g.length-1;k>=0;k--)C=k===0?"":",",l.push({obj:g[k],prefix:C});l.push({val:"["})}else{R=[];for(x in g)g.hasOwnProperty(x)&&R.push(x);for(l.push({val:"}"}),k=R.length-1;k>=0;k--)w=R[k],_=g[w],d=k>0?",":"",d+=JSON.stringify(w)+":",l.push({obj:_,prefix:d});l.push({val:"{"})}return c};function o(a,s,l){var c=l[l.length-1];a===c.element&&(l.pop(),c=l[l.length-1]);var h=c.element,g=c.index;if(Array.isArray(h))h.push(a);else if(g===s.length-2){var S=s.pop();h[S]=a}else s.push(a)}i.parse=function(a){for(var s=[],l=[],c=0,h,g,S,E,k,C,R,x,w;;){if(h=a[c++],h==="}"||h==="]"||typeof h>"u"){if(s.length===1)return s.pop();o(s.pop(),s,l);continue}switch(h){case" ":case"	":case`
`:case":":case",":break;case"n":c+=3,o(null,s,l);break;case"t":c+=3,o(!0,s,l);break;case"f":c+=4,o(!1,s,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(g="",c--;;)if(S=a[c++],/[\d\.\-e\+]/.test(S))g+=S;else{c--;break}o(parseFloat(g),s,l);break;case'"':for(E="",k=void 0,C=0;R=a[c++],R!=='"'||k==="\\"&&C%2===1;)E+=R,k=R,k==="\\"?C++:C=0;o(JSON.parse('"'+E+'"'),s,l);break;case"[":x={element:[],index:s.length},s.push(x.element),l.push(x);break;case"{":w={element:{},index:s.length},s.push(w.element),l.push(w);break;default:throw new Error("unexpectedly reached end of input: "+h)}}}},{}],27:[function(n,r,i){(function(o){(function(){function a(u){return u&&typeof u=="object"&&"default"in u?u.default:u}var s=a(n(3)),l=a(n(10)),c=n(11),h=a(n(26)),g=a(n(2));function S(u){return"$"+u}function E(u){return u.substring(1)}function k(){this._store={}}k.prototype.get=function(u){var f=S(u);return this._store[f]},k.prototype.set=function(u,f){var p=S(u);return this._store[p]=f,!0},k.prototype.has=function(u){var f=S(u);return f in this._store},k.prototype.keys=function(){return Object.keys(this._store).map(u=>E(u))},k.prototype.delete=function(u){var f=S(u),p=f in this._store;return delete this._store[f],p},k.prototype.forEach=function(u){for(var f=Object.keys(this._store),p=0,v=f.length;p<v;p++){var A=f[p],O=this._store[A];A=E(A),u(O,A)}},Object.defineProperty(k.prototype,"size",{get:function(){return Object.keys(this._store).length}});function C(u){if(this._store=new k,u&&Array.isArray(u))for(var f=0,p=u.length;f<p;f++)this.add(u[f])}C.prototype.add=function(u){return this._store.set(u,!0)},C.prototype.has=function(u){return this._store.has(u)},C.prototype.forEach=function(u){this._store.forEach(function(f,p){u(p)})},Object.defineProperty(C.prototype,"size",{get:function(){return this._store.size}});function R(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var u=Object.getOwnPropertyDescriptor(Map,Symbol.species);return u&&"get"in u&&Map[Symbol.species]===Map}var x,w;R()?(x=Set,w=Map):(x=C,w=k);function _(u){return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer||typeof Blob<"u"&&u instanceof Blob}function d(u){if(typeof u.slice=="function")return u.slice(0);var f=new ArrayBuffer(u.byteLength),p=new Uint8Array(f),v=new Uint8Array(u);return p.set(v),f}function y(u){if(u instanceof ArrayBuffer)return d(u);var f=u.size,p=u.type;return typeof u.slice=="function"?u.slice(0,f,p):u.webkitSlice(0,f,p)}var m=Function.prototype.toString,b=m.call(Object);function N(u){var f=Object.getPrototypeOf(u);if(f===null)return!0;var p=f.constructor;return typeof p=="function"&&p instanceof p&&m.call(p)==b}function D(u){var f,p,v;if(!u||typeof u!="object")return u;if(Array.isArray(u)){for(f=[],p=0,v=u.length;p<v;p++)f[p]=D(u[p]);return f}if(u instanceof Date&&isFinite(u))return u.toISOString();if(_(u))return y(u);if(!N(u))return u;f={};for(p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var A=D(u[p]);typeof A<"u"&&(f[p]=A)}return f}function G(u){var f=!1;return function(...p){if(f)throw new Error("once called more than once");f=!0,u.apply(this,p)}}function se(u){return function(...f){f=D(f);var p=this,v=typeof f[f.length-1]=="function"?f.pop():!1,A=new Promise(function(O,I){var F;try{var q=G(function(K,ee){K?I(K):O(ee)});f.push(q),F=u.apply(p,f),F&&typeof F.then=="function"&&O(F)}catch(K){I(K)}});return v&&A.then(function(O){v(null,O)},v),A}}function J(u,f,p){if(u.constructor.listeners("debug").length){for(var v=["api",u.name,f],A=0;A<p.length-1;A++)v.push(p[A]);u.constructor.emit("debug",v);var O=p[p.length-1];p[p.length-1]=function(I,F){var q=["api",u.name,f];q=q.concat(I?["error",I]:["success",F]),u.constructor.emit("debug",q),O(I,F)}}}function z(u,f){return se(function(...p){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var v=this;return J(v,u,p),this.taskqueue.isReady?f.apply(this,p):new Promise(function(A,O){v.taskqueue.addTask(function(I){I?O(I):A(v[u].apply(v,p))})})})}function M(u,f){for(var p={},v=0,A=f.length;v<A;v++){var O=f[v];O in u&&(p[O]=u[O])}return p}var H=6;function U(u){return u}function B(u){return[{ok:u}]}function j(u,f,p){var v=f.docs,A=new w;v.forEach(function(ce){A.has(ce.id)?A.get(ce.id).push(ce):A.set(ce.id,[ce])});var O=A.size,I=0,F=new Array(O);function q(){var ce=[];F.forEach(function(X){X.docs.forEach(function(Q){ce.push({id:X.id,docs:[Q]})})}),p(null,{results:ce})}function K(){++I===O&&q()}function ee(ce,X,Q){F[ce]={id:X,docs:Q},K()}var L=[];A.forEach(function(ce,X){L.push(X)});var V=0;function Z(){if(!(V>=L.length)){var ce=Math.min(V+H,L.length),X=L.slice(V,ce);ne(X,V),V+=X.length}}function ne(ce,X){ce.forEach(function(Q,re){var te=X+re,pe=A.get(Q),he=M(pe[0],["atts_since","attachments"]);he.open_revs=pe.map(function(Ee){return Ee.rev}),he.open_revs=he.open_revs.filter(U);var Se=U;he.open_revs.length===0&&(delete he.open_revs,Se=B),["revs","attachments","binary","ajax","latest"].forEach(function(Ee){Ee in f&&(he[Ee]=f[Ee])}),u.get(Q,he,function(Ee,ke){var we;Ee?we=[{error:Ee}]:we=Se(ke),ee(te,Q,we),Z()})})}Z()}var $;try{localStorage.setItem("_pouch_check_localstorage",1),$=!!localStorage.getItem("_pouch_check_localstorage")}catch{$=!1}function W(){return $}class me extends g{constructor(){super(),this._listeners={},W()&&addEventListener("storage",f=>{this.emit(f.key)})}addListener(f,p,v,A){if(this._listeners[p])return;var O=!1,I=this;function F(){if(!I._listeners[p])return;if(O){O="waiting";return}O=!0;var q=M(A,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function K(){O=!1}v.changes(q).on("change",function(ee){ee.seq>A.since&&!A.cancelled&&(A.since=ee.seq,A.onChange(ee))}).on("complete",function(){O==="waiting"&&s(F),O=!1}).on("error",K)}this._listeners[p]=F,this.on(f,F)}removeListener(f,p){p in this._listeners&&(super.removeListener(f,this._listeners[p]),delete this._listeners[p])}notifyLocalWindows(f){W()&&(localStorage[f]=localStorage[f]==="a"?"b":"a")}notify(f){this.emit(f),this.notifyLocalWindows(f)}}function ye(u){if(typeof console<"u"&&typeof console[u]=="function"){var f=Array.prototype.slice.call(arguments,1);console[u].apply(console,f)}}function Te(u,f){var p=6e5;u=parseInt(u,10)||0,f=parseInt(f,10),f!==f||f<=u?f=(u||1)<<1:f=f+1,f>p&&(u=p>>1,f=p);var v=Math.random(),A=f-u;return~~(A*v+u)}function be(u){var f=0;return u||(f=2e3),Te(u,f)}function Ue(u,f){ye("info","The above "+u+" is totally normal. "+f)}var Le;typeof Object.assign=="function"?Le=Object.assign:Le=function(u){for(var f=Object(u),p=1;p<arguments.length;p++){var v=arguments[p];if(v!=null)for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(f[A]=v[A])}return f};var Ve=Le;class Re extends Error{constructor(f,p,v){super(),this.status=f,this.name=p,this.message=v,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new Re(401,"unauthorized","Name or password is incorrect.");var gt=new Re(400,"bad_request","Missing JSON list of 'docs'"),tt=new Re(404,"not_found","missing"),xt=new Re(409,"conflict","Document update conflict"),en=new Re(400,"bad_request","_id field must contain a string"),gn=new Re(412,"missing_id","_id is required for puts"),Nt=new Re(400,"bad_request","Only reserved document ids may start with underscore.");new Re(412,"precondition_failed","Database not open");var st=new Re(500,"unknown_error","Database encountered an unknown error"),Ft=new Re(500,"badarg","Some query argument is invalid");new Re(400,"invalid_request","Request was invalid");var He=new Re(400,"query_parse_error","Some query parameter is invalid"),mn=new Re(500,"doc_validation","Bad special document member"),vn=new Re(400,"bad_request","Something wrong with the request"),yn=new Re(400,"bad_request","Document must be a JSON object");new Re(404,"not_found","Database not found");var fr=new Re(500,"indexed_db_went_bad","unknown");new Re(500,"web_sql_went_bad","unknown"),new Re(500,"levelDB_went_went_bad","unknown"),new Re(403,"forbidden","Forbidden by design doc validate_doc_update function");var dr=new Re(400,"bad_request","Invalid rev format");new Re(412,"file_exists","The database could not be created, the file already exists.");var hr=new Re(412,"missing_stub","A pre-existing attachment stub wasn't found");new Re(413,"invalid_url","Provided URL is invalid");function $e(u,f){function p(v){for(var A=Object.getOwnPropertyNames(u),O=0,I=A.length;O<I;O++)typeof u[A[O]]!="function"&&(this[A[O]]=u[A[O]]);this.stack===void 0&&(this.stack=new Error().stack),v!==void 0&&(this.reason=v)}return p.prototype=Re.prototype,new p(f)}function Rn(u){if(typeof u!="object"){var f=u;u=st,u.data=f}return"error"in u&&u.error==="conflict"&&(u.name="conflict",u.status=409),"name"in u||(u.name=u.error||"unknown"),"status"in u||(u.status=500),"message"in u||(u.message=u.message||u.reason),"stack"in u||(u.stack=new Error().stack),u}function Dn(u,f,p){try{return!u(f,p)}catch(A){var v="Filter function threw: "+A.toString();return $e(vn,v)}}function Un(u){var f={},p=u.filter&&typeof u.filter=="function";return f.query=u.query_params,function(A){A.doc||(A.doc={});var O=p&&Dn(u.filter,A.doc,f);if(typeof O=="object")return O;if(O)return!1;if(!u.include_docs)delete A.doc;else if(!u.attachments)for(var I in A.doc._attachments)Object.prototype.hasOwnProperty.call(A.doc._attachments,I)&&(A.doc._attachments[I].stub=!0);return!0}}function Hn(u){for(var f=[],p=0,v=u.length;p<v;p++)f=f.concat(u[p]);return f}function Tr(u){var f;if(u?typeof u!="string"?f=$e(en):/^_/.test(u)&&!/^_(design|local)/.test(u)&&(f=$e(Nt)):f=$e(gn),f)throw f}function kt(u){return typeof u._remote=="boolean"?u._remote:typeof u.type=="function"?(ye("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),u.type()==="http"):!1}function In(u,f){return"listenerCount"in u?u.listenerCount(f):g.listenerCount(u,f)}function qn(u){if(!u)return null;var f=u.split("/");return f.length===2?f:f.length===1?[u,u]:null}function pr(u){var f=qn(u);return f?f.join("/"):null}var oe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],le="queryKey",ve=/(?:^|&)([^&=]*)=?([^&]*)/g,Ne=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Ke(u){for(var f=Ne.exec(u),p={},v=14;v--;){var A=oe[v],O=f[v]||"",I=["user","password"].indexOf(A)!==-1;p[A]=I?decodeURIComponent(O):O}return p[le]={},p[oe[12]].replace(ve,function(F,q,K){q&&(p[le][q]=K)}),p}function Fe(u,f){var p=[],v=[];for(var A in f)Object.prototype.hasOwnProperty.call(f,A)&&(p.push(A),v.push(f[A]));return p.push(u),Function.apply(null,p).apply(null,v)}function Ge(u,f,p){return u.get(f).catch(function(v){if(v.status!==404)throw v;return{}}).then(function(v){var A=v._rev,O=p(v);return O?(O._id=f,O._rev=A,qe(u,O,p)):{updated:!1,rev:A}})}function qe(u,f,p){return u.put(f).then(function(v){return{updated:!0,rev:v.rev}},function(v){if(v.status!==409)throw v;return Ge(u,f._id,p)})}var De=function(u){return atob(u)},wt=function(u){return btoa(u)};function Kt(u,f){u=u||[],f=f||{};try{return new Blob(u,f)}catch(O){if(O.name!=="TypeError")throw O;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,v=new p,A=0;A<u.length;A+=1)v.append(u[A]);return v.getBlob(f.type)}}function ct(u){for(var f=u.length,p=new ArrayBuffer(f),v=new Uint8Array(p),A=0;A<f;A++)v[A]=u.charCodeAt(A);return p}function dt(u,f){return Kt([ct(u)],{type:f})}function At(u,f){return dt(De(u),f)}function Or(u){for(var f="",p=new Uint8Array(u),v=p.byteLength,A=0;A<v;A++)f+=String.fromCharCode(p[A]);return f}function gr(u,f){var p=new FileReader,v=typeof p.readAsBinaryString=="function";p.onloadend=function(A){var O=A.target.result||"";if(v)return f(O);f(Or(O))},v?p.readAsBinaryString(u):p.readAsArrayBuffer(u)}function Gr(u,f){gr(u,function(p){f(p)})}function ai(u,f){Gr(u,function(p){f(wt(p))})}function Qn(u,f){var p=new FileReader;p.onloadend=function(v){var A=v.target.result||new ArrayBuffer(0);f(A)},p.readAsArrayBuffer(u)}var Zn=self.setImmediate||self.setTimeout,Ai=32768;function ho(u){return wt(u)}function Ri(u,f,p){return u.webkitSlice?u.webkitSlice(f,p):u.slice(f,p)}function po(u,f,p,v,A){(p>0||v<f.size)&&(f=Ri(f,p,v)),Qn(f,function(O){u.append(O),A()})}function mt(u,f,p,v,A){(p>0||v<f.length)&&(f=f.substring(p,v)),u.appendBinary(f),A()}function xn(u,f){var p=typeof u=="string",v=p?u.length:u.size,A=Math.min(Ai,v),O=Math.ceil(v/A),I=0,F=p?new l:new l.ArrayBuffer,q=p?mt:po;function K(){Zn(L)}function ee(){var V=F.end(!0),Z=ho(V);f(Z),F.destroy()}function L(){var V=I*A,Z=V+A;I++,I<O?q(F,u,V,Z,K):q(F,u,V,Z,ee)}L()}function Xn(u){return l.hash(u)}function Ni(u,f){if(!f)return c.v4().replace(/-/g,"").toLowerCase();var p=Ve({},u);return delete p._rev_tree,Xn(JSON.stringify(p))}var Tt=c.v4;function Mn(u){for(var f,p,v,A=u.rev_tree.slice(),O;O=A.pop();){var I=O.ids,F=I[2],q=O.pos;if(F.length){for(var K=0,ee=F.length;K<ee;K++)A.push({pos:q+1,ids:F[K]});continue}var L=!!I[1].deleted,V=I[0];(!f||(v!==L?v:p!==q?p<q:f<V))&&(f=V,p=q,v=L)}return p+"-"+f}function mr(u,f){for(var p=u.slice(),v;v=p.pop();)for(var A=v.pos,O=v.ids,I=O[2],F=f(I.length===0,A,O[0],v.ctx,O[1]),q=0,K=I.length;q<K;q++)p.push({pos:A+1,ids:I[q],ctx:F})}function ta(u,f){return u.pos-f.pos}function ms(u){var f=[];mr(u,function(A,O,I,F,q){A&&f.push({rev:O+"-"+I,pos:O,opts:q})}),f.sort(ta).reverse();for(var p=0,v=f.length;p<v;p++)delete f[p].pos;return f}function vs(u){for(var f=Mn(u),p=ms(u.rev_tree),v=[],A=0,O=p.length;A<O;A++){var I=p[A];I.rev!==f&&!I.opts.deleted&&v.push(I.rev)}return v}function Nf(u){var f=[];return mr(u.rev_tree,function(p,v,A,O,I){I.status==="available"&&!p&&(f.push(v+"-"+A),I.status="missing")}),f}function Tf(u,f){let p=[];const v=u.slice();let A;for(;A=v.pop();){const{pos:O,ids:I}=A,F=`${O}-${I[0]}`,q=I[2];if(p.push(F),F===f){if(q.length!==0)throw new Error("The requested revision is not a leaf");return p.reverse()}(q.length===0||q.length>1)&&(p=[]);for(let K=0,ee=q.length;K<ee;K++)v.push({pos:O+1,ids:q[K]})}if(p.length===0)throw new Error("The requested revision does not exist");return p.reverse()}function tu(u){for(var f=[],p=u.slice(),v;v=p.pop();){var A=v.pos,O=v.ids,I=O[0],F=O[1],q=O[2],K=q.length===0,ee=v.history?v.history.slice():[];ee.push({id:I,opts:F}),K&&f.push({pos:A+1-ee.length,ids:ee});for(var L=0,V=q.length;L<V;L++)p.push({pos:A+1,ids:q[L],history:ee})}return f.reverse()}function Of(u,f){return u.pos-f.pos}function nu(u,f,p){for(var v=0,A=u.length,O;v<A;)O=v+A>>>1,p(u[O],f)<0?v=O+1:A=O;return v}function Pf(u,f,p){var v=nu(u,f,p);u.splice(v,0,f)}function ru(u,f){for(var p,v,A=f,O=u.length;A<O;A++){var I=u[A],F=[I.id,I.opts,[]];v?(v[2].push(F),v=F):p=v=F}return p}function Df(u,f){return u[0]<f[0]?-1:1}function iu(u,f){for(var p=[{tree1:u,tree2:f}],v=!1;p.length>0;){var A=p.pop(),O=A.tree1,I=A.tree2;(O[1].status||I[1].status)&&(O[1].status=O[1].status==="available"||I[1].status==="available"?"available":"missing");for(var F=0;F<I[2].length;F++){if(!O[2][0]){v="new_leaf",O[2][0]=I[2][F];continue}for(var q=!1,K=0;K<O[2].length;K++)O[2][K][0]===I[2][F][0]&&(p.push({tree1:O[2][K],tree2:I[2][F]}),q=!0);q||(v="new_branch",Pf(O[2],I[2][F],Df))}}return{conflicts:v,tree:u}}function na(u,f,p){var v=[],A=!1,O=!1,I;if(!u.length)return{tree:[f],conflicts:"new_leaf"};for(var F=0,q=u.length;F<q;F++){var K=u[F];if(K.pos===f.pos&&K.ids[0]===f.ids[0])I=iu(K.ids,f.ids),v.push({pos:K.pos,ids:I.tree}),A=A||I.conflicts,O=!0;else if(p!==!0){var ee=K.pos<f.pos?K:f,L=K.pos<f.pos?f:K,V=L.pos-ee.pos,Z=[],ne=[];for(ne.push({ids:ee.ids,diff:V,parent:null,parentIdx:null});ne.length>0;){var ce=ne.pop();if(ce.diff===0){ce.ids[0]===L.ids[0]&&Z.push(ce);continue}for(var X=ce.ids[2],Q=0,re=X.length;Q<re;Q++)ne.push({ids:X[Q],diff:ce.diff-1,parent:ce.ids,parentIdx:Q})}var te=Z[0];te?(I=iu(te.ids,L.ids),te.parent[2][te.parentIdx]=I.tree,v.push({pos:ee.pos,ids:ee.ids}),A=A||I.conflicts,O=!0):v.push(K)}else v.push(K)}return O||v.push(f),v.sort(Of),{tree:v,conflicts:A||"internal_node"}}function TS(u,f){for(var p=tu(u),v,A,O=0,I=p.length;O<I;O++){var F=p[O],q=F.ids,K;if(q.length>f){v||(v={});var ee=q.length-f;K={pos:F.pos+ee,ids:ru(q,ee)};for(var L=0;L<ee;L++){var V=F.pos+L+"-"+q[L].id;v[V]=!0}}else K={pos:F.pos,ids:ru(q,0)};A?A=na(A,K,!0).tree:A=[K]}return v&&mr(A,function(Z,ne,ce){delete v[ne+"-"+ce]}),{tree:A,revs:v?Object.keys(v):[]}}function b0(u,f,p){var v=na(u,f),A=TS(v.tree,p);return{tree:A.tree,stemmedRevs:A.revs,conflicts:v.conflicts}}function OS(u,f){for(var p=u.slice(),v=f.split("-"),A=parseInt(v[0],10),O=v[1],I;I=p.pop();){if(I.pos===A&&I.ids[0]===O)return!0;for(var F=I.ids[2],q=0,K=F.length;q<K;q++)p.push({pos:I.pos+1,ids:F[q]})}return!1}function PS(u){return u.ids}function si(u,f){f||(f=Mn(u));for(var p=f.substring(f.indexOf("-")+1),v=u.rev_tree.map(PS),A;A=v.pop();){if(A[0]===p)return!!A[1].deleted;v=v.concat(A[2])}}function go(u){return/^_local/.test(u)}function DS(u,f){for(var p=f.rev_tree.slice(),v;v=p.pop();){var A=v.pos,O=v.ids,I=O[0],F=O[1],q=O[2],K=q.length===0,ee=v.history?v.history.slice():[];if(ee.push({id:I,pos:A,opts:F}),K)for(var L=0,V=ee.length;L<V;L++){var Z=ee[L],ne=Z.pos+"-"+Z.id;if(ne===u)return A+"-"+I}for(var ce=0,X=q.length;ce<X;ce++)p.push({pos:A+1,ids:q[ce],history:ee})}throw new Error("Unable to resolve latest revision for id "+f.id+", rev "+u)}function IS(u,f,p,v){try{u.emit("change",f,p,v)}catch(A){ye("error",'Error in .on("change", function):',A)}}function MS(u,f,p){var v=[{rev:u._rev}];p.style==="all_docs"&&(v=ms(f.rev_tree).map(function(O){return{rev:O.rev}}));var A={id:f.id,changes:v,doc:u};return si(f,u._rev)&&(A.deleted=!0),p.conflicts&&(A.doc._conflicts=vs(f),A.doc._conflicts.length||delete A.doc._conflicts),A}class LS extends g{constructor(f,p,v){super(),this.db=f,p=p?D(p):{};var A=p.complete=G((F,q)=>{F?In(this,"error")>0&&this.emit("error",F):this.emit("complete",q),this.removeAllListeners(),f.removeListener("destroyed",O)});v&&(this.on("complete",function(F){v(null,F)}),this.on("error",v));const O=()=>{this.cancel()};f.once("destroyed",O),p.onChange=(F,q,K)=>{this.isCancelled||IS(this,F,q,K)};var I=new Promise(function(F,q){p.complete=function(K,ee){K?q(K):F(ee)}});this.once("cancel",function(){f.removeListener("destroyed",O),p.complete(null,{status:"cancelled"})}),this.then=I.then.bind(I),this.catch=I.catch.bind(I),this.then(function(F){A(null,F)},A),f.taskqueue.isReady?this.validateChanges(p):f.taskqueue.addTask(F=>{F?p.complete(F):this.isCancelled?this.emit("cancel"):this.validateChanges(p)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(f){var p=f.complete;nt._changesFilterPlugin?nt._changesFilterPlugin.validate(f,v=>{if(v)return p(v);this.doChanges(f)}):this.doChanges(f)}doChanges(f){var p=f.complete;if(f=D(f),"live"in f&&!("continuous"in f)&&(f.continuous=f.live),f.processChange=MS,f.since==="latest"&&(f.since="now"),f.since||(f.since=0),f.since==="now"){this.db.info().then(A=>{if(this.isCancelled){p(null,{status:"cancelled"});return}f.since=A.update_seq,this.doChanges(f)},p);return}if(nt._changesFilterPlugin){if(nt._changesFilterPlugin.normalize(f),nt._changesFilterPlugin.shouldFilter(this,f))return nt._changesFilterPlugin.filter(this,f)}else["doc_ids","filter","selector","view"].forEach(function(A){A in f&&ye("warn",'The "'+A+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in f||(f.descending=!1),f.limit=f.limit===0?1:f.limit,f.complete=p;var v=this.db._changes(f);if(v&&typeof v.cancel=="function"){const A=this.cancel;this.cancel=(...O)=>{v.cancel(),A.apply(this,O)}}}}function k0(u,f){return u<f?-1:u>f?1:0}function If(u,f){return function(p,v){p||v[0]&&v[0].error?(p=p||v[0],p.docId=f,u(p)):u(null,v.length?v[0]:v)}}function BS(u){for(var f=0;f<u.length;f++){var p=u[f];if(p._deleted)delete p._attachments;else if(p._attachments)for(var v=Object.keys(p._attachments),A=0;A<v.length;A++){var O=v[A];p._attachments[O]=M(p._attachments[O],["data","digest","content_type","length","revpos","stub"])}}}function jS(u,f){var p=k0(u._id,f._id);if(p!==0)return p;var v=u._revisions?u._revisions.start:0,A=f._revisions?f._revisions.start:0;return k0(v,A)}function zS(u){var f={},p=[];return mr(u,function(v,A,O,I){var F=A+"-"+O;return v&&(f[F]=0),I!==void 0&&p.push({from:I,to:F}),F}),p.reverse(),p.forEach(function(v){f[v.from]===void 0?f[v.from]=1+f[v.to]:f[v.from]=Math.min(f[v.from],1+f[v.to])}),f}function FS(u){var f="limit"in u?u.keys.slice(u.skip,u.limit+u.skip):u.skip>0?u.keys.slice(u.skip):u.keys;u.keys=f,u.skip=0,delete u.limit,u.descending&&(f.reverse(),u.descending=!1)}function C0(u){var f=u._compactionQueue[0],p=f.opts,v=f.callback;u.get("_local/compaction").catch(function(){return!1}).then(function(A){A&&A.last_seq&&(p.last_seq=A.last_seq),u._compact(p,function(O,I){O?v(O):v(null,I),s(function(){u._compactionQueue.shift(),u._compactionQueue.length&&C0(u)})})})}function US(u,f,p){return u.get("_local/purges").then(function(v){const A=v.purgeSeq+1;return v.purges.push({docId:f,rev:p,purgeSeq:A}),v.purges.length>self.purged_infos_limit&&v.purges.splice(0,v.purges.length-self.purged_infos_limit),v.purgeSeq=A,v}).catch(function(v){if(v.status!==404)throw v;return{_id:"_local/purges",purges:[{docId:f,rev:p,purgeSeq:0}],purgeSeq:0}}).then(function(v){return u.put(v)})}function HS(u){return u.charAt(0)==="_"?u+" is not a valid attachment name, attachment names cannot start with '_'":!1}class A0 extends g{_setup(){this.post=z("post",function(f,p,v){if(typeof p=="function"&&(v=p,p={}),typeof f!="object"||Array.isArray(f))return v($e(yn));this.bulkDocs({docs:[f]},p,If(v,f._id))}).bind(this),this.put=z("put",function(f,p,v){if(typeof p=="function"&&(v=p,p={}),typeof f!="object"||Array.isArray(f))return v($e(yn));if(Tr(f._id),go(f._id)&&typeof this._putLocal=="function")return f._deleted?this._removeLocal(f,v):this._putLocal(f,v);const A=I=>{typeof this._put=="function"&&p.new_edits!==!1?this._put(f,p,I):this.bulkDocs({docs:[f]},p,If(I,f._id))};p.force&&f._rev?(O(),A(function(I){var F=I?null:{ok:!0,id:f._id,rev:f._rev};v(I,F)})):A(v);function O(){var I=f._rev.split("-"),F=I[1],q=parseInt(I[0],10),K=q+1,ee=Ni();f._revisions={start:K,ids:[ee,F]},f._rev=K+"-"+ee,p.new_edits=!1}}).bind(this),this.putAttachment=z("putAttachment",function(f,p,v,A,O){var I=this;typeof O=="function"&&(O=A,A=v,v=null),typeof O>"u"&&(O=A,A=v,v=null),O||ye("warn","Attachment",p,"on document",f,"is missing content_type");function F(q){var K="_rev"in q?parseInt(q._rev,10):0;return q._attachments=q._attachments||{},q._attachments[p]={content_type:O,data:A,revpos:++K},I.put(q)}return I.get(f).then(function(q){if(q._rev!==v)throw $e(xt);return F(q)},function(q){if(q.reason===tt.message)return F({_id:f});throw q})}).bind(this),this.removeAttachment=z("removeAttachment",function(f,p,v,A){this.get(f,(O,I)=>{if(O){A(O);return}if(I._rev!==v){A($e(xt));return}if(!I._attachments)return A();delete I._attachments[p],Object.keys(I._attachments).length===0&&delete I._attachments,this.put(I,A)})}).bind(this),this.remove=z("remove",function(f,p,v,A){var O;typeof p=="string"?(O={_id:f,_rev:p},typeof v=="function"&&(A=v,v={})):(O=f,typeof p=="function"?(A=p,v={}):(A=v,v=p)),v=v||{},v.was_delete=!0;var I={_id:O._id,_rev:O._rev||v.rev};if(I._deleted=!0,go(I._id)&&typeof this._removeLocal=="function")return this._removeLocal(O,A);this.bulkDocs({docs:[I]},v,If(A,I._id))}).bind(this),this.revsDiff=z("revsDiff",function(f,p,v){typeof p=="function"&&(v=p,p={});var A=Object.keys(f);if(!A.length)return v(null,{});var O=0,I=new w;function F(K,ee){I.has(K)||I.set(K,{missing:[]}),I.get(K).missing.push(ee)}function q(K,ee){var L=f[K].slice(0);mr(ee,function(V,Z,ne,ce,X){var Q=Z+"-"+ne,re=L.indexOf(Q);re!==-1&&(L.splice(re,1),X.status!=="available"&&F(K,Q))}),L.forEach(function(V){F(K,V)})}A.map(function(K){this._getRevisionTree(K,function(ee,L){if(ee&&ee.status===404&&ee.message==="missing")I.set(K,{missing:f[K]});else{if(ee)return v(ee);q(K,L)}if(++O===A.length){var V={};return I.forEach(function(Z,ne){V[ne]=Z}),v(null,V)}})},this)}).bind(this),this.bulkGet=z("bulkGet",function(f,p){j(this,f,p)}).bind(this),this.compactDocument=z("compactDocument",function(f,p,v){this._getRevisionTree(f,(A,O)=>{if(A)return v(A);var I=zS(O),F=[],q=[];Object.keys(I).forEach(function(K){I[K]>p&&F.push(K)}),mr(O,function(K,ee,L,V,Z){var ne=ee+"-"+L;Z.status==="available"&&F.indexOf(ne)!==-1&&q.push(ne)}),this._doCompaction(f,q,v)})}).bind(this),this.compact=z("compact",function(f,p){typeof f=="function"&&(p=f,f={}),f=f||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:f,callback:p}),this._compactionQueue.length===1&&C0(this)}).bind(this),this.get=z("get",function(f,p,v){if(typeof p=="function"&&(v=p,p={}),typeof f!="string")return v($e(en));if(go(f)&&typeof this._getLocal=="function")return this._getLocal(f,v);var A=[];const O=()=>{var q=[],K=A.length;if(!K)return v(null,q);A.forEach(ee=>{this.get(f,{rev:ee,revs:p.revs,latest:p.latest,attachments:p.attachments,binary:p.binary},function(L,V){if(L)q.push({missing:ee});else{for(var Z,ne=0,ce=q.length;ne<ce;ne++)if(q[ne].ok&&q[ne].ok._rev===V._rev){Z=!0;break}Z||q.push({ok:V})}K--,K||v(null,q)})})};if(p.open_revs){if(p.open_revs==="all")this._getRevisionTree(f,function(q,K){if(q)return v(q);A=ms(K).map(function(ee){return ee.rev}),O()});else if(Array.isArray(p.open_revs)){A=p.open_revs;for(var I=0;I<A.length;I++){var F=A[I];if(!(typeof F=="string"&&/^\d+-/.test(F)))return v($e(dr))}O()}else return v($e(st,"function_clause"));return}return this._get(f,p,(q,K)=>{if(q)return q.docId=f,v(q);var ee=K.doc,L=K.metadata,V=K.ctx;if(p.conflicts){var Z=vs(L);Z.length&&(ee._conflicts=Z)}if(si(L,ee._rev)&&(ee._deleted=!0),p.revs||p.revs_info){for(var ne=ee._rev.split("-"),ce=parseInt(ne[0],10),X=ne[1],Q=tu(L.rev_tree),re=null,te=0;te<Q.length;te++){var pe=Q[te],he=pe.ids.map(function(Xe){return Xe.id}).indexOf(X),Se=he===ce-1;(Se||!re&&he!==-1)&&(re=pe)}if(!re)return q=new Error("invalid rev tree"),q.docId=f,v(q);var Ee=re.ids.map(function(Xe){return Xe.id}).indexOf(ee._rev.split("-")[1])+1,ke=re.ids.length-Ee;if(re.ids.splice(Ee,ke),re.ids.reverse(),p.revs&&(ee._revisions={start:re.pos+re.ids.length-1,ids:re.ids.map(function(Xe){return Xe.id})}),p.revs_info){var we=re.pos+re.ids.length;ee._revs_info=re.ids.map(function(Xe){return we--,{rev:we+"-"+Xe.id,status:Xe.opts.status}})}}if(p.attachments&&ee._attachments){var Be=ee._attachments,je=Object.keys(Be).length;if(je===0)return v(null,ee);Object.keys(Be).forEach(Xe=>{this._getAttachment(ee._id,Xe,Be[Xe],{rev:ee._rev,binary:p.binary,ctx:V},function(We,Ze){var et=ee._attachments[Xe];et.data=Ze,delete et.stub,delete et.length,--je||v(null,ee)})})}else{if(ee._attachments)for(var rt in ee._attachments)Object.prototype.hasOwnProperty.call(ee._attachments,rt)&&(ee._attachments[rt].stub=!0);v(null,ee)}})}).bind(this),this.getAttachment=z("getAttachment",function(f,p,v,A){v instanceof Function&&(A=v,v={}),this._get(f,v,(O,I)=>{if(O)return A(O);if(I.doc._attachments&&I.doc._attachments[p])v.ctx=I.ctx,v.binary=!0,this._getAttachment(f,p,I.doc._attachments[p],v,A);else return A($e(tt))})}).bind(this),this.allDocs=z("allDocs",function(f,p){if(typeof f=="function"&&(p=f,f={}),f.skip=typeof f.skip<"u"?f.skip:0,f.start_key&&(f.startkey=f.start_key),f.end_key&&(f.endkey=f.end_key),"keys"in f){if(!Array.isArray(f.keys))return p(new TypeError("options.keys must be an array"));var v=["startkey","endkey","key"].filter(function(A){return A in f})[0];if(v){p($e(He,"Query parameter `"+v+"` is not compatible with multi-get"));return}if(!kt(this)&&(FS(f),f.keys.length===0))return this._allDocs({limit:0},p)}return this._allDocs(f,p)}).bind(this),this.close=z("close",function(f){return this._closed=!0,this.emit("closed"),this._close(f)}).bind(this),this.info=z("info",function(f){this._info((p,v)=>{if(p)return f(p);v.db_name=v.db_name||this.name,v.auto_compaction=!!(this.auto_compaction&&!kt(this)),v.adapter=this.adapter,f(null,v)})}).bind(this),this.id=z("id",function(f){return this._id(f)}).bind(this),this.bulkDocs=z("bulkDocs",function(f,p,v){if(typeof p=="function"&&(v=p,p={}),p=p||{},Array.isArray(f)&&(f={docs:f}),!f||!f.docs||!Array.isArray(f.docs))return v($e(gt));for(var A=0;A<f.docs.length;++A)if(typeof f.docs[A]!="object"||Array.isArray(f.docs[A]))return v($e(yn));var O;if(f.docs.forEach(function(q){q._attachments&&Object.keys(q._attachments).forEach(function(K){O=O||HS(K),q._attachments[K].content_type||ye("warn","Attachment",K,"on document",q._id,"is missing content_type")})}),O)return v($e(vn,O));"new_edits"in p||("new_edits"in f?p.new_edits=f.new_edits:p.new_edits=!0);var I=this;!p.new_edits&&!kt(I)&&f.docs.sort(jS),BS(f.docs);var F=f.docs.map(function(q){return q._id});this._bulkDocs(f,p,function(q,K){if(q)return v(q);if(p.new_edits||(K=K.filter(function(V){return V.error})),!kt(I))for(var ee=0,L=K.length;ee<L;ee++)K[ee].id=K[ee].id||F[ee];v(null,K)})}).bind(this),this.registerDependentDatabase=z("registerDependentDatabase",function(f,p){var v=D(this.__opts);this.__opts.view_adapter&&(v.adapter=this.__opts.view_adapter);var A=new this.constructor(f,v);function O(I){return I.dependentDbs=I.dependentDbs||{},I.dependentDbs[f]?!1:(I.dependentDbs[f]=!0,I)}Ge(this,"_local/_pouch_dependentDbs",O).then(function(){p(null,{db:A})}).catch(p)}).bind(this),this.destroy=z("destroy",function(f,p){typeof f=="function"&&(p=f,f={});var v="use_prefix"in this?this.use_prefix:!0;const A=()=>{this._destroy(f,(O,I)=>{if(O)return p(O);this._destroyed=!0,this.emit("destroyed"),p(null,I||{ok:!0})})};if(kt(this))return A();this.get("_local/_pouch_dependentDbs",(O,I)=>{if(O)return O.status!==404?p(O):A();var F=I.dependentDbs,q=this.constructor,K=Object.keys(F).map(ee=>{var L=v?ee.replace(new RegExp("^"+q.prefix),""):ee;return new q(L,this.__opts).destroy()});Promise.all(K).then(A,p)})}).bind(this)}_compact(f,p){var v={return_docs:!1,last_seq:f.last_seq||0},A=[],O,I=0;const F=ee=>{this.activeTasks.update(O,{completed_items:++I}),A.push(this.compactDocument(ee.id,0))},q=ee=>{this.activeTasks.remove(O,ee),p(ee)},K=ee=>{var L=ee.last_seq;Promise.all(A).then(()=>Ge(this,"_local/compaction",V=>!V.last_seq||V.last_seq<L?(V.last_seq=L,V):!1)).then(()=>{this.activeTasks.remove(O),p(null,{ok:!0})}).catch(q)};this.info().then(ee=>{O=this.activeTasks.add({name:"database_compaction",total_items:ee.update_seq-v.last_seq}),this.changes(v).on("change",F).on("complete",K).on("error",q)})}changes(f,p){return typeof f=="function"&&(p=f,f={}),f=f||{},f.return_docs="return_docs"in f?f.return_docs:!f.live,new LS(this,f,p)}type(){return typeof this._type=="function"?this._type():this.adapter}}A0.prototype.purge=z("_purge",function(u,f,p){if(typeof this._purge>"u")return p($e(st,"Purge is not implemented in the "+this.adapter+" adapter."));var v=this;v._getRevisionTree(u,(A,O)=>{if(A)return p(A);if(!O)return p($e(tt));let I;try{I=Tf(O,f)}catch(F){return p(F.message||F)}v._purge(u,I,(F,q)=>{if(F)return p(F);US(v,u,f).then(function(){return p(null,q)})})})});class qS{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var f;if(this.failed)for(;f=this.queue.shift();)f(this.failed);else for(;f=this.queue.shift();)f()}fail(f){this.failed=f,this.execute()}ready(f){this.isReady=!0,this.db=f,this.execute()}addTask(f){this.queue.push(f),this.failed&&this.execute()}}function $S(u,f){var p=u.match(/([a-z-]*):\/\/(.*)/);if(p)return{name:/https?/.test(p[1])?p[1]+"://"+p[2]:p[2],adapter:p[1]};var v=nt.adapters,A=nt.preferredAdapters,O=nt.prefix,I=f.adapter;if(!I)for(var F=0;F<A.length;++F){if(I=A[F],I==="idb"&&"websql"in v&&W()&&localStorage["_pouch__websqldb_"+O+u]){ye("log",'PouchDB is downgrading "'+u+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var q=v[I],K=q&&"use_prefix"in q?q.use_prefix:!0;return{name:K?O+u:u,adapter:I}}function WS(u,f){u.prototype=Object.create(f.prototype,{constructor:{value:u}})}function R0(u,f){let p=function(...v){if(!(this instanceof p))return new p(...v);f.apply(this,v)};return WS(p,u),p}function VS(u){function f(v){u.removeListener("closed",p),v||u.constructor.emit("destroyed",u.name)}function p(){u.removeListener("destroyed",f),u.constructor.emit("unref",u)}u.once("destroyed",f),u.once("closed",p),u.constructor.emit("ref",u)}class N0 extends A0{constructor(f,p){super(),this._setup(f,p)}_setup(f,p){if(super._setup(),p=p||{},f&&typeof f=="object"&&(p=f,f=p.name,delete p.name),p.deterministic_revs===void 0&&(p.deterministic_revs=!0),this.__opts=p=D(p),this.auto_compaction=p.auto_compaction,this.purged_infos_limit=p.purged_infos_limit||1e3,this.prefix=nt.prefix,typeof f!="string")throw new Error("Missing/invalid DB name");var v=(p.prefix||"")+f,A=$S(v,p);if(p.name=A.name,p.adapter=p.adapter||A.adapter,this.name=f,this._adapter=p.adapter,nt.emit("debug",["adapter","Picked adapter: ",p.adapter]),!nt.adapters[p.adapter]||!nt.adapters[p.adapter].valid())throw new Error("Invalid Adapter: "+p.adapter);if(p.view_adapter&&(!nt.adapters[p.view_adapter]||!nt.adapters[p.view_adapter].valid()))throw new Error("Invalid View Adapter: "+p.view_adapter);this.taskqueue=new qS,this.adapter=p.adapter,nt.adapters[p.adapter].call(this,p,O=>{if(O)return this.taskqueue.fail(O);VS(this),this.emit("created",this),nt.emit("created",this.name),this.taskqueue.ready(this)})}}const nt=R0(N0,function(u,f){N0.prototype._setup.call(this,u,f)});var KS=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},T0=fetch,ra=Headers;class GS{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(f){const p=c.v4();return this.tasks[p]={id:p,name:f.name,total_items:f.total_items,created_at:new Date().toJSON()},p}get(f){return this.tasks[f]}remove(f,p){return delete this.tasks[f],this.tasks}update(f,p){const v=this.tasks[f];if(typeof v<"u"){const A={id:v.id,name:v.name,created_at:v.created_at,total_items:p.total_items||v.total_items,completed_items:p.completed_items||v.completed_items,updated_at:new Date().toJSON()};this.tasks[f]=A}return this.tasks}}nt.adapters={},nt.preferredAdapters=[],nt.prefix="_pouch_";var O0=new g;function YS(u){Object.keys(g.prototype).forEach(function(p){typeof g.prototype[p]=="function"&&(u[p]=O0[p].bind(O0))});var f=u._destructionListeners=new w;u.on("ref",function(v){f.has(v.name)||f.set(v.name,[]),f.get(v.name).push(v)}),u.on("unref",function(v){if(f.has(v.name)){var A=f.get(v.name),O=A.indexOf(v);O<0||(A.splice(O,1),A.length>1?f.set(v.name,A):f.delete(v.name))}}),u.on("destroyed",function(v){if(f.has(v)){var A=f.get(v);f.delete(v),A.forEach(function(O){O.emit("destroyed",!0)})}})}YS(nt),nt.adapter=function(u,f,p){f.valid()&&(nt.adapters[u]=f,p&&nt.preferredAdapters.push(u))},nt.plugin=function(u){if(typeof u=="function")u(nt);else{if(typeof u!="object"||Object.keys(u).length===0)throw new Error('Invalid plugin: got "'+u+'", expected an object or a function');Object.keys(u).forEach(function(f){nt.prototype[f]=u[f]})}return this.__defaults&&(nt.__defaults=Ve({},this.__defaults)),nt},nt.defaults=function(u){let f=R0(nt,function(p,v){v=v||{},p&&typeof p=="object"&&(v=p,p=v.name,delete v.name),v=Ve({},f.__defaults,v),nt.call(this,p,v)});return f.preferredAdapters=nt.preferredAdapters.slice(),Object.keys(nt).forEach(function(p){p in f||(f[p]=nt[p])}),f.__defaults=Ve({},this.__defaults,u),f},nt.fetch=function(u,f){return T0(u,f)},nt.prototype.activeTasks=nt.activeTasks=new GS;var JS="8.0.1";function Mf(u,f){for(var p=u,v=0,A=f.length;v<A;v++){var O=f[v];if(p=p[O],!p)break}return p}function QS(u,f){return u<f?-1:u>f?1:0}function Lf(u){for(var f=[],p="",v=0,A=u.length;v<A;v++){var O=u[v];v>0&&u[v-1]==="\\"&&(O==="$"||O===".")?p=p.substring(0,p.length-1)+O:O==="."?(f.push(p),p=""):p+=O}return f.push(p),f}var ZS=["$or","$nor","$not"];function P0(u){return ZS.indexOf(u)>-1}function D0(u){return Object.keys(u)[0]}function XS(u){return u[D0(u)]}function ys(u){var f={},p={$or:!0,$nor:!0};return u.forEach(function(v){Object.keys(v).forEach(function(A){var O=v[A];if(typeof O!="object"&&(O={$eq:O}),P0(A))if(O instanceof Array){if(p[A]){p[A]=!1,f[A]=O;return}var I=[];f[A].forEach(function(q){Object.keys(O).forEach(function(K){var ee=O[K],L=Math.max(Object.keys(q).length,Object.keys(ee).length),V=ys([q,ee]);Object.keys(V).length<=L||I.push(V)})}),f[A]=I}else f[A]=ys([O]);else{var F=f[A]=f[A]||{};Object.keys(O).forEach(function(q){var K=O[q];if(q==="$gt"||q==="$gte")return eE(q,K,F);if(q==="$lt"||q==="$lte")return tE(q,K,F);if(q==="$ne")return nE(K,F);if(q==="$eq")return rE(K,F);if(q==="$regex")return iE(K,F);F[q]=K})}})}),f}function eE(u,f,p){typeof p.$eq<"u"||(typeof p.$gte<"u"?u==="$gte"?f>p.$gte&&(p.$gte=f):f>=p.$gte&&(delete p.$gte,p.$gt=f):typeof p.$gt<"u"?u==="$gte"?f>p.$gt&&(delete p.$gt,p.$gte=f):f>p.$gt&&(p.$gt=f):p[u]=f)}function tE(u,f,p){typeof p.$eq<"u"||(typeof p.$lte<"u"?u==="$lte"?f<p.$lte&&(p.$lte=f):f<=p.$lte&&(delete p.$lte,p.$lt=f):typeof p.$lt<"u"?u==="$lte"?f<p.$lt&&(delete p.$lt,p.$lte=f):f<p.$lt&&(p.$lt=f):p[u]=f)}function nE(u,f){"$ne"in f?f.$ne.push(u):f.$ne=[u]}function rE(u,f){delete f.$gt,delete f.$gte,delete f.$lt,delete f.$lte,delete f.$ne,f.$eq=u}function iE(u,f){"$regex"in f?f.$regex.push(u):f.$regex=[u]}function I0(u){for(var f in u){if(Array.isArray(u))for(var p in u)u[p].$and&&(u[p]=ys(u[p].$and));var v=u[f];typeof v=="object"&&I0(v)}return u}function M0(u,f){for(var p in u){p==="$and"&&(f=!0);var v=u[p];typeof v=="object"&&(f=M0(v,f))}return f}function oE(u){var f=D(u);M0(f,!1)&&(f=I0(f),"$and"in f&&(f=ys(f.$and))),["$or","$nor"].forEach(function(I){I in f&&f[I].forEach(function(F){for(var q=Object.keys(F),K=0;K<q.length;K++){var ee=q[K],L=F[ee];(typeof L!="object"||L===null)&&(F[ee]={$eq:L})}})}),"$not"in f&&(f.$not=ys([f.$not]));for(var p=Object.keys(f),v=0;v<p.length;v++){var A=p[v],O=f[A];(typeof O!="object"||O===null)&&(O={$eq:O}),f[A]=O}return Bf(f),f}function Bf(u){Object.keys(u).forEach(function(f){var p=u[f];Array.isArray(p)?p.forEach(function(v){v&&typeof v=="object"&&Bf(v)}):f==="$ne"?u.$ne=[p]:f==="$regex"?u.$regex=[p]:p&&typeof p=="object"&&Bf(p)})}function aE(u,f,p){for(var v="",A=p-u.length;v.length<A;)v+=f;return v}function sE(u,f,p){var v=aE(u,f,p);return v+u}var L0=-324,jf=3,zf="";function Jt(u,f){if(u===f)return 0;u=mo(u),f=mo(f);var p=Ff(u),v=Ff(f);if(p-v!==0)return p-v;switch(typeof u){case"number":return u-f;case"boolean":return u<f?-1:1;case"string":return hE(u,f)}return Array.isArray(u)?dE(u,f):pE(u,f)}function mo(u){switch(typeof u){case"undefined":return null;case"number":return u===1/0||u===-1/0||isNaN(u)?null:u;case"object":var f=u;if(Array.isArray(u)){var p=u.length;u=new Array(p);for(var v=0;v<p;v++)u[v]=mo(f[v])}else{if(u instanceof Date)return u.toJSON();if(u!==null){u={};for(var A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var O=f[A];typeof O<"u"&&(u[A]=mo(O))}}}}return u}function lE(u){if(u!==null)switch(typeof u){case"boolean":return u?1:0;case"number":return gE(u);case"string":return u.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var f=Array.isArray(u),p=f?u:Object.keys(u),v=-1,A=p.length,O="";if(f)for(;++v<A;)O+=Pr(p[v]);else for(;++v<A;){var I=p[v];O+=Pr(I)+Pr(u[I])}return O}return""}function Pr(u){var f="\0";return u=mo(u),Ff(u)+zf+lE(u)+f}function uE(u,f){var p=f,v,A=u[f]==="1";if(A)v=0,f++;else{var O=u[f]==="0";f++;var I="",F=u.substring(f,f+jf),q=parseInt(F,10)+L0;for(O&&(q=-q),f+=jf;;){var K=u[f];if(K==="\0")break;I+=K,f++}I=I.split("."),I.length===1?v=parseInt(I,10):v=parseFloat(I[0]+"."+I[1]),O&&(v=v-10),q!==0&&(v=parseFloat(v+"e"+q))}return{num:v,length:f-p}}function cE(u,f){var p=u.pop();if(f.length){var v=f[f.length-1];p===v.element&&(f.pop(),v=f[f.length-1]);var A=v.element,O=v.index;if(Array.isArray(A))A.push(p);else if(O===u.length-2){var I=u.pop();A[I]=p}else u.push(p)}}function fE(u){for(var f=[],p=[],v=0;;){var A=u[v++];if(A==="\0"){if(f.length===1)return f.pop();cE(f,p);continue}switch(A){case"1":f.push(null);break;case"2":f.push(u[v]==="1"),v++;break;case"3":var O=uE(u,v);f.push(O.num),v+=O.length;break;case"4":for(var I="";;){var F=u[v];if(F==="\0")break;I+=F,v++}I=I.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),f.push(I);break;case"5":var q={element:[],index:f.length};f.push(q.element),p.push(q);break;case"6":var K={element:{},index:f.length};f.push(K.element),p.push(K);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+A)}}}function dE(u,f){for(var p=Math.min(u.length,f.length),v=0;v<p;v++){var A=Jt(u[v],f[v]);if(A!==0)return A}return u.length===f.length?0:u.length>f.length?1:-1}function hE(u,f){return u===f?0:u>f?1:-1}function pE(u,f){for(var p=Object.keys(u),v=Object.keys(f),A=Math.min(p.length,v.length),O=0;O<A;O++){var I=Jt(p[O],v[O]);if(I!==0||(I=Jt(u[p[O]],f[v[O]]),I!==0))return I}return p.length===v.length?0:p.length>v.length?1:-1}function Ff(u){var f=["boolean","number","string","object"],p=f.indexOf(typeof u);if(~p)return u===null?1:Array.isArray(u)?5:p<3?p+2:p+3;if(Array.isArray(u))return 5}function gE(u){if(u===0)return"1";var f=u.toExponential().split(/e\+?/),p=parseInt(f[1],10),v=u<0,A=v?"0":"2",O=(v?-p:p)-L0,I=sE(O.toString(),"0",jf);A+=zf+I;var F=Math.abs(parseFloat(f[0]));v&&(F=10-F);var q=F.toFixed(20);return q=q.replace(/\.?0+$/,""),A+=zf+q,A}function mE(u){function f(p){return u.map(function(v){var A=D0(v),O=Lf(A),I=Mf(p,O);return I})}return function(p,v){var A=f(p.doc),O=f(v.doc),I=Jt(A,O);return I!==0?I:QS(p.doc._id,v.doc._id)}}function vE(u,f,p){if(u=u.filter(function(I){return ia(I.doc,f.selector,p)}),f.sort){var v=mE(f.sort);u=u.sort(v),typeof f.sort[0]!="string"&&XS(f.sort[0])==="desc"&&(u=u.reverse())}if("limit"in f||"skip"in f){var A=f.skip||0,O=("limit"in f?f.limit:u.length)+A;u=u.slice(A,O)}return u}function ia(u,f,p){return p.every(function(v){var A=f[v],O=Lf(v),I=Mf(u,O);return P0(v)?yE(v,A,u):ou(A,u,O,I)})}function ou(u,f,p,v){return u?typeof u=="object"?Object.keys(u).every(function(A){var O=u[A];if(A.indexOf("$")===0)return B0(A,f,O,p,v);var I=Lf(A);if(v===void 0&&typeof O!="object"&&I.length>0)return!1;var F=Mf(v,I);return typeof O=="object"?ou(O,f,p,F):B0("$eq",f,O,I,F)}):u===v:!0}function yE(u,f,p){return u==="$or"?f.some(function(v){return ia(p,v,Object.keys(v))}):u==="$not"?!ia(p,f,Object.keys(f)):!f.find(function(v){return ia(p,v,Object.keys(v))})}function B0(u,f,p,v,A){if(!z0[u])throw new Error('unknown operator "'+u+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return z0[u](f,p,v,A)}function ws(u){return typeof u<"u"&&u!==null}function vo(u){return typeof u<"u"}function wE(u,f){if(typeof u!="number"||parseInt(u,10)!==u)return!1;var p=f[0],v=f[1];return u%p===v}function j0(u,f){return f.some(function(p){return u instanceof Array?u.some(function(v){return Jt(p,v)===0}):Jt(p,u)===0})}function _E(u,f){return f.every(function(p){return u.some(function(v){return Jt(p,v)===0})})}function xE(u,f){return u.length===f}function SE(u,f){var p=new RegExp(f);return p.test(u)}function EE(u,f){switch(f){case"null":return u===null;case"boolean":return typeof u=="boolean";case"number":return typeof u=="number";case"string":return typeof u=="string";case"array":return u instanceof Array;case"object":return{}.toString.call(u)==="[object Object]"}}var z0={$elemMatch:function(u,f,p,v){return!Array.isArray(v)||v.length===0?!1:typeof v[0]=="object"&&v[0]!==null?v.some(function(A){return ia(A,f,Object.keys(f))}):v.some(function(A){return ou(f,u,p,A)})},$allMatch:function(u,f,p,v){return!Array.isArray(v)||v.length===0?!1:typeof v[0]=="object"&&v[0]!==null?v.every(function(A){return ia(A,f,Object.keys(f))}):v.every(function(A){return ou(f,u,p,A)})},$eq:function(u,f,p,v){return vo(v)&&Jt(v,f)===0},$gte:function(u,f,p,v){return vo(v)&&Jt(v,f)>=0},$gt:function(u,f,p,v){return vo(v)&&Jt(v,f)>0},$lte:function(u,f,p,v){return vo(v)&&Jt(v,f)<=0},$lt:function(u,f,p,v){return vo(v)&&Jt(v,f)<0},$exists:function(u,f,p,v){return f?vo(v):!vo(v)},$mod:function(u,f,p,v){return ws(v)&&wE(v,f)},$ne:function(u,f,p,v){return f.every(function(A){return Jt(v,A)!==0})},$in:function(u,f,p,v){return ws(v)&&j0(v,f)},$nin:function(u,f,p,v){return ws(v)&&!j0(v,f)},$size:function(u,f,p,v){return ws(v)&&Array.isArray(v)&&xE(v,f)},$all:function(u,f,p,v){return Array.isArray(v)&&_E(v,f)},$regex:function(u,f,p,v){return ws(v)&&typeof v=="string"&&f.every(function(A){return SE(v,A)})},$type:function(u,f,p,v){return EE(v,f)}};function bE(u,f){if(typeof f!="object")throw new Error("Selector error: expected a JSON object");f=oE(f);var p={doc:u},v=vE([p],{selector:f},Object.keys(f));return v&&v.length===1}function kE(u){return Fe(`"use strict";
return `+u+";",{})}function CE(u){var f=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+u+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Fe(f,{})}function AE(u,f){if(u.selector&&u.filter&&u.filter!=="_selector"){var p=typeof u.filter=="string"?u.filter:"function";return f(new Error('selector invalid for filter "'+p+'"'))}f()}function RE(u){u.view&&!u.filter&&(u.filter="_view"),u.selector&&!u.filter&&(u.filter="_selector"),u.filter&&typeof u.filter=="string"&&(u.filter==="_view"?u.view=pr(u.view):u.filter=pr(u.filter))}function NE(u,f){return f.filter&&typeof f.filter=="string"&&!f.doc_ids&&!kt(u.db)}function TE(u,f){var p=f.complete;if(f.filter==="_view"){if(!f.view||typeof f.view!="string"){var v=$e(vn,"`view` filter parameter not found or invalid.");return p(v)}var A=qn(f.view);u.db.get("_design/"+A[0],function(I,F){if(u.isCancelled)return p(null,{status:"cancelled"});if(I)return p(Rn(I));var q=F&&F.views&&F.views[A[1]]&&F.views[A[1]].map;if(!q)return p($e(tt,F.views?"missing json key: "+A[1]:"missing json key: views"));f.filter=CE(q),u.doChanges(f)})}else if(f.selector)f.filter=function(I){return bE(I,f.selector)},u.doChanges(f);else{var O=qn(f.filter);u.db.get("_design/"+O[0],function(I,F){if(u.isCancelled)return p(null,{status:"cancelled"});if(I)return p(Rn(I));var q=F&&F.filters&&F.filters[O[1]];if(!q)return p($e(tt,F&&F.filters?"missing json key: "+O[1]:"missing json key: filters"));f.filter=kE(q),u.doChanges(f)})}}function OE(u){u._changesFilterPlugin={validate:AE,normalize:RE,shouldFilter:NE,filter:TE}}nt.plugin(OE),nt.version=JS;function F0(u){return u.reduce(function(f,p){return f[p]=!0,f},{})}var PE=F0(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),DE=F0(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function U0(u){if(!/^\d+-/.test(u))return $e(dr);var f=u.indexOf("-"),p=u.substring(0,f),v=u.substring(f+1);return{prefix:parseInt(p,10),id:v}}function IE(u,f){for(var p=u.start-u.ids.length+1,v=u.ids,A=[v[0],f,[]],O=1,I=v.length;O<I;O++)A=[v[O],{status:"missing"},[A]];return[{pos:p,ids:A}]}function H0(u,f,p){p||(p={deterministic_revs:!0});var v,A,O,I={status:"available"};if(u._deleted&&(I.deleted=!0),f)if(u._id||(u._id=Tt()),A=Ni(u,p.deterministic_revs),u._rev){if(O=U0(u._rev),O.error)return O;u._rev_tree=[{pos:O.prefix,ids:[O.id,{status:"missing"},[[A,I,[]]]]}],v=O.prefix+1}else u._rev_tree=[{pos:1,ids:[A,I,[]]}],v=1;else if(u._revisions&&(u._rev_tree=IE(u._revisions,I),v=u._revisions.start,A=u._revisions.ids[0]),!u._rev_tree){if(O=U0(u._rev),O.error)return O;v=O.prefix,A=O.id,u._rev_tree=[{pos:v,ids:[A,I,[]]}]}Tr(u._id),u._rev=v+"-"+A;var F={metadata:{},data:{}};for(var q in u)if(Object.prototype.hasOwnProperty.call(u,q)){var K=q[0]==="_";if(K&&!PE[q]){var ee=$e(mn,q);throw ee.message=mn.message+": "+q,ee}else K&&!DE[q]?F.metadata[q.slice(1)]=u[q]:F.data[q]=u[q]}return F}function ME(u){try{return De(u)}catch{var f=$e(Ft,"Attachment is not a valid base64 string");return{error:f}}}function LE(u,f,p){var v=ME(u.data);if(v.error)return p(v.error);u.length=v.length,f==="blob"?u.data=dt(v,u.content_type):f==="base64"?u.data=wt(v):u.data=v,xn(v,function(A){u.digest="md5-"+A,p()})}function BE(u,f,p){xn(u.data,function(v){u.digest="md5-"+v,u.length=u.data.size||u.data.length||0,f==="binary"?Gr(u.data,function(A){u.data=A,p()}):f==="base64"?ai(u.data,function(A){u.data=A,p()}):p()})}function jE(u,f,p){if(u.stub)return p();typeof u.data=="string"?LE(u,f,p):BE(u,f,p)}function zE(u,f,p){if(!u.length)return p();var v=0,A;u.forEach(function(I){var F=I.data&&I.data._attachments?Object.keys(I.data._attachments):[],q=0;if(!F.length)return O();function K(L){A=L,q++,q===F.length&&O()}for(var ee in I.data._attachments)Object.prototype.hasOwnProperty.call(I.data._attachments,ee)&&jE(I.data._attachments[ee],f,K)});function O(){v++,u.length===v&&(A?p(A):p())}}function FE(u,f,p,v,A,O,I,F){if(OS(f.rev_tree,p.metadata.rev)&&!F)return v[A]=p,O();var q=f.winningRev||Mn(f),K="deleted"in f?f.deleted:si(f,q),ee="deleted"in p.metadata?p.metadata.deleted:si(p.metadata),L=/^1-/.test(p.metadata.rev);if(K&&!ee&&F&&L){var V=p.data;V._rev=q,V._id=p.metadata.id,p=H0(V,F)}var Z=b0(f.rev_tree,p.metadata.rev_tree[0],u),ne=F&&(K&&ee&&Z.conflicts!=="new_leaf"||!K&&Z.conflicts!=="new_leaf"||K&&!ee&&Z.conflicts==="new_branch");if(ne){var ce=$e(xt);return v[A]=ce,O()}var X=p.metadata.rev;p.metadata.rev_tree=Z.tree,p.stemmedRevs=Z.stemmedRevs||[],f.rev_map&&(p.metadata.rev_map=f.rev_map);var Q=Mn(p.metadata),re=si(p.metadata,Q),te=K===re?0:K<re?-1:1,pe;X===Q?pe=re:pe=si(p.metadata,X),I(p,Q,re,pe,!0,te,A,O)}function UE(u){return u.metadata.rev_tree[0].ids[1].status==="missing"}function HE(u,f,p,v,A,O,I,F,q){u=u||1e3;function K(ce,X,Q){var re=Mn(ce.metadata),te=si(ce.metadata,re);if("was_delete"in F&&te)return O[X]=$e(tt,"deleted"),Q();var pe=ee&&UE(ce);if(pe){var he=$e(xt);return O[X]=he,Q()}var Se=te?0:1;I(ce,re,te,te,!1,Se,X,Q)}var ee=F.new_edits,L=new w,V=0,Z=f.length;function ne(){++V===Z&&q&&q()}f.forEach(function(ce,X){if(ce._id&&go(ce._id)){var Q=ce._deleted?"_removeLocal":"_putLocal";p[Q](ce,{ctx:A},function(te,pe){O[X]=te||pe,ne()});return}var re=ce.metadata.id;L.has(re)?(Z--,L.get(re).push([ce,X])):L.set(re,[[ce,X]])}),L.forEach(function(ce,X){var Q=0;function re(){++Q<ce.length?te():ne()}function te(){var pe=ce[Q],he=pe[0],Se=pe[1];if(v.has(X))FE(u,v.get(X),he,O,Se,re,I,ee);else{var Ee=b0([],he.metadata.rev_tree[0],u);he.metadata.rev_tree=Ee.tree,he.stemmedRevs=Ee.stemmedRevs||[],K(he,Se,re)}}te()})}var qE=5,tn="document-store",Sn="by-sequence",vr="attach-store",yo="attach-seq-store",Ln="meta-store",Yr="local-store",Uf="detect-blob-support";function $E(u){try{return JSON.parse(u)}catch{return h.parse(u)}}function WE(u){try{return JSON.stringify(u)}catch{return h.stringify(u)}}function Jr(u){return function(f){var p="unknown_error";f.target&&f.target.error&&(p=f.target.error.name||f.target.error.message),u($e(fr,p,f.type))}}function Hf(u,f,p){return{data:WE(u),winningRev:f,deletedOrLocal:p?"1":"0",seq:u.seq,id:u.id}}function wo(u){if(!u)return null;var f=$E(u.data);return f.winningRev=u.winningRev,f.deleted=u.deletedOrLocal==="1",f.seq=u.seq,f}function au(u){if(!u)return u;var f=u._doc_id_rev.lastIndexOf(":");return u._id=u._doc_id_rev.substring(0,f-1),u._rev=u._doc_id_rev.substring(f+1),delete u._doc_id_rev,u}function q0(u,f,p,v){p?v(u?typeof u!="string"?u:At(u,f):Kt([""],{type:f})):u?typeof u!="string"?gr(u,function(A){v(wt(A))}):v(u):v("")}function $0(u,f,p,v){var A=Object.keys(u._attachments||{});if(!A.length)return v&&v();var O=0;function I(){++O===A.length&&v&&v()}function F(q,K){var ee=q._attachments[K],L=ee.digest,V=p.objectStore(vr).get(L);V.onsuccess=function(Z){ee.body=Z.target.result.body,I()}}A.forEach(function(q){f.attachments&&f.include_docs?F(u,q):(u._attachments[q].stub=!0,I())})}function qf(u,f){return Promise.all(u.map(function(p){if(p.doc&&p.doc._attachments){var v=Object.keys(p.doc._attachments);return Promise.all(v.map(function(A){var O=p.doc._attachments[A];if("body"in O){var I=O.body,F=O.content_type;return new Promise(function(q){q0(I,F,f,function(K){p.doc._attachments[A]=Ve(M(O,["digest","content_type"]),{data:K}),q()})})}}))}}))}function W0(u,f,p){var v=[],A=p.objectStore(Sn),O=p.objectStore(vr),I=p.objectStore(yo),F=u.length;function q(){F--,F||K()}function K(){v.length&&v.forEach(function(ee){var L=I.index("digestSeq").count(IDBKeyRange.bound(ee+"::",ee+"::",!1,!1));L.onsuccess=function(V){var Z=V.target.result;Z||O.delete(ee)}})}u.forEach(function(ee){var L=A.index("_doc_id_rev"),V=f+"::"+ee;L.getKey(V).onsuccess=function(Z){var ne=Z.target.result;if(typeof ne!="number")return q();A.delete(ne);var ce=I.index("seq").openCursor(IDBKeyRange.only(ne));ce.onsuccess=function(X){var Q=X.target.result;if(Q){var re=Q.value.digestSeq.split("::")[0];v.push(re),I.delete(Q.primaryKey),Q.continue()}else q()}}})}function Dr(u,f,p){try{return{txn:u.transaction(f,p)}}catch(v){return{error:v}}}var _s=new me;function VE(u,f,p,v,A,O){for(var I=f.docs,F,q,K,ee,L,V,Z,ne,ce=0,X=I.length;ce<X;ce++){var Q=I[ce];Q._id&&go(Q._id)||(Q=I[ce]=H0(Q,p.new_edits,u),Q.error&&!Z&&(Z=Q))}if(Z)return O(Z);var re=!1,te=0,pe=new Array(I.length),he=new w,Se=!1,Ee=v._meta.blobSupport?"blob":"base64";zE(I,Ee,function(fe){if(fe)return O(fe);ke()});function ke(){var fe=[tn,Sn,vr,Yr,yo,Ln],xe=Dr(A,fe,"readwrite");if(xe.error)return O(xe.error);F=xe.txn,F.onabort=Jr(O),F.ontimeout=Jr(O),F.oncomplete=Xe,q=F.objectStore(tn),K=F.objectStore(Sn),ee=F.objectStore(vr),L=F.objectStore(yo),V=F.objectStore(Ln),V.get(Ln).onsuccess=function(Ie){ne=Ie.target.result,je()},Ze(function(Ie){if(Ie)return Se=!0,O(Ie);rt()})}function we(){re=!0,je()}function Be(){HE(u.revs_limit,I,v,he,F,pe,et,p,we)}function je(){!ne||!re||(ne.docCount+=te,V.put(ne))}function rt(){if(!I.length)return;var fe=0;function xe(){++fe===I.length&&Be()}function Ie(Ce){var ze=wo(Ce.target.result);ze&&he.set(ze.id,ze),xe()}for(var Je=0,Ae=I.length;Je<Ae;Je++){var ue=I[Je];if(ue._id&&go(ue._id)){xe();continue}var de=q.get(ue.metadata.id);de.onsuccess=Ie}}function Xe(){Se||(_s.notify(v._meta.name),O(null,pe))}function We(fe,xe){var Ie=ee.get(fe);Ie.onsuccess=function(Je){if(Je.target.result)xe();else{var Ae=$e(hr,"unknown stub attachment with digest "+fe);Ae.status=412,xe(Ae)}}}function Ze(fe){var xe=[];if(I.forEach(function(ue){ue.data&&ue.data._attachments&&Object.keys(ue.data._attachments).forEach(function(de){var Ce=ue.data._attachments[de];Ce.stub&&xe.push(Ce.digest)})}),!xe.length)return fe();var Ie=0,Je;function Ae(){++Ie===xe.length&&fe(Je)}xe.forEach(function(ue){We(ue,function(de){de&&!Je&&(Je=de),Ae()})})}function et(fe,xe,Ie,Je,Ae,ue,de,Ce){fe.metadata.winningRev=xe,fe.metadata.deleted=Ie;var ze=fe.data;ze._id=fe.metadata.id,ze._rev=fe.metadata.rev,Je&&(ze._deleted=!0);var Ye=ze._attachments&&Object.keys(ze._attachments).length;if(Ye)return Y(fe,xe,Ie,Ae,de,Ce);te+=ue,je(),ot(fe,xe,Ie,Ae,de,Ce)}function ot(fe,xe,Ie,Je,Ae,ue){var de=fe.data,Ce=fe.metadata;de._doc_id_rev=Ce.id+"::"+Ce.rev,delete de._id,delete de._rev;function ze(nn){var $n=fe.stemmedRevs||[];Je&&v.auto_compaction&&($n=$n.concat(Nf(fe.metadata))),$n&&$n.length&&W0($n,fe.metadata.id,F),Ce.seq=nn.target.result;var Zr=Hf(Ce,xe,Ie),at=q.put(Zr);at.onsuccess=St}function Ye(nn){nn.preventDefault(),nn.stopPropagation();var $n=K.index("_doc_id_rev"),Zr=$n.getKey(de._doc_id_rev);Zr.onsuccess=function(at){var Et=K.put(de,at.target.result);Et.onsuccess=ze}}function St(){pe[Ae]={ok:!0,id:Ce.id,rev:Ce.rev},he.set(fe.metadata.id,fe.metadata),ie(fe,Ce.seq,ue)}var Mt=K.put(de);Mt.onsuccess=ze,Mt.onerror=Ye}function Y(fe,xe,Ie,Je,Ae,ue){var de=fe.data,Ce=0,ze=Object.keys(de._attachments);function Ye(){Ce===ze.length&&ot(fe,xe,Ie,Je,Ae,ue)}function St(){Ce++,Ye()}ze.forEach(function(Mt){var nn=fe.data._attachments[Mt];if(nn.stub)Ce++,Ye();else{var $n=nn.data;delete nn.data,nn.revpos=parseInt(xe,10);var Zr=nn.digest;ge(Zr,$n,St)}})}function ie(fe,xe,Ie){var Je=0,Ae=Object.keys(fe.data._attachments||{});if(!Ae.length)return Ie();function ue(){++Je===Ae.length&&Ie()}function de(ze){var Ye=fe.data._attachments[ze].digest,St=L.put({seq:xe,digestSeq:Ye+"::"+xe});St.onsuccess=ue,St.onerror=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),ue()}}for(var Ce=0;Ce<Ae.length;Ce++)de(Ae[Ce])}function ge(fe,xe,Ie){var Je=ee.count(fe);Je.onsuccess=function(Ae){var ue=Ae.target.result;if(ue)return Ie();var de={digest:fe,body:xe},Ce=ee.put(de);Ce.onsuccess=Ie}}}function V0(u,f,p,v,A){v===-1&&(v=1e3);var O=typeof u.getAll=="function"&&typeof u.getAllKeys=="function"&&v>1&&!p,I,F,q;function K(Z){F=Z.target.result,I&&A(I,F,q)}function ee(Z){I=Z.target.result,F&&A(I,F,q)}function L(){if(!I.length)return A();var Z=I[I.length-1],ne;if(f&&f.upper)try{ne=IDBKeyRange.bound(Z,f.upper,!0,f.upperOpen)}catch(ce){if(ce.name==="DataError"&&ce.code===0)return A()}else ne=IDBKeyRange.lowerBound(Z,!0);f=ne,I=null,F=null,u.getAll(f,v).onsuccess=K,u.getAllKeys(f,v).onsuccess=ee}function V(Z){var ne=Z.target.result;if(!ne)return A();A([ne.key],[ne.value],ne)}O?(q={continue:L},u.getAll(f,v).onsuccess=K,u.getAllKeys(f,v).onsuccess=ee):p?u.openCursor(f,"prev").onsuccess=V:u.openCursor(f).onsuccess=V}function KE(u,f,p){if(typeof u.getAll=="function"){u.getAll(f).onsuccess=p;return}var v=[];function A(O){var I=O.target.result;I?(v.push(I.value),I.continue()):p({target:{result:v}})}u.openCursor(f).onsuccess=A}function GE(u,f,p){var v=new Array(u.length),A=0;u.forEach(function(O,I){f.get(O).onsuccess=function(F){F.target.result?v[I]=F.target.result:v[I]={key:O,error:"not_found"},A++,A===u.length&&p(u,v,{})}})}function YE(u,f,p,v,A){try{if(u&&f)return A?IDBKeyRange.bound(f,u,!p,!1):IDBKeyRange.bound(u,f,!1,!p);if(u)return A?IDBKeyRange.upperBound(u):IDBKeyRange.lowerBound(u);if(f)return A?IDBKeyRange.lowerBound(f,!p):IDBKeyRange.upperBound(f,!p);if(v)return IDBKeyRange.only(v)}catch(O){return{error:O}}return null}function JE(u,f,p){var v="startkey"in u?u.startkey:!1,A="endkey"in u?u.endkey:!1,O="key"in u?u.key:!1,I="keys"in u?u.keys:!1,F=u.skip||0,q=typeof u.limit=="number"?u.limit:-1,K=u.inclusive_end!==!1,ee,L;if(!I&&(ee=YE(v,A,K,O,u.descending),L=ee&&ee.error,L&&!(L.name==="DataError"&&L.code===0)))return p($e(fr,L.name,L.message));var V=[tn,Sn,Ln];u.attachments&&V.push(vr);var Z=Dr(f,V,"readonly");if(Z.error)return p(Z.error);var ne=Z.txn;ne.oncomplete=Xe,ne.onabort=Jr(p);var ce=ne.objectStore(tn),X=ne.objectStore(Sn),Q=ne.objectStore(Ln),re=X.index("_doc_id_rev"),te=[],pe,he;Q.get(Ln).onsuccess=function(We){pe=We.target.result.docCount},u.update_seq&&Se(X,function(We){We.target.result&&We.target.result.length>0&&(he=We.target.result[0])});function Se(We,Ze){function et(ot){var Y=ot.target.result,ie=void 0;return Y&&Y.key&&(ie=Y.key),Ze({target:{result:[ie]}})}We.openCursor(null,"prev").onsuccess=et}function Ee(We,Ze,et){var ot=We.id+"::"+et;re.get(ot).onsuccess=function(ie){if(Ze.doc=au(ie.target.result)||{},u.conflicts){var ge=vs(We);ge.length&&(Ze.doc._conflicts=ge)}$0(Ze.doc,u,ne)}}function ke(We,Ze){var et={id:Ze.id,key:Ze.id,value:{rev:We}},ot=Ze.deleted;ot?I&&(te.push(et),et.value.deleted=!0,et.doc=null):F--<=0&&(te.push(et),u.include_docs&&Ee(Ze,et,We))}function we(We){for(var Ze=0,et=We.length;Ze<et&&te.length!==q;Ze++){var ot=We[Ze];if(ot.error&&I){te.push(ot);continue}var Y=wo(ot),ie=Y.winningRev;ke(ie,Y)}}function Be(We,Ze,et){et&&(we(Ze),te.length<q&&et.continue())}function je(We){var Ze=We.target.result;u.descending&&(Ze=Ze.reverse()),we(Ze)}function rt(){var We={total_rows:pe,offset:u.skip,rows:te};u.update_seq&&he!==void 0&&(We.update_seq=he),p(null,We)}function Xe(){u.attachments?qf(te,u.binary).then(rt):rt()}if(!(L||q===0)){if(I)return GE(u.keys,ce,Be);if(q===-1)return KE(ce,ee,je);V0(ce,ee,u.descending,q+F,Be)}}function QE(u){return new Promise(function(f){var p=Kt([""]),v=u.objectStore(Uf).put(p,"key");v.onsuccess=function(){var A=navigator.userAgent.match(/Chrome\/(\d+)/),O=navigator.userAgent.match(/Edge\//);f(O||!A||parseInt(A[1],10)>=43)},v.onerror=u.onabort=function(A){A.preventDefault(),A.stopPropagation(),f(!1)}}).catch(function(){return!1})}function ZE(u,f){var p=u.objectStore(tn).index("deletedOrLocal");p.count(IDBKeyRange.only("0")).onsuccess=function(v){f(v.target.result)}}var $f=!1,Wf=[];function XE(u,f,p,v){try{u(f,p)}catch(A){v.emit("error",A)}}function K0(){$f||!Wf.length||($f=!0,Wf.shift()())}function eb(u,f,p){Wf.push(function(){u(function(O,I){XE(f,O,I,p),$f=!1,s(function(){K0()})})}),K0()}function tb(u,f,p,v){if(u=D(u),u.continuous){var A=p+":"+Tt();return _s.addListener(p,A,f,u),_s.notify(p),{cancel:function(){_s.removeListener(p,A)}}}var O=u.doc_ids&&new x(u.doc_ids);u.since=u.since||0;var I=u.since,F="limit"in u?u.limit:-1;F===0&&(F=1);var q=[],K=0,ee=Un(u),L=new w,V,Z,ne,ce;function X(ke,we,Be){if(!Be||!ke.length)return;var je=new Array(ke.length),rt=new Array(ke.length);function Xe(et,ot){var Y=u.processChange(ot,et,u);I=Y.seq=et.seq;var ie=ee(Y);return typeof ie=="object"?Promise.reject(ie):ie?(K++,u.return_docs&&q.push(Y),u.attachments&&u.include_docs?new Promise(function(ge){$0(ot,u,V,function(){qf([Y],u.binary).then(function(){ge(Y)})})}):Promise.resolve(Y)):Promise.resolve()}function We(){for(var et=[],ot=0,Y=je.length;ot<Y&&K!==F;ot++){var ie=je[ot];if(ie){var ge=rt[ot];et.push(Xe(ge,ie))}}Promise.all(et).then(function(fe){for(var xe=0,Ie=fe.length;xe<Ie;xe++)fe[xe]&&u.onChange(fe[xe])}).catch(u.complete),K!==F&&Be.continue()}var Ze=0;we.forEach(function(et,ot){var Y=au(et),ie=ke[ot];re(Y,ie,function(ge,fe){rt[ot]=ge,je[ot]=fe,++Ze===ke.length&&We()})})}function Q(ke,we,Be,je){if(Be.seq!==we)return je();if(Be.winningRev===ke._rev)return je(Be,ke);var rt=ke._id+"::"+Be.winningRev,Xe=ce.get(rt);Xe.onsuccess=function(We){je(Be,au(We.target.result))}}function re(ke,we,Be){if(O&&!O.has(ke._id))return Be();var je=L.get(ke._id);if(je)return Q(ke,we,je,Be);ne.get(ke._id).onsuccess=function(rt){je=wo(rt.target.result),L.set(ke._id,je),Q(ke,we,je,Be)}}function te(){u.complete(null,{results:q,last_seq:I})}function pe(){!u.continuous&&u.attachments?qf(q).then(te):te()}var he=[tn,Sn];u.attachments&&he.push(vr);var Se=Dr(v,he,"readonly");if(Se.error)return u.complete(Se.error);V=Se.txn,V.onabort=Jr(u.complete),V.oncomplete=pe,Z=V.objectStore(Sn),ne=V.objectStore(tn),ce=Z.index("_doc_id_rev");var Ee=u.since&&!u.descending?IDBKeyRange.lowerBound(u.since,!0):null;V0(Z,Ee,u.descending,F,X)}var oa=new w,Vf,Kf=new w;function G0(u,f){var p=this;eb(function(v){nb(p,u,v)},f,p.constructor)}function nb(u,f,p){var v=f.name,A=null,O=null;u._meta=null;function I(X){return function(Q,re){Q&&Q instanceof Error&&!Q.reason&&O&&(Q.reason=O),X(Q,re)}}function F(X){var Q=X.createObjectStore(tn,{keyPath:"id"});X.createObjectStore(Sn,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),X.createObjectStore(vr,{keyPath:"digest"}),X.createObjectStore(Ln,{keyPath:"id",autoIncrement:!1}),X.createObjectStore(Uf),Q.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),X.createObjectStore(Yr,{keyPath:"_id"});var re=X.createObjectStore(yo,{autoIncrement:!0});re.createIndex("seq","seq"),re.createIndex("digestSeq","digestSeq",{unique:!0})}function q(X,Q){var re=X.objectStore(tn);re.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),re.openCursor().onsuccess=function(te){var pe=te.target.result;if(pe){var he=pe.value,Se=si(he);he.deletedOrLocal=Se?"1":"0",re.put(he),pe.continue()}else Q()}}function K(X){X.createObjectStore(Yr,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function ee(X,Q){var re=X.objectStore(Yr),te=X.objectStore(tn),pe=X.objectStore(Sn),he=te.openCursor();he.onsuccess=function(Se){var Ee=Se.target.result;if(Ee){var ke=Ee.value,we=ke.id,Be=go(we),je=Mn(ke);if(Be){var rt=we+"::"+je,Xe=we+"::",We=we+"::~",Ze=pe.index("_doc_id_rev"),et=IDBKeyRange.bound(Xe,We,!1,!1),ot=Ze.openCursor(et);ot.onsuccess=function(Y){if(ot=Y.target.result,!ot)te.delete(Ee.primaryKey),Ee.continue();else{var ie=ot.value;ie._doc_id_rev===rt&&re.put(ie),pe.delete(ot.primaryKey),ot.continue()}}}else Ee.continue()}else Q&&Q()}}function L(X){var Q=X.createObjectStore(yo,{autoIncrement:!0});Q.createIndex("seq","seq"),Q.createIndex("digestSeq","digestSeq",{unique:!0})}function V(X,Q){var re=X.objectStore(Sn),te=X.objectStore(vr),pe=X.objectStore(yo),he=te.count();he.onsuccess=function(Se){var Ee=Se.target.result;if(!Ee)return Q();re.openCursor().onsuccess=function(ke){var we=ke.target.result;if(!we)return Q();for(var Be=we.value,je=we.primaryKey,rt=Object.keys(Be._attachments||{}),Xe={},We=0;We<rt.length;We++){var Ze=Be._attachments[rt[We]];Xe[Ze.digest]=!0}var et=Object.keys(Xe);for(We=0;We<et.length;We++){var ot=et[We];pe.put({seq:je,digestSeq:ot+"::"+je})}we.continue()}}}function Z(X){function Q(he){return he.data?wo(he):(he.deleted=he.deletedOrLocal==="1",he)}var re=X.objectStore(Sn),te=X.objectStore(tn),pe=te.openCursor();pe.onsuccess=function(he){var Se=he.target.result;if(!Se)return;var Ee=Q(Se.value);Ee.winningRev=Ee.winningRev||Mn(Ee);function ke(){var Be=Ee.id+"::",je=Ee.id+"::",rt=re.index("_doc_id_rev").openCursor(IDBKeyRange.bound(Be,je)),Xe=0;rt.onsuccess=function(We){var Ze=We.target.result;if(!Ze)return Ee.seq=Xe,we();var et=Ze.primaryKey;et>Xe&&(Xe=et),Ze.continue()}}function we(){var Be=Hf(Ee,Ee.winningRev,Ee.deleted),je=te.put(Be);je.onsuccess=function(){Se.continue()}}if(Ee.seq)return we();ke()}}u._remote=!1,u.type=function(){return"idb"},u._id=se(function(X){X(null,u._meta.instanceId)}),u._bulkDocs=function(Q,re,te){VE(f,Q,re,u,A,I(te))},u._get=function(Q,re,te){var pe,he,Se,Ee=re.ctx;if(!Ee){var ke=Dr(A,[tn,Sn,vr],"readonly");if(ke.error)return te(ke.error);Ee=ke.txn}function we(){te(Se,{doc:pe,metadata:he,ctx:Ee})}Ee.objectStore(tn).get(Q).onsuccess=function(Be){if(he=wo(Be.target.result),!he)return Se=$e(tt,"missing"),we();var je;if(re.rev)je=re.latest?DS(re.rev,he):re.rev;else{je=he.winningRev;var rt=si(he);if(rt)return Se=$e(tt,"deleted"),we()}var Xe=Ee.objectStore(Sn),We=he.id+"::"+je;Xe.index("_doc_id_rev").get(We).onsuccess=function(Ze){if(pe=Ze.target.result,pe&&(pe=au(pe)),!pe)return Se=$e(tt,"missing"),we();we()}}},u._getAttachment=function(X,Q,re,te,pe){var he;if(te.ctx)he=te.ctx;else{var Se=Dr(A,[tn,Sn,vr],"readonly");if(Se.error)return pe(Se.error);he=Se.txn}var Ee=re.digest,ke=re.content_type;he.objectStore(vr).get(Ee).onsuccess=function(we){var Be=we.target.result.body;q0(Be,ke,te.binary,function(je){pe(null,je)})}},u._info=function(Q){var re,te,pe=Dr(A,[Ln,Sn],"readonly");if(pe.error)return Q(pe.error);var he=pe.txn;he.objectStore(Ln).get(Ln).onsuccess=function(Se){te=Se.target.result.docCount},he.objectStore(Sn).openCursor(null,"prev").onsuccess=function(Se){var Ee=Se.target.result;re=Ee?Ee.key:0},he.oncomplete=function(){Q(null,{doc_count:te,update_seq:re,idb_attachment_format:u._meta.blobSupport?"binary":"base64"})}},u._allDocs=function(Q,re){JE(Q,A,I(re))},u._changes=function(Q){return tb(Q,u,v,A)},u._close=function(X){A.close(),oa.delete(v),X()},u._getRevisionTree=function(X,Q){var re=Dr(A,[tn],"readonly");if(re.error)return Q(re.error);var te=re.txn,pe=te.objectStore(tn).get(X);pe.onsuccess=function(he){var Se=wo(he.target.result);Se?Q(null,Se.rev_tree):Q($e(tt))}},u._doCompaction=function(X,Q,re){var te=[tn,Sn,vr,yo],pe=Dr(A,te,"readwrite");if(pe.error)return re(pe.error);var he=pe.txn,Se=he.objectStore(tn);Se.get(X).onsuccess=function(Ee){var ke=wo(Ee.target.result);mr(ke.rev_tree,function(je,rt,Xe,We,Ze){var et=rt+"-"+Xe;Q.indexOf(et)!==-1&&(Ze.status="missing")}),W0(Q,X,he);var we=ke.winningRev,Be=ke.deleted;he.objectStore(tn).put(Hf(ke,we,Be))},he.onabort=Jr(re),he.oncomplete=function(){re()}},u._getLocal=function(X,Q){var re=Dr(A,[Yr],"readonly");if(re.error)return Q(re.error);var te=re.txn,pe=te.objectStore(Yr).get(X);pe.onerror=Jr(Q),pe.onsuccess=function(he){var Se=he.target.result;Se?(delete Se._doc_id_rev,Q(null,Se)):Q($e(tt))}},u._putLocal=function(X,Q,re){typeof Q=="function"&&(re=Q,Q={}),delete X._revisions;var te=X._rev,pe=X._id;te?X._rev="0-"+(parseInt(te.split("-")[1],10)+1):X._rev="0-1";var he=Q.ctx,Se;if(!he){var Ee=Dr(A,[Yr],"readwrite");if(Ee.error)return re(Ee.error);he=Ee.txn,he.onerror=Jr(re),he.oncomplete=function(){Se&&re(null,Se)}}var ke=he.objectStore(Yr),we;te?(we=ke.get(pe),we.onsuccess=function(Be){var je=Be.target.result;if(!je||je._rev!==te)re($e(xt));else{var rt=ke.put(X);rt.onsuccess=function(){Se={ok:!0,id:X._id,rev:X._rev},Q.ctx&&re(null,Se)}}}):(we=ke.add(X),we.onerror=function(Be){re($e(xt)),Be.preventDefault(),Be.stopPropagation()},we.onsuccess=function(){Se={ok:!0,id:X._id,rev:X._rev},Q.ctx&&re(null,Se)})},u._removeLocal=function(X,Q,re){typeof Q=="function"&&(re=Q,Q={});var te=Q.ctx;if(!te){var pe=Dr(A,[Yr],"readwrite");if(pe.error)return re(pe.error);te=pe.txn,te.oncomplete=function(){he&&re(null,he)}}var he,Se=X._id,Ee=te.objectStore(Yr),ke=Ee.get(Se);ke.onerror=Jr(re),ke.onsuccess=function(we){var Be=we.target.result;!Be||Be._rev!==X._rev?re($e(tt)):(Ee.delete(Se),he={ok:!0,id:Se,rev:"0-0"},Q.ctx&&re(null,he))}},u._destroy=function(X,Q){_s.removeAllListeners(v);var re=Kf.get(v);re&&re.result&&(re.result.close(),oa.delete(v));var te=indexedDB.deleteDatabase(v);te.onsuccess=function(){Kf.delete(v),W()&&v in localStorage&&delete localStorage[v],Q(null,{ok:!0})},te.onerror=Jr(Q)};var ne=oa.get(v);if(ne)return A=ne.idb,u._meta=ne.global,s(function(){p(null,u)});var ce=indexedDB.open(v,qE);Kf.set(v,ce),ce.onupgradeneeded=function(X){var Q=X.target.result;if(X.oldVersion<1)return F(Q);var re=X.currentTarget.transaction;X.oldVersion<3&&K(Q),X.oldVersion<4&&L(Q);var te=[q,ee,V,Z],pe=X.oldVersion;function he(){var Se=te[pe-1];pe++,Se&&Se(re,he)}he()},ce.onsuccess=function(X){A=X.target.result,A.onversionchange=function(){A.close(),oa.delete(v)},A.onabort=function(we){ye("error","Database has a globalThis failure",we.target.error),O=we.target.error,A.close(),oa.delete(v)};var Q=A.transaction([Ln,Uf,tn],"readwrite"),re=!1,te,pe,he,Se;function Ee(){typeof he>"u"||!re||(u._meta={name:v,instanceId:Se,blobSupport:he},oa.set(v,{idb:A,globalThis:u._meta}),p(null,u))}function ke(){if(!(typeof pe>"u"||typeof te>"u")){var we=v+"_id";we in te?Se=te[we]:te[we]=Se=Tt(),te.docCount=pe,Q.objectStore(Ln).put(te)}}Q.objectStore(Ln).get(Ln).onsuccess=function(we){te=we.target.result||{id:Ln},ke()},ZE(Q,function(we){pe=we,ke()}),Vf||(Vf=QE(Q)),Vf.then(function(we){he=we,Ee()}),Q.oncomplete=function(){re=!0,Ee()},Q.onabort=Jr(p)},ce.onerror=function(X){var Q=X.target.error&&X.target.error.message;Q?Q.indexOf("stored database is a higher version")!==-1&&(Q=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):Q="Failed to open indexedDB, are you in private browsing mode?",ye("error",Q),p($e(fr,Q))}}G0.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function rb(u){u.adapter("idb",G0,!0)}function ib(u,f){return new Promise(function(p,v){var A=0,O=0,I=0,F=u.length,q;function K(){A++,u[O++]().then(L,V)}function ee(){++I===F?q?v(q):p():Z()}function L(){A--,ee()}function V(ne){A--,q=q||ne,ee()}function Z(){for(;A<f&&O<F;)K()}Z()})}const ob=25,ab=50,su=5e3,sb=1e4;let Gf={};function Yf(u){let f=u.doc||u.ok,p=f&&f._attachments;p&&Object.keys(p).forEach(function(v){let A=p[v];A.data=At(A.data,A.content_type)})}function _o(u){return/^_design/.test(u)?"_design/"+encodeURIComponent(u.slice(8)):/^_local/.test(u)?"_local/"+encodeURIComponent(u.slice(7)):encodeURIComponent(u)}function Y0(u){return!u._attachments||!Object.keys(u._attachments)?Promise.resolve():Promise.all(Object.keys(u._attachments).map(function(f){let p=u._attachments[f];if(p.data&&typeof p.data!="string")return new Promise(function(v){ai(p.data,v)}).then(function(v){p.data=v})}))}function lb(u){if(!u.prefix)return!1;let f=Ke(u.prefix).protocol;return f==="http"||f==="https"}function ub(u,f){if(lb(f)){let A=f.name.substr(f.prefix.length);u=f.prefix.replace(/\/?$/,"/")+encodeURIComponent(A)}let p=Ke(u);(p.user||p.password)&&(p.auth={username:p.user,password:p.password});let v=p.path.replace(/(^\/|\/$)/g,"").split("/");return p.db=v.pop(),p.db.indexOf("%")===-1&&(p.db=encodeURIComponent(p.db)),p.path=v.join("/"),p}function un(u,f){return lu(u,u.db+"/"+f)}function lu(u,f){let p=u.path?"/":"";return u.protocol+"://"+u.host+(u.port?":"+u.port:"")+"/"+u.path+p+f}function uu(u){return"?"+Object.keys(u).map(function(f){return f+"="+encodeURIComponent(u[f])}).join("&")}function cb(u){let f=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",p=f.indexOf("msie")!==-1,v=f.indexOf("trident")!==-1,A=f.indexOf("edge")!==-1,O=!("method"in u)||u.method==="GET";return(p||v||A)&&O}function Jf(u,f){let p=this,v=ub(u.name,u),A=un(v,"");u=D(u);const O=async function(L,V){if(V=V||{},V.headers=V.headers||new ra,V.credentials="include",u.auth||v.auth){let ce=u.auth||v.auth,X=ce.username+":"+ce.password,Q=wt(unescape(encodeURIComponent(X)));V.headers.set("Authorization","Basic "+Q)}let Z=u.headers||{};return Object.keys(Z).forEach(function(ce){V.headers.append(ce,Z[ce])}),cb(V)&&(L+=(L.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),await(u.fetch||T0)(L,V)};function I(L,V){return z(L,function(...Z){K().then(function(){return V.apply(this,Z)}).catch(function(ne){Z.pop()(ne)})}).bind(p)}async function F(L,V){let Z={};V=V||{},V.headers=V.headers||new ra,V.headers.get("Content-Type")||V.headers.set("Content-Type","application/json"),V.headers.get("Accept")||V.headers.set("Accept","application/json");const ne=await O(L,V);Z.ok=ne.ok,Z.status=ne.status;const ce=await ne.json();if(Z.data=ce,!Z.ok)throw Z.data.status=Z.status,Rn(Z.data);return Array.isArray(Z.data)&&(Z.data=Z.data.map(function(X){return X.error||X.missing?Rn(X):X})),Z}let q;async function K(){return u.skip_setup?Promise.resolve():q||(q=F(A).catch(function(L){return L&&L.status&&L.status===404?(Ue(404,"PouchDB is just detecting if the remote exists."),F(A,{method:"PUT"})):Promise.reject(L)}).catch(function(L){return L&&L.status&&L.status===412?!0:Promise.reject(L)}),q.catch(function(){q=null}),q)}s(function(){f(null,p)}),p._remote=!0,p.type=function(){return"http"},p.id=I("id",async function(L){let V;try{V=await(await O(lu(v,""))).json()}catch{V={}}let Z=V&&V.uuid?V.uuid+v.db:un(v,"");L(null,Z)}),p.compact=I("compact",async function(L,V){typeof L=="function"&&(V=L,L={}),L=D(L),await F(un(v,"_compact"),{method:"POST"});function Z(){p.info(function(ne,ce){ce&&!ce.compact_running?V(null,{ok:!0}):setTimeout(Z,L.interval||200)})}Z()}),p.bulkGet=z("bulkGet",function(L,V){let Z=this;async function ne(re){let te={};L.revs&&(te.revs=!0),L.attachments&&(te.attachments=!0),L.latest&&(te.latest=!0);try{const pe=await F(un(v,"_bulk_get"+uu(te)),{method:"POST",body:JSON.stringify({docs:L.docs})});L.attachments&&L.binary&&pe.data.results.forEach(function(he){he.docs.forEach(Yf)}),re(null,pe.data)}catch(pe){re(pe)}}function ce(){let re=ab,te=Math.ceil(L.docs.length/re),pe=0,he=new Array(te);function Se(Ee){return function(ke,we){he[Ee]=we.results,++pe===te&&V(null,{results:Hn(he)})}}for(let Ee=0;Ee<te;Ee++){let ke=M(L,["revs","attachments","binary","latest"]);ke.docs=L.docs.slice(Ee*re,Math.min(L.docs.length,(Ee+1)*re)),j(Z,ke,Se(Ee))}}let X=lu(v,""),Q=Gf[X];typeof Q!="boolean"?ne(function(re,te){re?(Gf[X]=!1,Ue(re.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),ce()):(Gf[X]=!0,V(null,te))}):Q?ne(V):ce()}),p._info=async function(L){try{await K();const Z=await(await O(un(v,""))).json();Z.host=un(v,""),L(null,Z)}catch(V){L(V)}},p.fetch=async function(L,V){await K();const Z=L.substring(0,1)==="/"?lu(v,L.substring(1)):un(v,L);return O(Z,V)},p.get=I("get",async function(L,V,Z){typeof V=="function"&&(Z=V,V={}),V=D(V);let ne={};V.revs&&(ne.revs=!0),V.revs_info&&(ne.revs_info=!0),V.latest&&(ne.latest=!0),V.open_revs&&(V.open_revs!=="all"&&(V.open_revs=JSON.stringify(V.open_revs)),ne.open_revs=V.open_revs),V.rev&&(ne.rev=V.rev),V.conflicts&&(ne.conflicts=V.conflicts),V.update_seq&&(ne.update_seq=V.update_seq),L=_o(L);function ce(re){let te=re._attachments,pe=te&&Object.keys(te);if(!te||!pe.length)return;async function he(Ee){const ke=te[Ee],we=_o(re._id)+"/"+ee(Ee)+"?rev="+re._rev,Be=await O(un(v,we));let je;"buffer"in Be?je=await Be.buffer():je=await Be.blob();let rt;if(V.binary){let Xe=Object.getOwnPropertyDescriptor(je.__proto__,"type");(!Xe||Xe.set)&&(je.type=ke.content_type),rt=je}else rt=await new Promise(function(Xe){ai(je,Xe)});delete ke.stub,delete ke.length,ke.data=rt}let Se=pe.map(function(Ee){return function(){return he(Ee)}});return ib(Se,5)}function X(re){return Array.isArray(re)?Promise.all(re.map(function(te){if(te.ok)return ce(te.ok)})):ce(re)}const Q=un(v,L+uu(ne));try{const re=await F(Q);V.attachments&&await X(re.data),Z(null,re.data)}catch(re){re.docId=L,Z(re)}}),p.remove=I("remove",async function(L,V,Z,ne){let ce;typeof V=="string"?(ce={_id:L,_rev:V},typeof Z=="function"&&(ne=Z,Z={})):(ce=L,typeof V=="function"?(ne=V,Z={}):(ne=Z,Z=V));const X=ce._rev||Z.rev,Q=un(v,_o(ce._id))+"?rev="+X;try{const re=await F(Q,{method:"DELETE"});ne(null,re.data)}catch(re){ne(re)}});function ee(L){return L.split("/").map(encodeURIComponent).join("/")}p.getAttachment=I("getAttachment",async function(L,V,Z,ne){typeof Z=="function"&&(ne=Z,Z={});const ce=Z.rev?"?rev="+Z.rev:"",X=un(v,_o(L))+"/"+ee(V)+ce;let Q;try{const te=await O(X,{method:"GET"});if(!te.ok)throw te;Q=te.headers.get("content-type");let pe;if(typeof o<"u"&&!o.browser&&typeof te.buffer=="function"?pe=await te.buffer():pe=await te.blob(),typeof o<"u"&&!o.browser){var re=Object.getOwnPropertyDescriptor(pe.__proto__,"type");(!re||re.set)&&(pe.type=Q)}ne(null,pe)}catch(te){ne(te)}}),p.removeAttachment=I("removeAttachment",async function(L,V,Z,ne){const ce=un(v,_o(L)+"/"+ee(V))+"?rev="+Z;try{const X=await F(ce,{method:"DELETE"});ne(null,X.data)}catch(X){ne(X)}}),p.putAttachment=I("putAttachment",async function(L,V,Z,ne,ce,X){typeof ce=="function"&&(X=ce,ce=ne,ne=Z,Z=null);const Q=_o(L)+"/"+ee(V);let re=un(v,Q);if(Z&&(re+="?rev="+Z),typeof ne=="string"){let te;try{te=De(ne)}catch{return X($e(Ft,"Attachment is not a valid base64 string"))}ne=te?dt(te,ce):""}try{const te=await F(re,{headers:new ra({"Content-Type":ce}),method:"PUT",body:ne});X(null,te.data)}catch(te){X(te)}}),p._bulkDocs=async function(L,V,Z){L.new_edits=V.new_edits;try{await K(),await Promise.all(L.docs.map(Y0));const ne=await F(un(v,"_bulk_docs"),{method:"POST",body:JSON.stringify(L)});Z(null,ne.data)}catch(ne){Z(ne)}},p._put=async function(L,V,Z){try{await K(),await Y0(L);const ne=await F(un(v,_o(L._id)),{method:"PUT",body:JSON.stringify(L)});Z(null,ne.data)}catch(ne){ne.docId=L&&L._id,Z(ne)}},p.allDocs=I("allDocs",async function(L,V){typeof L=="function"&&(V=L,L={}),L=D(L);let Z={},ne,ce="GET";L.conflicts&&(Z.conflicts=!0),L.update_seq&&(Z.update_seq=!0),L.descending&&(Z.descending=!0),L.include_docs&&(Z.include_docs=!0),L.attachments&&(Z.attachments=!0),L.key&&(Z.key=JSON.stringify(L.key)),L.start_key&&(L.startkey=L.start_key),L.startkey&&(Z.startkey=JSON.stringify(L.startkey)),L.end_key&&(L.endkey=L.end_key),L.endkey&&(Z.endkey=JSON.stringify(L.endkey)),typeof L.inclusive_end<"u"&&(Z.inclusive_end=!!L.inclusive_end),typeof L.limit<"u"&&(Z.limit=L.limit),typeof L.skip<"u"&&(Z.skip=L.skip);let X=uu(Z);typeof L.keys<"u"&&(ce="POST",ne={keys:L.keys});try{const Q=await F(un(v,"_all_docs"+X),{method:ce,body:JSON.stringify(ne)});L.include_docs&&L.attachments&&L.binary&&Q.data.rows.forEach(Yf),V(null,Q.data)}catch(Q){V(Q)}}),p._changes=function(L){let V="batch_size"in L?L.batch_size:ob;L=D(L),L.continuous&&!("heartbeat"in L)&&(L.heartbeat=sb);let Z="timeout"in L?L.timeout:30*1e3;"timeout"in L&&L.timeout&&Z-L.timeout<su&&(Z=L.timeout+su),"heartbeat"in L&&L.heartbeat&&Z-L.heartbeat<su&&(Z=L.heartbeat+su);let ne={};"timeout"in L&&L.timeout&&(ne.timeout=L.timeout);let ce=typeof L.limit<"u"?L.limit:!1,X=ce;if(L.style&&(ne.style=L.style),(L.include_docs||L.filter&&typeof L.filter=="function")&&(ne.include_docs=!0),L.attachments&&(ne.attachments=!0),L.continuous&&(ne.feed="longpoll"),L.seq_interval&&(ne.seq_interval=L.seq_interval),L.conflicts&&(ne.conflicts=!0),L.descending&&(ne.descending=!0),L.update_seq&&(ne.update_seq=!0),"heartbeat"in L&&L.heartbeat&&(ne.heartbeat=L.heartbeat),L.filter&&typeof L.filter=="string"&&(ne.filter=L.filter),L.view&&typeof L.view=="string"&&(ne.filter="_view",ne.view=L.view),L.query_params&&typeof L.query_params=="object")for(let ke in L.query_params)Object.prototype.hasOwnProperty.call(L.query_params,ke)&&(ne[ke]=L.query_params[ke]);let Q="GET",re;L.doc_ids?(ne.filter="_doc_ids",Q="POST",re={doc_ids:L.doc_ids}):L.selector&&(ne.filter="_selector",Q="POST",re={selector:L.selector});let te=new KS,pe;const he=async function(ke,we){if(L.aborted)return;ne.since=ke,typeof ne.since=="object"&&(ne.since=JSON.stringify(ne.since)),L.descending?ce&&(ne.limit=X):ne.limit=!ce||X>V?V:X;let Be=un(v,"_changes"+uu(ne)),je={signal:te.signal,method:Q,body:JSON.stringify(re)};if(pe=ke,!L.aborted)try{await K();const rt=await F(Be,je);we(null,rt.data)}catch(rt){we(rt)}};let Se={results:[]};const Ee=function(ke,we){if(L.aborted)return;let Be=0;if(we&&we.results){Be=we.results.length,Se.last_seq=we.last_seq;let rt=null,Xe=null;typeof we.pending=="number"&&(rt=we.pending),(typeof Se.last_seq=="string"||typeof Se.last_seq=="number")&&(Xe=Se.last_seq),L.query_params,we.results=we.results.filter(function(We){X--;let Ze=Un(L)(We);return Ze&&(L.include_docs&&L.attachments&&L.binary&&Yf(We),L.return_docs&&Se.results.push(We),L.onChange(We,rt,Xe)),Ze})}else if(ke){L.aborted=!0,L.complete(ke);return}we&&we.last_seq&&(pe=we.last_seq);let je=ce&&X<=0||we&&Be<V||L.descending;L.continuous&&!(ce&&X<=0)||!je?s(function(){he(pe,Ee)}):L.complete(null,Se)};return he(L.since||0,Ee),{cancel:function(){L.aborted=!0,te.abort()}}},p.revsDiff=I("revsDiff",async function(L,V,Z){typeof V=="function"&&(Z=V,V={});try{const ne=await F(un(v,"_revs_diff"),{method:"POST",body:JSON.stringify(L)});Z(null,ne.data)}catch(ne){Z(ne)}}),p._close=function(L){L()},p._destroy=async function(L,V){try{const Z=await F(un(v,""),{method:"DELETE"});V(null,Z)}catch(Z){Z.status===404?V(null,{ok:!0}):V(Z)}}}Jf.valid=function(){return!0};function fb(u){u.adapter("http",Jf,!1),u.adapter("https",Jf,!1)}class xo extends Error{constructor(f){super(),this.status=400,this.name="query_parse_error",this.message=f,this.error=!0;try{Error.captureStackTrace(this,xo)}catch{}}}class cu extends Error{constructor(f){super(),this.status=404,this.name="not_found",this.message=f,this.error=!0;try{Error.captureStackTrace(this,cu)}catch{}}}class fu extends Error{constructor(f){super(),this.status=500,this.name="invalid_value",this.message=f,this.error=!0;try{Error.captureStackTrace(this,fu)}catch{}}}function J0(u,f){return f&&u.then(function(p){s(function(){f(null,p)})},function(p){s(function(){f(p)})}),u}function db(u){return function(...f){var p=f.pop(),v=u.apply(this,f);return typeof p=="function"&&J0(v,p),v}}function hb(u,f){return u.then(function(p){return f().then(function(){return p})},function(p){return f().then(function(){throw p})})}function Qf(u,f){return function(){var p=arguments,v=this;return u.add(function(){return f.apply(v,p)})}}function Q0(u){var f=new x(u),p=new Array(f.size),v=-1;return f.forEach(function(A){p[++v]=A}),p}function Zf(u){var f=new Array(u.size),p=-1;return u.forEach(function(v,A){f[++p]=A}),f}function Z0(u){var f="builtin "+u+" function requires map values to be numbers or number arrays";return new fu(f)}function Xf(u){for(var f=0,p=0,v=u.length;p<v;p++){var A=u[p];if(typeof A!="number")if(Array.isArray(A)){f=typeof f=="number"?[f]:f;for(var O=0,I=A.length;O<I;O++){var F=A[O];if(typeof F!="number")throw Z0("_sum");typeof f[O]>"u"?f.push(F):f[O]+=F}}else throw Z0("_sum");else typeof f=="number"?f+=A:f[0]+=A}return f}var pb=ye.bind(null,"log"),gb=Array.isArray,mb=JSON.parse;function X0(u,f){return Fe("return ("+u.replace(/;\s*$/,"")+");",{emit:f,sum:Xf,log:pb,isArray:gb,toJSON:mb})}class ed{constructor(){this.promise=new Promise(function(f){f()})}add(f){return this.promise=this.promise.catch(function(){}).then(function(){return f()}),this.promise}finish(){return this.promise}}function em(u){if(!u)return"undefined";switch(typeof u){case"function":return u.toString();case"string":return u.toString();default:return JSON.stringify(u)}}function vb(u,f){return em(u)+em(f)+"undefined"}async function tm(u,f,p,v,A,O){const I=vb(p,v);let F;if(!A&&(F=u._cachedViews=u._cachedViews||{},F[I]))return F[I];const q=u.info().then(async function(K){const ee=K.db_name+"-mrview-"+(A?"temp":Xn(I));function L(X){X.views=X.views||{};let Q=f;Q.indexOf("/")===-1&&(Q=f+"/"+f);const re=X.views[Q]=X.views[Q]||{};if(!re[ee])return re[ee]=!0,X}await Ge(u,"_local/"+O,L);const Z=(await u.registerDependentDatabase(ee)).db;Z.auto_compaction=!0;const ne={name:ee,db:Z,sourceDB:u,adapter:u.adapter,mapFun:p,reduceFun:v};let ce;try{ce=await ne.db.get("_local/lastSeq")}catch(X){if(X.status!==404)throw X}return ne.seq=ce?ce.seq:0,F&&ne.db.once("destroyed",function(){delete F[I]}),ne});return F&&(F[I]=q),q}var nm={},rm=new ed,yb=50;function td(u){return u.indexOf("/")===-1?[u,u]:u.split("/")}function wb(u){return u.length===1&&/^1-/.test(u[0].rev)}function im(u,f,p){try{u.emit("error",f)}catch{ye("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),ye("error",f,p)}}function _b(u,f,p,v){function A(Y,ie,ge){try{ie(ge)}catch(fe){im(Y,fe,{fun:ie,doc:ge})}}function O(Y,ie,ge,fe,xe){try{return{output:ie(ge,fe,xe)}}catch(Ie){return im(Y,Ie,{fun:ie,keys:ge,values:fe,rereduce:xe}),{error:Ie}}}function I(Y,ie){const ge=Jt(Y.key,ie.key);return ge!==0?ge:Jt(Y.value,ie.value)}function F(Y,ie,ge){return ge=ge||0,typeof ie=="number"?Y.slice(ge,ie+ge):ge>0?Y.slice(ge):Y}function q(Y){const ie=Y.value;return ie&&typeof ie=="object"&&ie._id||Y.id}function K(Y){Y.rows.forEach(function(ie){const ge=ie.doc&&ie.doc._attachments;ge&&Object.keys(ge).forEach(function(fe){const xe=ge[fe];ge[fe].data=At(xe.data,xe.content_type)})})}function ee(Y){return function(ie){return Y.include_docs&&Y.attachments&&Y.binary&&K(ie),ie}}function L(Y,ie,ge,fe){let xe=ie[Y];typeof xe<"u"&&(fe&&(xe=encodeURIComponent(JSON.stringify(xe))),ge.push(Y+"="+xe))}function V(Y){if(typeof Y<"u"){const ie=Number(Y);return!isNaN(ie)&&ie===parseInt(Y,10)?ie:Y}}function Z(Y){return Y.group_level=V(Y.group_level),Y.limit=V(Y.limit),Y.skip=V(Y.skip),Y}function ne(Y){if(Y){if(typeof Y!="number")return new xo(`Invalid value for integer: "${Y}"`);if(Y<0)return new xo(`Invalid value for positive integer: "${Y}"`)}}function ce(Y,ie){const ge=Y.descending?"endkey":"startkey",fe=Y.descending?"startkey":"endkey";if(typeof Y[ge]<"u"&&typeof Y[fe]<"u"&&Jt(Y[ge],Y[fe])>0)throw new xo("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(ie.reduce&&Y.reduce!==!1){if(Y.include_docs)throw new xo("{include_docs:true} is invalid for reduce");if(Y.keys&&Y.keys.length>1&&!Y.group&&!Y.group_level)throw new xo("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(xe){const Ie=ne(Y[xe]);if(Ie)throw Ie})}async function X(Y,ie,ge){let fe=[],xe,Ie="GET",Je;if(L("reduce",ge,fe),L("include_docs",ge,fe),L("attachments",ge,fe),L("limit",ge,fe),L("descending",ge,fe),L("group",ge,fe),L("group_level",ge,fe),L("skip",ge,fe),L("stale",ge,fe),L("conflicts",ge,fe),L("startkey",ge,fe,!0),L("start_key",ge,fe,!0),L("endkey",ge,fe,!0),L("end_key",ge,fe,!0),L("inclusive_end",ge,fe),L("key",ge,fe,!0),L("update_seq",ge,fe),fe=fe.join("&"),fe=fe===""?"":"?"+fe,typeof ge.keys<"u"){const Ce=`keys=${encodeURIComponent(JSON.stringify(ge.keys))}`;Ce.length+fe.length+1<=2e3?fe+=(fe[0]==="?"?"&":"?")+Ce:(Ie="POST",typeof ie=="string"?xe={keys:ge.keys}:ie.keys=ge.keys)}if(typeof ie=="string"){const de=td(ie),Ce=await Y.fetch("_design/"+de[0]+"/_view/"+de[1]+fe,{headers:new ra({"Content-Type":"application/json"}),method:Ie,body:JSON.stringify(xe)});Je=Ce.ok;const ze=await Ce.json();if(!Je)throw ze.status=Ce.status,Rn(ze);return ze.rows.forEach(function(Ye){if(Ye.value&&Ye.value.error&&Ye.value.error==="builtin_reduce_error")throw new Error(Ye.reason)}),new Promise(function(Ye){Ye(ze)}).then(ee(ge))}xe=xe||{},Object.keys(ie).forEach(function(de){Array.isArray(ie[de])?xe[de]=ie[de]:xe[de]=ie[de].toString()});const Ae=await Y.fetch("_temp_view"+fe,{headers:new ra({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(xe)});Je=Ae.ok;const ue=await Ae.json();if(!Je)throw ue.status=Ae.status,Rn(ue);return new Promise(function(de){de(ue)}).then(ee(ge))}function Q(Y,ie,ge){return new Promise(function(fe,xe){Y._query(ie,ge,function(Ie,Je){if(Ie)return xe(Ie);fe(Je)})})}function re(Y){return new Promise(function(ie,ge){Y._viewCleanup(function(fe,xe){if(fe)return ge(fe);ie(xe)})})}function te(Y){return function(ie){if(ie.status===404)return Y;throw ie}}async function pe(Y,ie,ge){const fe="_local/doc_"+Y,xe={_id:fe,keys:[]},Ie=ge.get(Y),Je=Ie[0],Ae=Ie[1];function ue(){return wb(Ae)?Promise.resolve(xe):ie.db.get(fe).catch(te(xe))}function de(St){return St.keys.length?ie.db.allDocs({keys:St.keys,include_docs:!0}):Promise.resolve({rows:[]})}function Ce(St,Mt){const nn=[],$n=new x;for(let at=0,Et=Mt.rows.length;at<Et;at++){const rn=Mt.rows[at].doc;if(rn&&(nn.push(rn),$n.add(rn._id),rn._deleted=!Je.has(rn._id),!rn._deleted)){const Qt=Je.get(rn._id);"value"in Qt&&(rn.value=Qt.value)}}const Zr=Zf(Je);return Zr.forEach(function(at){if(!$n.has(at)){const Et={_id:at},Lt=Je.get(at);"value"in Lt&&(Et.value=Lt.value),nn.push(Et)}}),St.keys=Q0(Zr.concat(St.keys)),nn.push(St),nn}const ze=await ue(),Ye=await de(ze);return Ce(ze,Ye)}function he(Y){return Y.sourceDB.get("_local/purges").then(function(ie){const ge=ie.purgeSeq;return Y.db.get("_local/purgeSeq").then(function(fe){return fe._rev}).catch(function(fe){if(fe.status!==404)throw fe}).then(function(fe){return Y.db.put({_id:"_local/purgeSeq",_rev:fe,purgeSeq:ge})})}).catch(function(ie){if(ie.status!==404)throw ie})}function Se(Y,ie,ge){var fe="_local/lastSeq";return Y.db.get(fe).catch(te({_id:fe,seq:0})).then(function(xe){var Ie=Zf(ie);return Promise.all(Ie.map(function(Je){return pe(Je,Y,ie)})).then(function(Je){var Ae=Hn(Je);return xe.seq=ge,Ae.push(xe),Y.db.bulkDocs({docs:Ae})}).then(()=>he(Y))})}function Ee(Y){const ie=typeof Y=="string"?Y:Y.name;let ge=nm[ie];return ge||(ge=nm[ie]=new ed),ge}async function ke(Y,ie){return Qf(Ee(Y),function(){return we(Y,ie)})()}async function we(Y,ie){let ge,fe,xe;function Ie(at,Et){const Lt={id:fe._id,key:mo(at)};typeof Et<"u"&&Et!==null&&(Lt.value=mo(Et)),ge.push(Lt)}const Je=f(Y.mapFun,Ie);let Ae=Y.seq||0;function ue(){return Y.sourceDB.info().then(function(at){xe=Y.sourceDB.activeTasks.add({name:"view_indexing",total_items:at.update_seq-Ae})})}function de(at,Et){return function(){return Se(Y,at,Et)}}let Ce=0;const ze={view:Y.name,indexed_docs:Ce};Y.sourceDB.emit("indexing",ze);const Ye=new ed;async function St(){const at=await Y.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:Ae,limit:ie.changes_batch_size}),Et=await Mt();return nn(at,Et)}function Mt(){return Y.db.get("_local/purgeSeq").then(function(at){return at.purgeSeq}).catch(function(at){if(at&&at.status!==404)throw at;return-1}).then(function(at){return Y.sourceDB.get("_local/purges").then(function(Et){const Lt=Et.purges.filter(function(Qt,Ut){return Ut>at}).map(Qt=>Qt.docId),rn=Lt.filter(function(Qt,Ut){return Lt.indexOf(Qt)===Ut});return Promise.all(rn.map(function(Qt){return Y.sourceDB.get(Qt).then(function(Ut){return{docId:Qt,doc:Ut}}).catch(function(Ut){if(Ut.status!==404)throw Ut;return{docId:Qt}})}))}).catch(function(Et){if(Et&&Et.status!==404)throw Et;return[]})})}function nn(at,Et){var Lt=at.results;if(!Lt.length&&!Et.length)return;for(let Ut of Et)if(Lt.findIndex(function(xs){return xs.id===Ut.docId})<0){const xs={_id:Ut.docId,doc:{_id:Ut.docId,_deleted:1},changes:[]};Ut.doc&&(xs.doc=Ut.doc,xs.changes.push({rev:Ut.doc._rev})),Lt.push(xs)}var rn=$n(Lt);Ye.add(de(rn,Ae)),Ce=Ce+Lt.length;const Qt={view:Y.name,last_seq:at.last_seq,results_count:Lt.length,indexed_docs:Ce};if(Y.sourceDB.emit("indexing",Qt),Y.sourceDB.activeTasks.update(xe,{completed_items:Ce}),!(Lt.length<ie.changes_batch_size))return St()}function $n(at){const Et=new w;for(let Lt=0,rn=at.length;Lt<rn;Lt++){const Qt=at[Lt];if(Qt.doc._id[0]!=="_"){ge=[],fe=Qt.doc,fe._deleted||A(Y.sourceDB,Je,fe),ge.sort(I);const Ut=Zr(ge);Et.set(Qt.doc._id,[Ut,Qt.changes])}Ae=Qt.seq}return Et}function Zr(at){const Et=new w;let Lt;for(let rn=0,Qt=at.length;rn<Qt;rn++){const Ut=at[rn],ad=[Ut.key,Ut.id];rn>0&&Jt(Ut.key,Lt)===0&&ad.push(rn),Et.set(Pr(ad),Ut),Lt=Ut.key}return Et}try{await ue(),await St(),await Ye.finish(),Y.seq=Ae,Y.sourceDB.activeTasks.remove(xe)}catch(at){Y.sourceDB.activeTasks.remove(xe,at)}}function Be(Y,ie,ge){ge.group_level===0&&delete ge.group_level;const fe=ge.group||ge.group_level,xe=p(Y.reduceFun),Ie=[],Je=isNaN(ge.group_level)?Number.POSITIVE_INFINITY:ge.group_level;ie.forEach(function(Ae){const ue=Ie[Ie.length-1];let de=fe?Ae.key:null;if(fe&&Array.isArray(de)&&(de=de.slice(0,Je)),ue&&Jt(ue.groupKey,de)===0){ue.keys.push([Ae.key,Ae.id]),ue.values.push(Ae.value);return}Ie.push({keys:[[Ae.key,Ae.id]],values:[Ae.value],groupKey:de})}),ie=[];for(let Ae=0,ue=Ie.length;Ae<ue;Ae++){const de=Ie[Ae],Ce=O(Y.sourceDB,xe,de.keys,de.values,!1);if(Ce.error&&Ce.error instanceof fu)throw Ce.error;ie.push({value:Ce.error?null:Ce.output,key:de.groupKey})}return{rows:F(ie,ge.limit,ge.skip)}}function je(Y,ie){return Qf(Ee(Y),function(){return rt(Y,ie)})()}async function rt(Y,ie){let ge;const fe=Y.reduceFun&&ie.reduce!==!1,xe=ie.skip||0;typeof ie.keys<"u"&&!ie.keys.length&&(ie.limit=0,delete ie.keys);async function Ie(Ae){Ae.include_docs=!0;const ue=await Y.db.allDocs(Ae);return ge=ue.total_rows,ue.rows.map(function(de){if("value"in de.doc&&typeof de.doc.value=="object"&&de.doc.value!==null){const ze=Object.keys(de.doc.value).sort(),Ye=["id","key","value"];if(!(ze<Ye||ze>Ye))return de.doc.value}const Ce=fE(de.doc._id);return{key:Ce[0],id:Ce[1],value:"value"in de.doc?de.doc.value:null}})}async function Je(Ae){let ue;if(fe?ue=Be(Y,Ae,ie):typeof ie.keys>"u"?ue={total_rows:ge,offset:xe,rows:Ae}:ue={total_rows:ge,offset:xe,rows:F(Ae,ie.limit,ie.skip)},ie.update_seq&&(ue.update_seq=Y.seq),ie.include_docs){const Ce=Q0(Ae.map(q)),ze=await Y.sourceDB.allDocs({keys:Ce,include_docs:!0,conflicts:ie.conflicts,attachments:ie.attachments,binary:ie.binary});var de=new w;return ze.rows.forEach(function(Ye){de.set(Ye.id,Ye.doc)}),Ae.forEach(function(Ye){var St=q(Ye),Mt=de.get(St);Mt&&(Ye.doc=Mt)}),ue}else return ue}if(typeof ie.keys<"u"){const ue=ie.keys.map(function(ze){const Ye={startkey:Pr([ze]),endkey:Pr([ze,{}])};return ie.update_seq&&(Ye.update_seq=!0),Ie(Ye)}),de=await Promise.all(ue),Ce=Hn(de);return Je(Ce)}else{const Ae={descending:ie.descending};ie.update_seq&&(Ae.update_seq=!0);let ue,de;if("start_key"in ie&&(ue=ie.start_key),"startkey"in ie&&(ue=ie.startkey),"end_key"in ie&&(de=ie.end_key),"endkey"in ie&&(de=ie.endkey),typeof ue<"u"&&(Ae.startkey=ie.descending?Pr([ue,{}]):Pr([ue])),typeof de<"u"){let ze=ie.inclusive_end!==!1;ie.descending&&(ze=!ze),Ae.endkey=Pr(ze?[de,{}]:[de])}if(typeof ie.key<"u"){const ze=Pr([ie.key]),Ye=Pr([ie.key,{}]);Ae.descending?(Ae.endkey=ze,Ae.startkey=Ye):(Ae.startkey=ze,Ae.endkey=Ye)}fe||(typeof ie.limit=="number"&&(Ae.limit=ie.limit),Ae.skip=xe);const Ce=await Ie(Ae);return Je(Ce)}}async function Xe(Y){return(await Y.fetch("_view_cleanup",{headers:new ra({"Content-Type":"application/json"}),method:"POST"})).json()}async function We(Y){try{const ie=await Y.get("_local/"+u),ge=new w;Object.keys(ie.views).forEach(function(ue){const de=td(ue),Ce="_design/"+de[0],ze=de[1];let Ye=ge.get(Ce);Ye||(Ye=new x,ge.set(Ce,Ye)),Ye.add(ze)});const fe={keys:Zf(ge),include_docs:!0},xe=await Y.allDocs(fe),Ie={};xe.rows.forEach(function(ue){const de=ue.key.substring(8);ge.get(ue.key).forEach(function(Ce){let ze=de+"/"+Ce;ie.views[ze]||(ze=Ce);const Ye=Object.keys(ie.views[ze]),St=ue.doc&&ue.doc.views&&ue.doc.views[Ce];Ye.forEach(function(Mt){Ie[Mt]=Ie[Mt]||St})})});const Ae=Object.keys(Ie).filter(function(ue){return!Ie[ue]}).map(function(ue){return Qf(Ee(ue),function(){return new Y.constructor(ue,Y.__opts).destroy()})()});return Promise.all(Ae).then(function(){return{ok:!0}})}catch(ie){if(ie.status===404)return{ok:!0};throw ie}}async function Ze(Y,ie,ge){if(typeof Y._query=="function")return Q(Y,ie,ge);if(kt(Y))return X(Y,ie,ge);const fe={changes_batch_size:Y.__opts.view_update_changes_batch_size||yb};if(typeof ie!="string")return ce(ge,ie),rm.add(async function(){const xe=await tm(Y,"temp_view/temp_view",ie.map,ie.reduce,!0,u);return hb(ke(xe,fe).then(function(){return je(xe,ge)}),function(){return xe.db.destroy()})}),rm.finish();{const xe=ie,Ie=td(xe),Je=Ie[0],Ae=Ie[1],ue=await Y.get("_design/"+Je);if(ie=ue.views&&ue.views[Ae],!ie)throw new cu(`ddoc ${ue._id} has no view named ${Ae}`);v(ue,Ae),ce(ge,ie);const de=await tm(Y,xe,ie.map,ie.reduce,!1,u);return ge.stale==="ok"||ge.stale==="update_after"?(ge.stale==="update_after"&&s(function(){ke(de,fe)}),je(de,ge)):(await ke(de,fe),je(de,ge))}}function et(Y,ie,ge){const fe=this;typeof ie=="function"&&(ge=ie,ie={}),ie=ie?Z(ie):{},typeof Y=="function"&&(Y={map:Y});const xe=Promise.resolve().then(function(){return Ze(fe,Y,ie)});return J0(xe,ge),xe}const ot=db(function(){const Y=this;return typeof Y._viewCleanup=="function"?re(Y):kt(Y)?Xe(Y):We(Y)});return{query:et,viewCleanup:ot}}var nd={_sum:function(u,f){return Xf(f)},_count:function(u,f){return f.length},_stats:function(u,f){function p(v){for(var A=0,O=0,I=v.length;O<I;O++){var F=v[O];A+=F*F}return A}return{sum:Xf(f),min:Math.min.apply(null,f),max:Math.max.apply(null,f),count:f.length,sumsqr:p(f)}}};function xb(u){if(/^_sum/.test(u))return nd._sum;if(/^_count/.test(u))return nd._count;if(/^_stats/.test(u))return nd._stats;if(/^_/.test(u))throw new Error(u+" is not a supported reduce function.")}function Sb(u,f){if(typeof u=="function"&&u.length===2){var p=u;return function(v){return p(v,f)}}else return X0(u.toString(),f)}function Eb(u){var f=u.toString(),p=xb(f);return p||X0(f)}function bb(u,f){var p=u.views&&u.views[f];if(typeof p.map!="string")throw new cu("ddoc "+u._id+" has no string view named "+f+", instead found object of type: "+typeof p.map)}var kb="mrviews",om=_b(kb,Sb,Eb,bb);function Cb(u,f,p){return om.query.call(this,u,f,p)}function Ab(u){return om.viewCleanup.call(this,u)}var Rb={query:Cb,viewCleanup:Ab};function Nb(u,f,p){return!u._attachments||!u._attachments[p]||u._attachments[p].digest!==f._attachments[p].digest}function am(u,f){var p=Object.keys(f._attachments);return Promise.all(p.map(function(v){return u.getAttachment(f._id,v,{rev:f._rev})}))}function Tb(u,f,p){var v=kt(f)&&!kt(u),A=Object.keys(p._attachments);return v?u.get(p._id).then(function(O){return Promise.all(A.map(function(I){return Nb(O,p,I)?f.getAttachment(p._id,I):u.getAttachment(O._id,I)}))}).catch(function(O){if(O.status!==404)throw O;return am(f,p)}):am(f,p)}function Ob(u){var f=[];return Object.keys(u).forEach(function(p){var v=u[p].missing;v.forEach(function(A){f.push({id:p,rev:A})})}),{docs:f,revs:!0,latest:!0}}function Pb(u,f,p,v){p=D(p);var A=[],O=!0;function I(){var q=Ob(p);if(q.docs.length)return u.bulkGet(q).then(function(K){if(v.cancelled)throw new Error("cancelled");return Promise.all(K.results.map(function(ee){return Promise.all(ee.docs.map(function(L){var V=L.ok;return L.error&&(O=!1),!V||!V._attachments?V:Tb(f,u,V).then(function(Z){var ne=Object.keys(V._attachments);return Z.forEach(function(ce,X){var Q=V._attachments[ne[X]];delete Q.stub,delete Q.length,Q.data=ce}),V})}))})).then(function(ee){A=A.concat(Hn(ee).filter(Boolean))})})}function F(){return{ok:O,docs:A}}return Promise.resolve().then(I).then(F)}var sm=1,lm="pouchdb",Db=5,Qr=0;function rd(u,f,p,v,A){return u.get(f).catch(function(O){if(O.status===404)return(u.adapter==="http"||u.adapter==="https")&&Ue(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:v,_id:f,history:[],replicator:lm,version:sm};throw O}).then(function(O){if(!A.cancelled&&O.last_seq!==p)return O.history=(O.history||[]).filter(function(I){return I.session_id!==v}),O.history.unshift({last_seq:p,session_id:v}),O.history=O.history.slice(0,Db),O.version=sm,O.replicator=lm,O.session_id=v,O.last_seq=p,u.put(O).catch(function(I){if(I.status===409)return rd(u,f,p,v,A);throw I})})}class um{constructor(f,p,v,A,O){this.src=f,this.target=p,this.id=v,this.returnValue=A,this.opts=O||{}}writeCheckpoint(f,p){var v=this;return this.updateTarget(f,p).then(function(){return v.updateSource(f,p)})}updateTarget(f,p){return this.opts.writeTargetCheckpoint?rd(this.target,this.id,f,p,this.returnValue):Promise.resolve(!0)}updateSource(f,p){if(this.opts.writeSourceCheckpoint){var v=this;return rd(this.src,this.id,f,p,this.returnValue).catch(function(A){if(dm(A))return v.opts.writeSourceCheckpoint=!1,!0;throw A})}else return Promise.resolve(!0)}getCheckpoint(){var f=this;return f.opts&&f.opts.writeSourceCheckpoint&&!f.opts.writeTargetCheckpoint?f.src.get(f.id).then(function(p){return p.last_seq||Qr}).catch(function(p){if(p.status!==404)throw p;return Qr}):f.target.get(f.id).then(function(p){return f.opts&&f.opts.writeTargetCheckpoint&&!f.opts.writeSourceCheckpoint?p.last_seq||Qr:f.src.get(f.id).then(function(v){if(p.version!==v.version)return Qr;var A;return p.version?A=p.version.toString():A="undefined",A in cm?cm[A](p,v):Qr},function(v){if(v.status===404&&p.last_seq)return f.src.put({_id:f.id,last_seq:Qr}).then(function(){return Qr},function(A){return dm(A)?(f.opts.writeSourceCheckpoint=!1,p.last_seq):Qr});throw v})}).catch(function(p){if(p.status!==404)throw p;return Qr})}}var cm={undefined:function(u,f){return Jt(u.last_seq,f.last_seq)===0?f.last_seq:0},1:function(u,f){return Ib(f,u).last_seq}};function Ib(u,f){return u.session_id===f.session_id?{last_seq:u.last_seq,history:u.history}:fm(u.history,f.history)}function fm(u,f){var p=u[0],v=u.slice(1),A=f[0],O=f.slice(1);if(!p||f.length===0)return{last_seq:Qr,history:[]};var I=p.session_id;if(id(I,f))return{last_seq:p.last_seq,history:u};var F=A.session_id;return id(F,v)?{last_seq:A.last_seq,history:O}:fm(v,O)}function id(u,f){var p=f[0],v=f.slice(1);return!u||f.length===0?!1:u===p.session_id?!0:id(u,v)}function dm(u){return typeof u.status=="number"&&Math.floor(u.status/100)===4}function hm(u,f,p,v,A){return this instanceof um?hm:new um(u,f,p,v,A)}var pm=0;function Mb(u,f,p,v){if(u.retry===!1){f.emit("error",p),f.removeAllListeners();return}if(typeof u.back_off_function!="function"&&(u.back_off_function=be),f.emit("requestError",p),f.state==="active"||f.state==="pending"){f.emit("paused",p),f.state="stopped";var A=function(){u.current_back_off=pm},O=function(){f.removeListener("active",A)};f.once("paused",O),f.once("active",A)}u.current_back_off=u.current_back_off||pm,u.current_back_off=u.back_off_function(u.current_back_off),setTimeout(v,u.current_back_off)}function Lb(u){return Object.keys(u).sort(Jt).reduce(function(f,p){return f[p]=u[p],f},{})}function Bb(u,f,p){var v=p.doc_ids?p.doc_ids.sort(Jt):"",A=p.filter?p.filter.toString():"",O="",I="",F="";return p.selector&&(F=JSON.stringify(p.selector)),p.filter&&p.query_params&&(O=JSON.stringify(Lb(p.query_params))),p.filter&&p.filter==="_view"&&(I=p.view.toString()),Promise.all([u.id(),f.id()]).then(function(q){var K=q[0]+q[1]+A+I+O+v+F;return new Promise(function(ee){xn(K,ee)})}).then(function(q){return q=q.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+q})}function gm(u,f,p,v,A){var O=[],I,F={seq:0,changes:[],docs:[]},q=!1,K=!1,ee=!1,L=0,V=0,Z=p.continuous||p.live||!1,ne=p.batch_size||100,ce=p.batches_limit||10,X=p.style||"all_docs",Q=!1,re=p.doc_ids,te=p.selector,pe,he,Se=[],Ee=Tt(),ke;A=A||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var we={};v.ready(u,f);function Be(){return he?Promise.resolve():Bb(u,f,p).then(function(ue){pe=ue;var de={};p.checkpoint===!1?de={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:p.checkpoint==="source"?de={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:p.checkpoint==="target"?de={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:de={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},he=new hm(u,f,pe,v,de)})}function je(){if(Se=[],I.docs.length!==0){var ue=I.docs,de={timeout:p.timeout};return f.bulkDocs({docs:ue,new_edits:!1},de).then(function(Ce){if(v.cancelled)throw Y(),new Error("cancelled");var ze=Object.create(null);Ce.forEach(function(St){St.error&&(ze[St.id]=St)});var Ye=Object.keys(ze).length;A.doc_write_failures+=Ye,A.docs_written+=ue.length-Ye,ue.forEach(function(St){var Mt=ze[St._id];if(Mt){A.errors.push(Mt);var nn=(Mt.name||"").toLowerCase();if(nn==="unauthorized"||nn==="forbidden")v.emit("denied",D(Mt));else throw Mt}else Se.push(St)})},function(Ce){throw A.doc_write_failures+=ue.length,Ce})}}function rt(){if(I.error)throw new Error("There was a problem getting docs.");A.last_seq=V=I.seq;var ue=D(A);return Se.length&&(ue.docs=Se,typeof I.pending=="number"&&(ue.pending=I.pending,delete I.pending),v.emit("change",ue)),q=!0,u.info().then(function(de){var Ce=u.activeTasks.get(ke);if(!(!I||!Ce)){var ze=Ce.completed_items||0,Ye=parseInt(de.update_seq,10)-parseInt(L,10);u.activeTasks.update(ke,{completed_items:ze+I.changes.length,total_items:Ye})}}),he.writeCheckpoint(I.seq,Ee).then(function(){if(v.emit("checkpoint",{checkpoint:I.seq}),q=!1,v.cancelled)throw Y(),new Error("cancelled");I=void 0,xe()}).catch(function(de){throw Ae(de),de})}function Xe(){var ue={};return I.changes.forEach(function(de){v.emit("checkpoint",{revs_diff:de}),de.id!=="_user/"&&(ue[de.id]=de.changes.map(function(Ce){return Ce.rev}))}),f.revsDiff(ue).then(function(de){if(v.cancelled)throw Y(),new Error("cancelled");I.diffs=de})}function We(){return Pb(u,f,I.diffs,v).then(function(ue){I.error=!ue.ok,ue.docs.forEach(function(de){delete I.diffs[de._id],A.docs_read++,I.docs.push(de)})})}function Ze(){if(!(v.cancelled||I)){if(O.length===0){et(!0);return}I=O.shift(),v.emit("checkpoint",{start_next_batch:I.seq}),Xe().then(We).then(je).then(rt).then(Ze).catch(function(ue){ot("batch processing terminated with error",ue)})}}function et(ue){if(F.changes.length===0){O.length===0&&!I&&((Z&&we.live||K)&&(v.state="pending",v.emit("paused")),K&&Y());return}(ue||K||F.changes.length>=ne)&&(O.push(F),F={seq:0,changes:[],docs:[]},(v.state==="pending"||v.state==="stopped")&&(v.state="active",v.emit("active")),Ze())}function ot(ue,de){ee||(de.message||(de.message=ue),A.ok=!1,A.status="aborting",O=[],F={seq:0,changes:[],docs:[]},Y(de))}function Y(ue){if(!ee&&!(v.cancelled&&(A.status="cancelled",q)))if(A.status=A.status||"complete",A.end_time=new Date().toISOString(),A.last_seq=V,ee=!0,u.activeTasks.remove(ke,ue),ue){ue=$e(ue),ue.result=A;var de=(ue.name||"").toLowerCase();de==="unauthorized"||de==="forbidden"?(v.emit("error",ue),v.removeAllListeners()):Mb(p,v,ue,function(){gm(u,f,p,v)})}else v.emit("complete",A),v.removeAllListeners()}function ie(ue,de,Ce){if(v.cancelled)return Y();typeof de=="number"&&(F.pending=de);var ze=Un(p)(ue);if(!ze){var Ye=u.activeTasks.get(ke);if(Ye){var St=Ye.completed_items||0;u.activeTasks.update(ke,{completed_items:++St})}return}F.seq=ue.seq||Ce,F.changes.push(ue),v.emit("checkpoint",{pending_batch:F.seq}),s(function(){et(O.length===0&&we.live)})}function ge(ue){if(Q=!1,v.cancelled)return Y();if(ue.results.length>0)we.since=ue.results[ue.results.length-1].seq,xe(),et(!0);else{var de=function(){Z?(we.live=!0,xe()):K=!0,et(!0)};!I&&ue.results.length===0?(q=!0,he.writeCheckpoint(ue.last_seq,Ee).then(function(){if(q=!1,A.last_seq=V=ue.last_seq,v.cancelled)throw Y(),new Error("cancelled");de()}).catch(Ae)):de()}}function fe(ue){if(Q=!1,v.cancelled)return Y();ot("changes rejected",ue)}function xe(){if(!(!Q&&!K&&O.length<ce))return;Q=!0;function ue(){Ce.cancel()}function de(){v.removeListener("cancel",ue)}v._changes&&(v.removeListener("cancel",v._abortChanges),v._changes.cancel()),v.once("cancel",ue);var Ce=u.changes(we).on("change",ie);Ce.then(de,de),Ce.then(ge).catch(fe),p.retry&&(v._changes=Ce,v._abortChanges=ue)}function Ie(ue){return u.info().then(function(de){var Ce=typeof p.since>"u"?parseInt(de.update_seq,10)-parseInt(ue,10):parseInt(de.update_seq,10);return ke=u.activeTasks.add({name:`${Z?"continuous ":""}replication from ${de.db_name}`,total_items:Ce}),ue})}function Je(){Be().then(function(){if(v.cancelled){Y();return}return he.getCheckpoint().then(Ie).then(function(ue){V=ue,L=ue,we={since:V,limit:ne,batch_size:ne,style:X,doc_ids:re,selector:te,return_docs:!0},p.filter&&(typeof p.filter!="string"?we.include_docs=!0:we.filter=p.filter),"heartbeat"in p&&(we.heartbeat=p.heartbeat),"timeout"in p&&(we.timeout=p.timeout),p.query_params&&(we.query_params=p.query_params),p.view&&(we.view=p.view),xe()})}).catch(function(ue){ot("getCheckpoint rejected with ",ue)})}function Ae(ue){q=!1,ot("writeCheckpoint completed with error",ue)}if(v.cancelled){Y();return}v._addedListeners||(v.once("cancel",Y),typeof p.complete=="function"&&(v.once("error",p.complete),v.once("complete",function(ue){p.complete(null,ue)})),v._addedListeners=!0),typeof p.since>"u"?Je():Be().then(function(){return q=!0,he.writeCheckpoint(p.since,Ee)}).then(function(){if(q=!1,v.cancelled){Y();return}V=p.since,Je()}).catch(Ae)}class jb extends g{constructor(){super(),this.cancelled=!1,this.state="pending";const f=new Promise((p,v)=>{this.once("complete",p),this.once("error",v)});this.then=function(p,v){return f.then(p,v)},this.catch=function(p){return f.catch(p)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(f,p){if(this._readyCalled)return;this._readyCalled=!0;const v=()=>{this.cancel()};f.once("destroyed",v),p.once("destroyed",v);function A(){f.removeListener("destroyed",v),p.removeListener("destroyed",v)}this.once("complete",A),this.once("error",A)}}function du(u,f){var p=f.PouchConstructor;return typeof u=="string"?new p(u,f):u}function od(u,f,p,v){if(typeof p=="function"&&(v=p,p={}),typeof p>"u"&&(p={}),p.doc_ids&&!Array.isArray(p.doc_ids))throw $e(vn,"`doc_ids` filter parameter is not a list.");p.complete=v,p=D(p),p.continuous=p.continuous||p.live,p.retry="retry"in p?p.retry:!1,p.PouchConstructor=p.PouchConstructor||this;var A=new jb(p),O=du(u,p),I=du(f,p);return gm(O,I,p,A),A}function zb(u,f,p,v){return typeof p=="function"&&(v=p,p={}),typeof p>"u"&&(p={}),p=D(p),p.PouchConstructor=p.PouchConstructor||this,u=du(u,p),f=du(f,p),new Fb(u,f,p,v)}class Fb extends g{constructor(f,p,v,A){super(),this.canceled=!1;const O=v.push?Ve({},v,v.push):v,I=v.pull?Ve({},v,v.pull):v;this.push=od(f,p,O),this.pull=od(p,f,I),this.pushPaused=!0,this.pullPaused=!0;const F=te=>{this.emit("change",{direction:"pull",change:te})},q=te=>{this.emit("change",{direction:"push",change:te})},K=te=>{this.emit("denied",{direction:"push",doc:te})},ee=te=>{this.emit("denied",{direction:"pull",doc:te})},L=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},V=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},Z=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},ne=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let ce={};const X=te=>(pe,he)=>{(pe==="change"&&(he===F||he===q)||pe==="denied"&&(he===ee||he===K)||pe==="paused"&&(he===V||he===L)||pe==="active"&&(he===ne||he===Z))&&(pe in ce||(ce[pe]={}),ce[pe][te]=!0,Object.keys(ce[pe]).length===2&&this.removeAllListeners(pe))};v.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function Q(te,pe,he){te.listeners(pe).indexOf(he)==-1&&te.on(pe,he)}this.on("newListener",function(te){te==="change"?(Q(this.pull,"change",F),Q(this.push,"change",q)):te==="denied"?(Q(this.pull,"denied",ee),Q(this.push,"denied",K)):te==="active"?(Q(this.pull,"active",ne),Q(this.push,"active",Z)):te==="paused"&&(Q(this.pull,"paused",V),Q(this.push,"paused",L))}),this.on("removeListener",function(te){te==="change"?(this.pull.removeListener("change",F),this.push.removeListener("change",q)):te==="denied"?(this.pull.removeListener("denied",ee),this.push.removeListener("denied",K)):te==="active"?(this.pull.removeListener("active",ne),this.push.removeListener("active",Z)):te==="paused"&&(this.pull.removeListener("paused",V),this.push.removeListener("paused",L))}),this.pull.on("removeListener",X("pull")),this.push.on("removeListener",X("push"));const re=Promise.all([this.push,this.pull]).then(te=>{const pe={push:te[0],pull:te[1]};return this.emit("complete",pe),A&&A(null,pe),this.removeAllListeners(),pe},te=>{if(this.cancel(),A?A(te):this.emit("error",te),this.removeAllListeners(),A)throw te});this.then=function(te,pe){return re.then(te,pe)},this.catch=function(te){return re.catch(te)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}function Ub(u){u.replicate=od,u.sync=zb,Object.defineProperty(u.prototype,"replicate",{get:function(){var f=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(p,v,A){return f.constructor.replicate(p,f,v,A)},to:function(p,v,A){return f.constructor.replicate(f,p,v,A)}}),this.replicateMethods}}),u.prototype.sync=function(f,p,v){return this.constructor.sync(this,f,p,v)}}nt.plugin(rb).plugin(fb).plugin(Rb).plugin(Ub),r.exports=nt}).call(this)}).call(this,n(9))},{10:10,11:11,2:2,26:26,3:3,9:9}]},{},[27])(27)})})(dP);const hP=Yc(Fc),pP=Up({__proto__:null,default:hP},[Fc]);var Uc={},gP={get exports(){return Uc},set exports(e){Uc=e}};(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function a(c,h){if(!i[c]){if(!r[c]){var g=typeof $i=="function"&&$i;if(!h&&g)return g(c,!0);if(s)return s(c,!0);var S=new Error("Cannot find module '"+c+"'");throw S.code="MODULE_NOT_FOUND",S}var E=i[c]={exports:{}};r[c][0].call(E.exports,function(k){var C=r[c][1][k];return a(C||k)},E,E.exports,n,r,i,o)}return i[c].exports}for(var s=typeof $i=="function"&&$i,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(n,r,i){var o=n("pouchdb-promise");function a(l,c,h){return typeof c!="string"?o.reject(new Error("doc id is required")):l.get(c).catch(function(g){if(g.status!==404)throw g;return{}}).then(function(g){var S=g._rev,E=h(g);return E?(E._id=c,E._rev=S,s(l,E,h)):{updated:!1,rev:S,id:c}})}function s(l,c,h){return l.put(c).then(function(g){return{updated:!0,rev:g.rev,id:c._id}},function(g){if(g.status!==409)throw g;return a(l,c._id,h)})}i.upsert=function(c,h,g){var S=this,E=a(S,c,h);if(typeof g!="function")return E;E.then(function(k){g(null,k)},g)},i.putIfNotExists=function(c,h,g){var S=this;typeof c!="string"&&(g=h,h=c,c=h._id);var E=function(C){return C._rev?!1:h},k=a(S,c,E);if(typeof g!="function")return k;k.then(function(C){g(null,C)},g)},typeof window<"u"&&window.PouchDB&&window.PouchDB.plugin(i)},{"pouchdb-promise":4}],2:[function(n,r,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var l=0,c=new a(k),h=o.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var g=new o.MessageChannel;g.port1.onmessage=k,s=function(){g.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var R=o.document.createElement("script");R.onreadystatechange=function(){k(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},o.document.documentElement.appendChild(R)}:s=function(){setTimeout(k,0)};var S,E=[];function k(){S=!0;for(var R,x,w=E.length;w;){for(x=E,E=[],R=-1;++R<w;)x[R]();w=E.length}S=!1}r.exports=C;function C(R){E.push(R)===1&&!S&&s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],3:[function(n,r,i){var o=n("immediate");function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];r.exports=g;function g(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==a&&C(this,y)}g.prototype.catch=function(y){return this.then(null,y)},g.prototype.then=function(y,m){if(typeof y!="function"&&this.state===c||typeof m!="function"&&this.state===l)return this;var b=new this.constructor(a);if(this.state!==h){var N=this.state===c?y:m;E(b,N,this.outcome)}else this.queue.push(new S(b,y,m));return b};function S(y,m,b){this.promise=y,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},S.prototype.otherCallFulfilled=function(y){E(this.promise,this.onFulfilled,y)},S.prototype.callRejected=function(y){s.reject(this.promise,y)},S.prototype.otherCallRejected=function(y){E(this.promise,this.onRejected,y)};function E(y,m,b){o(function(){var N;try{N=m(b)}catch(D){return s.reject(y,D)}N===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,N)})}s.resolve=function(y,m){var b=R(k,m);if(b.status==="error")return s.reject(y,b.value);var N=b.value;if(N)C(y,N);else{y.state=c,y.outcome=m;for(var D=-1,G=y.queue.length;++D<G;)y.queue[D].callFulfilled(m)}return y},s.reject=function(y,m){y.state=l,y.outcome=m;for(var b=-1,N=y.queue.length;++b<N;)y.queue[b].callRejected(m);return y};function k(y){var m=y&&y.then;if(y&&typeof y=="object"&&typeof m=="function")return function(){m.apply(y,arguments)}}function C(y,m){var b=!1;function N(J){b||(b=!0,s.reject(y,J))}function D(J){b||(b=!0,s.resolve(y,J))}function G(){m(D,N)}var se=R(G);se.status==="error"&&N(se.value)}function R(y,m){var b={};try{b.value=y(m),b.status="success"}catch(N){b.status="error",b.value=N}return b}g.resolve=x;function x(y){return y instanceof this?y:s.resolve(new this(a),y)}g.reject=w;function w(y){var m=new this(a);return s.reject(m,y)}g.all=_;function _(y){var m=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,N=!1;if(!b)return this.resolve([]);for(var D=new Array(b),G=0,se=-1,J=new this(a);++se<b;)z(y[se],se);return J;function z(M,H){m.resolve(M).then(U,function(B){N||(N=!0,s.reject(J,B))});function U(B){D[H]=B,++G===b&&!N&&(N=!0,s.resolve(J,D))}}}g.race=d;function d(y){var m=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,N=!1;if(!b)return this.resolve([]);for(var D=-1,G=new this(a);++D<b;)se(y[D]);return G;function se(J){m.resolve(J).then(function(z){N||(N=!0,s.resolve(G,z))},function(z){N||(N=!0,s.reject(G,z))})}}},{immediate:2}],4:[function(n,r,i){function o(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var a=o(n("lie")),s=typeof Promise=="function"?Promise:a;r.exports=s},{lie:3}]},{},[1])(1)})})(gP);const mP=Uc,vP=Up({__proto__:null,default:mP},[Uc]),A2=pP,yP=vP;A2.plugin(yP);const yt=new A2("alternis-v1/documents");globalThis.global=globalThis;globalThis._pouchdb=yt;const My=()=>-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),Ly={api:{async syncMe(){},async syncMyRecentDocuments(){},async getDocument(e){return yt.get(e)},async patchDocument(e){return await yt.upsert(`${e.id}`,()=>e),e},async updateDocumentMeta(e,t){const n=await yt.get(e);return yt.put({...n,...t,_id:`${e}`}).then()},async deleteDocument(e){const t=await yt.get(e);await yt.remove(t)},async createDocument(e={}){const n=`${My()}`;await yt.put({name:"",ownerEmail:void 0,updatedAt:new Date().toString(),functions:{},variables:{},dialogues:{},participants:[],...e,_id:n,id:n})},async duplicateDocument(e){const n=`${My()}`,r=await yt.get(e.id);await yt.put({...r,ownerEmail:void 0,_id:n,id:n})}}},Wr=e=>{const t=rP({include_docs:!0}),n=Me.useMemo(()=>({documents:t.rows.filter(r=>!r.doc._deleted).map(r=>r.doc),me:void 0,...Ly}),[t,Ly]);return typeof e=="function"?e(n):n},wP={Left:0,Middle:1,Right:2,DoubleClick:"double-click"};var R2=(e=>(e.Control="Control",e.Meta="Meta",e.Alt="Alt",e.Shift="Shift",e))(R2||{});const h0=/Mac/.test(navigator.userAgent),_P=/Linux/.test(navigator.userAgent),xP={nodes:[{id:"1",type:"entry",position:{x:540,y:100}}],edges:[]},N2="My Dialogue",p0={preferences:{participantEditor:{iconSize:"medium",lastSelected:void 0},graph:{enableBoxSelectOnDrag:!1,dragBoxSelectMouseBinding:{button:0},dragPanMouseBinding:{button:0},...h0?{addNodeMouseBinding:{button:0,type:"dblclick"},appendToSelectModifier:"Meta"}:{addNodeMouseBinding:{button:2},appendToSelectModifier:"Control"}}},permissions:{version:"trial"},projectId:void 0,currentDialogueId:N2};Object.freeze(p0);const T2="alternis-v1_appState",ic=d0,SP=d0.id;let Cp=()=>window.location.hash.includes("?demo");const O2=structuredClone(p0);delete O2.document;const EP=(()=>{let e;try{const t=localStorage.getItem(T2);t!==null&&(e=JSON.parse(t))}catch{}return{...O2,...e,...Cp()&&{currentDialogueId:Object.keys(ic.dialogues)[0]}}})(),it=us()(NO.temporal(()=>({...EP})));globalThis._appState=it;const Ap=N2,fl={id:"0",name:"",dialogues:{[Ap]:{nodes:[{id:"1",type:"entry",position:{x:255,y:105},data:{},width:68,height:41,selected:!1,positionAbsolute:{x:255,y:105},dragging:!1}],edges:[]}},updatedAt:new Date().toISOString(),ownerEmail:void 0,participants:[],variables:{},functions:{}},P2="";function Nr(e){const t=it(r=>r.projectId)??"",n=C2(t??P2,void 0,fl).doc;return typeof e=="function"?e(n):n}function bn(e){const t=it(s=>s.projectId),n=C2(t??P2,void 0,fl).doc,r=n===fl,i=it(s=>s.currentDialogueId),o=r?Ap:i,a=n.dialogues[o]??fl.dialogues[Ap];return e?e(a):a}(e=>{e.setState=async t=>{const n=it.getState().projectId;if(n===void 0)return;const r=it.getState().currentDialogueId,i=await yt.get(n);if(i===void 0)return;const o=i.dialogues[r];await yt.upsert(i._id,a=>({...a,dialogues:{...a.dialogues,[r]:{...o,...typeof t=="function"?t(o):t}}}))},e.getState=async()=>{const t=it.getState().projectId;if(t===void 0)throw Error("attempted to useCurrentDialogue.getState without a loaded document");const n=await yt.get(t),r=it.getState().currentDialogueId;return n.dialogues[r]}})(bn||(bn={}));const By=(e,t)=>pf(it.temporal,e,t);it.subscribe(e=>localStorage.setItem(T2,JSON.stringify(e)));if(Cp()){const e=r=>[Object.entries(r.dialogues).map(([i,o])=>[i,o.nodes.map(a=>[a.id,a.type,a.data]),o.edges.map(a=>[a.id,a.source,a.target])])],t=JSON.stringify(e(ic));(async()=>{await yt.putIfNotExists({...ic,_id:"hidden/demo1"}),it.setState({projectId:"hidden/demo1",currentDialogueId:Object.keys(ic.dialogues)[0]});const r=yt.changes({since:"now",include_docs:!0,live:!0}).on("change",i=>{const o=()=>JSON.stringify(e(i.doc))!==t;i.id===SP&&Cp()&&o()&&(window.location.hash=window.location.hash.replace("?demo",""),r.removeAllListeners())})})()}function bP(){it.setState(Sp(p0))}const D2=e=>bn(t=>t.nodes.find(n=>n.id===e)),fo=e=>t=>{bn.setState(n=>{const r=n.nodes.slice(),i=n.nodes.findIndex(a=>a.id===e),o=n.nodes[i];return o===void 0?n:(r[i]={...o,data:{...o.data,...typeof t=="function"?t(o.data):t}},{...n,nodes:r})})},I2=e=>P.createElement("svg",{width:"83.111717mm",height:"107.62805mm",viewBox:"0 0 83.111718 107.62805",id:"svg5","inkscape:version":"1.1.2 (0a00cf5339, 2022-02-04)","sodipodi:docname":"inkscape-lock.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},P.createElement("sodipodi:namedview",{id:"namedview7",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:pageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":0,"inkscape:document-units":"mm",showgrid:"false","inkscape:snap-global":"true","inkscape:snap-bbox":"true","inkscape:snap-nodes":"true","inkscape:snap-bbox-midpoints":"false","inkscape:snap-grids":"true","inkscape:zoom":1.4142136,"inkscape:cx":354.9676,"inkscape:cy":226.27417,"inkscape:window-width":1876,"inkscape:window-height":1141,"inkscape:window-x":44,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:lockguides":"false"}),P.createElement("defs",{id:"defs2"}),P.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1",transform:"translate(0,-0.03113688)"},P.createElement("path",{id:"rect1687",style:{fill:"#ffffff",strokeWidth:12,strokeLinecap:"round"},d:"M 157.19336,0 C 99.334303,0 52.278722,46.126522 50.712891,103.60742 h -0.07422 l -0.03516,73.32031 H 15.117188 C 6.7417575,176.92773 0,183.67148 0,192.04688 v 199.61914 c 0,8.37543 6.7417575,15.11718 15.117188,15.11718 H 299.00391 c 8.37543,0 15.11914,-6.74175 15.11914,-15.11718 V 192.04688 c 0,-8.3754 -6.74371,-15.11915 -15.11914,-15.11915 h -35.48438 c 0.0777,-24.39458 0.14857,-49.00108 0.22455,-73.32031 h -0.0723 C 262.10621,46.126522 215.05243,-1.0015748e-5 157.19336,0 Z m 0,49.208984 c 30.67533,-7e-6 55.65167,24.106749 57.19531,54.398436 h -0.0332 c 0.0789,24.49506 -0.2192,48.98835 -0.3887,73.48242 0,0 -40.93831,0.0352 -56.77344,0.0352 -15.79488,0 -57.449219,0.041 -57.449219,0.041 l 0.18164,-72.10547 C 100.72565,74.087508 126.02747,49.208984 157.19336,49.208984 Z m -0.98828,175.193356 c 18.65004,-9.8e-4 33.76943,15.11754 33.76953,33.76758 -5e-5,9.32502 -3.77992,17.76716 -9.89104,23.87792 -3.05555,3.05538 -6.69392,5.52792 -10.73403,7.23655 -2.02005,0.85432 7.77046,49.1033 7.77046,49.1033 0,0 -18.58366,-0.029 -20.91492,-0.0291 -2.33116,-10e-6 -23.02587,0.0334 -23.02587,0.0334 0,0 11.90198,-48.25381 9.88204,-49.10818 -4.03989,-1.70874 -7.67804,-4.18132 -10.7334,-7.23668 -6.11073,-6.11072 -9.8903,-14.55259 -9.89035,-23.87723 1e-4,-18.64928 15.1183,-33.76748 33.76758,-33.76758 z","sodipodi:nodetypes":"scccsssssssscccsscccsccsccsscccssccc",transform:"matrix(0.26458333,0,0,0.26458333,0,0.03113688)"}))),M2=e=>P.createElement("svg",{width:"83.111717mm",height:"107.62805mm",viewBox:"0 0 83.111718 107.62805",id:"svg5","inkscape:version":"1.1.2 (0a00cf5339, 2022-02-04)","sodipodi:docname":"inkscape-unlock.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},P.createElement("sodipodi:namedview",{id:"namedview7",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:pageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":0,"inkscape:document-units":"mm",showgrid:"false","inkscape:snap-global":"true","inkscape:snap-bbox":"true","inkscape:snap-nodes":"true","inkscape:snap-bbox-midpoints":"false","inkscape:snap-grids":"true","inkscape:zoom":1.4142136,"inkscape:cx":236.52721,"inkscape:cy":226.27416,"inkscape:window-width":1876,"inkscape:window-height":1141,"inkscape:window-x":44,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:lockguides":"false"}),P.createElement("defs",{id:"defs2"}),P.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1",transform:"translate(0,-0.03113688)"},P.createElement("path",{id:"rect1687",style:{fill:"#ffffff",strokeWidth:12,strokeLinecap:"round"},d:"M 157.19336,0 C 99.334303,0 52.278722,46.126525 50.712891,103.60742 h -0.07422 l -0.03516,73.32031 H 15.117188 C 6.7417571,176.92773 0,183.67148 0,192.04688 v 199.61914 c 0,8.37543 6.7417571,15.11718 15.117188,15.11718 H 299.00391 c 8.37543,0 15.11914,-6.74175 15.11914,-15.11718 V 192.04688 c 0,-8.3754 -6.74371,-15.11915 -15.11914,-15.11915 h -35.48438 c 0.0294,-9.22107 -0.0281,9.25467 0,0 l -49.55272,0.16211 c -0.0737,9.29246 0.0643,-9.29254 0,0 0,0 -40.93831,0.0352 -56.77344,0.0352 -15.79488,0 -57.449219,0.041 -57.449219,0.041 l 0.18164,-72.10547 c 0.799899,-30.973065 26.101689,-55.851566 57.267579,-55.851566 30.67533,-7e-6 55.65167,24.106751 57.19531,54.398436 h -0.0332 49.38872 -0.0723 C 262.10631,46.126525 215.05243,-1.0015748e-5 157.19336,0 Z m -0.98828,224.40234 c 18.65004,-9.8e-4 33.76943,15.11754 33.76953,33.76758 -5e-5,9.32502 -3.77951,17.7662 -9.89063,23.87696 -3.05555,3.05537 -6.69426,5.52965 -10.73437,7.23828 -2.02005,0.85432 7.76953,49.10156 7.76953,49.10156 0,0 -18.5828,-0.0273 -20.91406,-0.0273 -2.33116,-10e-6 -23.02539,0.0332 -23.02539,0.0332 0,0 11.9008,-48.25501 9.88086,-49.10938 -4.03989,-1.70874 -7.67707,-4.18097 -10.73243,-7.23632 -6.11072,-6.11072 -9.89057,-14.55232 -9.89062,-23.87696 1e-4,-18.64928 15.1183,-33.76748 33.76758,-33.76758 z",transform:"matrix(0.26458333,0,0,0.26458333,0,0.03113688)","sodipodi:nodetypes":"scccssssssssccccsccsccccsccsscccssccc"}))),kP=e=>P.createElement("svg",{width:50,height:50,viewBox:"0 0 13.229167 13.229167",id:"svg1","sodipodi:docname":"inkscape-export.svg","inkscape:version":"1.3.1 (9b9bdc1480, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/",...e},P.createElement("title",{id:"title3"},"export"),P.createElement("sodipodi:namedview",{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:showpageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":"true","inkscape:deskcolor":"#d1d1d1","inkscape:document-units":"mm","inkscape:zoom":11.313708,"inkscape:cx":28.107495,"inkscape:cy":27.621359,"inkscape:window-width":1920,"inkscape:window-height":1051,"inkscape:window-x":1920,"inkscape:window-y":120,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:clip-to-page":"false",labelstyle:"default"}),P.createElement("defs",{id:"defs1"},P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-7",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-0",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"})),P.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},P.createElement("path",{id:"path1",style:{display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299286px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 7.5256388,1.1162109 -6.1370931,0.00827 V 12.262301 H 10.591085 V 7.0328496 C 10.413171,8.0235417 7.8018916,10.11356 4.0798543,10.298596 5.8597731,8.7653467 7.6011023,7.6586117 8.3255812,5.2883712 c -0.4595366,0 -0.7821478,0.00588 -1.2500441,0.00588 0.7290811,-0.861936 1.458361,-1.7239718 2.1874634,-2.5858887 z","sodipodi:nodetypes":"cccccccccc"}),P.createElement("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299802px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"M 5.5223578,9.5982164 C 9.8695995,8.7475548 10.997358,4.8028001 10.997358,4.8028001 l 0.881313,-0.0033 -1.833606,-2.194417 -1.8258447,2.154869 0.9335514,-0.00388 c 0.070035,0.7362425 -1.5070449,3.675449 -3.6304139,4.8421523 z",id:"path2-3","sodipodi:nodetypes":"cccccccc"}),P.createElement("path",{style:{fill:"none",stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"M 0.50828191,5.1345798 H 13.03882",id:"path3"})),P.createElement("metadata",{id:"metadata3"},P.createElement("rdf:RDF",null,P.createElement("cc:Work",{"rdf:about":""},P.createElement("cc:license",{"rdf:resource":"http://creativecommons.org/publicdomain/zero/1.0/"}),P.createElement("dc:creator",null,P.createElement("cc:Agent",null,P.createElement("dc:title",null,"Michael Belousov"))),P.createElement("dc:title",null,"import")),P.createElement("cc:License",{"rdf:about":"http://creativecommons.org/publicdomain/zero/1.0/"},P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Reproduction"}),P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Distribution"}),P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#DerivativeWorks"}))))),CP=e=>P.createElement("svg",{width:50,height:50,viewBox:"0 0 13.229167 13.229167",id:"svg1","sodipodi:docname":"inkscape-import.svg","inkscape:version":"1.3.1 (9b9bdc1480, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/",...e},P.createElement("title",{id:"title3"},"import"),P.createElement("sodipodi:namedview",{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:1,"inkscape:showpageshadow":0,"inkscape:pageopacity":0,"inkscape:pagecheckerboard":"true","inkscape:deskcolor":"#d1d1d1","inkscape:document-units":"mm","inkscape:zoom":18.222562,"inkscape:cx":23.706875,"inkscape:cy":20.359376,"inkscape:window-width":1920,"inkscape:window-height":1104,"inkscape:window-x":0,"inkscape:window-y":27,"inkscape:window-maximized":1,"inkscape:current-layer":"layer1","inkscape:clip-to-page":"false",labelstyle:"default",showgrid:"false"}),P.createElement("defs",{id:"defs1"},P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-7",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"}),P.createElement("inkscape:path-effect",{effect:"fillet_chamfer",id:"path-effect2-2",is_visible:"true",lpeversion:1,nodesatellites_param:"F,0,1,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1",radius:0,unit:"px",method:"auto",mode:"F",chamfer_steps:1,flexible:"false",use_knot_distance:"true",apply_no_radius:"true",apply_with_radius:"true",only_selected:"false",hide_knots:"false"})),P.createElement("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},P.createElement("path",{id:"path1",style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.0299286px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 7.5258843,1.1163962 -6.1372508,0.0083 V 12.262377 h 9.2021945 l 0.04107,-4.4927067 C 9.9177201,8.3889424 9.0836048,8.9466215 8.1879079,9.2431668 c 0,0.6558232 0.00581,1.0615142 0.00581,1.5554832 C 7.8207157,10.425647 5.9090437,8.8362336 4.8653148,7.7925047 5.8994765,6.758343 7.0507665,5.6350168 8.0128717,4.6364225 c 0,1.3011782 0.0049,0.9333658 0.0049,1.536714 0.2049676,-0.0033 0.3884703,0.00482 0.5905113,-0.029421 0.6101967,-0.094289 1.1759846,-0.3977802 1.621881,-0.8204074 0.127747,-0.1226487 0.247171,-0.2519554 0.360664,-0.385976 V 3.9252504 Z","sodipodi:nodetypes":"ccccccccccccccc"}),P.createElement("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 151.58928,100.74713 c -4.93339,40.04652 -41.94974,48.92432 -41.94974,48.92432 l -0.0636,8.5016 -18.020211,-16.48971 17.157391,-17.78539 0.0518,9.49921 c 24.2447,0.58583 32.24087,-14.20471 42.82433,-32.65003 z",id:"path2","sodipodi:nodetypes":"ccccccc",transform:"matrix(0.1131163,0,0,0.1131163,-4.7599082,-8.2414495)","inkscape:original-d":"m 151.58928,100.74713 c -4.93339,40.04652 -41.94974,48.92432 -41.94974,48.92432 l -0.0636,8.5016 -18.020211,-16.48971 17.157391,-17.78539 0.0518,9.49921 c 24.2447,0.58583 32.24087,-14.20471 42.82433,-32.65003 z","inkscape:path-effect":"#path-effect2"})),P.createElement("metadata",{id:"metadata3"},P.createElement("rdf:RDF",null,P.createElement("cc:Work",{"rdf:about":""},P.createElement("cc:license",{"rdf:resource":"http://creativecommons.org/publicdomain/zero/1.0/"}),P.createElement("dc:creator",null,P.createElement("cc:Agent",null,P.createElement("dc:title",null,"Michael Belousov"))),P.createElement("dc:title",null,"import")),P.createElement("cc:License",{"rdf:about":"http://creativecommons.org/publicdomain/zero/1.0/"},P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Reproduction"}),P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#Distribution"}),P.createElement("cc:permits",{"rdf:resource":"http://creativecommons.org/ns#DerivativeWorks"}))))),L2="/app/assets/participant-icon-592e6262.svg",AP="_contextMenuRoot_ybg2e_2",RP="_contextMenuOptions_ybg2e_9",NP="_contextMenuOption_ybg2e_9",Hc={contextMenuRoot:AP,contextMenuOptions:RP,contextMenuOption:NP},TP={0:"left mouse button",1:"middle mouse button",2:"right mouse button",3:"aux mouse button 1",4:"aux mouse button 2"};function OP(e){return e.type==="dblclick"?"double click":(e.ctrlKey?"ctrl+":"")+(e.shiftKey?"shift+":"")+(e.altKey?"alt+":"")+(e.metaKey?"meta+":"")+TP[e.button]}function PP(e,t){return(t.type===void 0&&e.type==="mousedown"||e.type===t.type)&&e.button===t.button&&!!t.ctrlKey===e.ctrlKey&&!!t.altKey===e.altKey&&!!t.shiftKey===e.shiftKey&&!!t.metaKey===e.metaKey}function jy(e){const[t,n]=P.useState(!1);return P.useEffect(()=>{if(t){const r=async i=>{var c;i.preventDefault(),i.stopPropagation();let o;const a=new Promise(h=>{o=h,document.addEventListener("dblclick",o)}).finally(()=>document.removeEventListener("dblclick",o)),s=new Promise(h=>setTimeout(()=>h("timeout"),200)),l=await Promise.race([a,s]);return l!=="timeout"&&(i=l),(c=e.onChange)==null||c.call(e,{type:i.type,button:i.button,ctrlKey:!e.ignoreModifiers&&i.ctrlKey,altKey:!e.ignoreModifiers&&i.altKey,metaKey:!e.ignoreModifiers&&i.metaKey,shiftKey:!e.ignoreModifiers&&i.shiftKey}),n(!1),!1};return document.addEventListener("mousedown",r,!0),()=>document.removeEventListener("mousedown",r,!0)}},[t]),T("button",{onClick:()=>n(!0),children:t?T(_t,{children:"press your button..."}):OP(e.value)})}function $t(e,t){if(!e)throw Error(t??"Assertion error, condition was falsy")}function oo(e){return B2(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ci(e){var t;return(t=(B2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B2(e){return e instanceof Node||e instanceof ir(e).Node}function fn(e){return e instanceof Element||e instanceof ir(e).Element}function sr(e){return e instanceof HTMLElement||e instanceof ir(e).HTMLElement}function Rp(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}function Ql(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function DP(e){return["table","td","th"].includes(oo(e))}function g0(e){const t=m0(),n=lr(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IP(e){let t=Yo(e);for(;sr(t)&&!Zl(t);){if(g0(t))return t;t=Yo(t)}return null}function m0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zl(e){return["html","body","#document"].includes(oo(e))}function lr(e){return ir(e).getComputedStyle(e)}function Af(e){return fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Yo(e){if(oo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rp(e)&&e.host||Ci(e);return Rp(t)?t.host:t}function j2(e){const t=Yo(e);return Zl(t)?e.ownerDocument?e.ownerDocument.body:e.body:sr(t)&&Ql(t)?t:j2(t)}function eo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=j2(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=ir(i);return o?t.concat(a,a.visualViewport||[],Ql(i)?i:[],a.frameElement&&n?eo(a.frameElement):[]):t.concat(i,eo(i,[],n))}function zy(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Rp(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function MP(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function LP(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function BP(e){return e.mozInputSource===0&&e.isTrusted?!0:z2()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function jP(e){return!z2()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function z2(){const e=/android/i;return e.test(MP())||e.test(LP())}function Fy(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function zP(e){return"nativeEvent"in e}function FP(e){return e.matches("html,body")}function Gd(e){return(e==null?void 0:e.ownerDocument)||document}function Yd(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Us(e){return"composedPath"in e?e.composedPath()[0]:e.target}const UP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function HP(e){return sr(e)&&e.matches(UP)}const Np=Math.min,qa=Math.max,qc=Math.round,zu=Math.floor,ao=e=>({x:e,y:e});function F2(e){return e.split("-")[0]}function qP(e){return e.split("-")[1]}function $P(e){return e==="x"?"y":"x"}function WP(e){return e==="y"?"height":"width"}function U2(e){return["top","bottom"].includes(F2(e))?"y":"x"}function VP(e){return $P(U2(e))}function H2(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Uy(e,t,n){let{reference:r,floating:i}=e;const o=U2(t),a=VP(t),s=WP(a),l=F2(t),c=o==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,S=r[s]/2-i[s]/2;let E;switch(l){case"top":E={x:h,y:r.y-i.height};break;case"bottom":E={x:h,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-i.width,y:g};break;default:E={x:r.x,y:r.y}}switch(qP(t)){case"start":E[a]-=S*(n&&c?-1:1);break;case"end":E[a]+=S*(n&&c?-1:1);break}return E}const KP=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:g}=Uy(c,r,l),S=r,E={},k=0;for(let C=0;C<s.length;C++){const{name:R,fn:x}=s[C],{x:w,y:_,data:d,reset:y}=await x({x:h,y:g,initialPlacement:r,placement:S,strategy:i,middlewareData:E,rects:c,platform:a,elements:{reference:e,floating:t}});if(h=w??h,g=_??g,E={...E,[R]:{...E[R],...d}},y&&k<=50){k++,typeof y=="object"&&(y.placement&&(S=y.placement),y.rects&&(c=y.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:h,y:g}=Uy(c,S,l)),C=-1;continue}}return{x:h,y:g,placement:S,strategy:i,middlewareData:E}};function q2(e){const t=lr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=sr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=qc(n)!==o||qc(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function v0(e){return fn(e)?e:e.contextElement}function $a(e){const t=v0(e);if(!sr(t))return ao(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=q2(t);let a=(o?qc(n.width):n.width)/r,s=(o?qc(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const GP=ao(0);function $2(e){const t=ir(e);return!m0()||!t.visualViewport?GP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ir(e)?!1:t}function Jo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=v0(e);let a=ao(1);t&&(r?fn(r)&&(a=$a(r)):a=$a(e));const s=YP(o,n,r)?$2(o):ao(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(o){const S=ir(o),E=r&&fn(r)?ir(r):r;let k=S.frameElement;for(;k&&r&&E!==S;){const C=$a(k),R=k.getBoundingClientRect(),x=lr(k),w=R.left+(k.clientLeft+parseFloat(x.paddingLeft))*C.x,_=R.top+(k.clientTop+parseFloat(x.paddingTop))*C.y;l*=C.x,c*=C.y,h*=C.x,g*=C.y,l+=w,c+=_,k=ir(k).frameElement}}return H2({width:h,height:g,x:l,y:c})}function JP(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=sr(n),o=Ci(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s=ao(1);const l=ao(0);if((i||!i&&r!=="fixed")&&((oo(n)!=="body"||Ql(o))&&(a=Af(n)),sr(n))){const c=Jo(n);s=$a(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function QP(e){return Array.from(e.getClientRects())}function W2(e){return Jo(Ci(e)).left+Af(e).scrollLeft}function ZP(e){const t=Ci(e),n=Af(e),r=e.ownerDocument.body,i=qa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=qa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+W2(e);const s=-n.scrollTop;return lr(r).direction==="rtl"&&(a+=qa(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function XP(e,t){const n=ir(e),r=Ci(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=m0();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function eD(e,t){const n=Jo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=sr(e)?$a(e):ao(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function Hy(e,t,n){let r;if(t==="viewport")r=XP(e,n);else if(t==="document")r=ZP(Ci(e));else if(fn(t))r=eD(t,n);else{const i=$2(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return H2(r)}function V2(e,t){const n=Yo(e);return n===t||!fn(n)||Zl(n)?!1:lr(n).position==="fixed"||V2(n,t)}function tD(e,t){const n=t.get(e);if(n)return n;let r=eo(e,[],!1).filter(s=>fn(s)&&oo(s)!=="body"),i=null;const o=lr(e).position==="fixed";let a=o?Yo(e):e;for(;fn(a)&&!Zl(a);){const s=lr(a),l=g0(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ql(a)&&!l&&V2(e,a))?r=r.filter(h=>h!==a):i=s,a=Yo(a)}return t.set(e,r),r}function nD(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?tD(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,h)=>{const g=Hy(t,h,i);return c.top=qa(g.top,c.top),c.right=Np(g.right,c.right),c.bottom=Np(g.bottom,c.bottom),c.left=qa(g.left,c.left),c},Hy(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rD(e){return q2(e)}function iD(e,t,n){const r=sr(t),i=Ci(t),o=n==="fixed",a=Jo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=ao(0);if(r||!r&&!o)if((oo(t)!=="body"||Ql(i))&&(s=Af(t)),r){const c=Jo(t,!0,o,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=W2(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function qy(e,t){return!sr(e)||lr(e).position==="fixed"?null:t?t(e):e.offsetParent}function K2(e,t){const n=ir(e);if(!sr(e))return n;let r=qy(e,t);for(;r&&DP(r)&&lr(r).position==="static";)r=qy(r,t);return r&&(oo(r)==="html"||oo(r)==="body"&&lr(r).position==="static"&&!g0(r))?n:r||IP(e)||n}const oD=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||K2,o=this.getDimensions;return{reference:iD(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function aD(e){return lr(e).direction==="rtl"}const sD={convertOffsetParentRelativeRectToViewportRelativeRect:JP,getDocumentElement:Ci,getClippingRect:nD,getOffsetParent:K2,getElementRects:oD,getClientRects:QP,getDimensions:rD,getScale:$a,isElement:fn,isRTL:aD};function lD(e,t){let n=null,r;const i=Ci(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:c,top:h,width:g,height:S}=e.getBoundingClientRect();if(s||t(),!g||!S)return;const E=zu(h),k=zu(i.clientWidth-(c+g)),C=zu(i.clientHeight-(h+S)),R=zu(c),w={rootMargin:-E+"px "+-k+"px "+-C+"px "+-R+"px",threshold:qa(0,Np(1,l))||1};let _=!0;function d(y){const m=y[0].intersectionRatio;if(m!==l){if(!_)return a();m?a(!1,m):r=setTimeout(()=>{a(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(d,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(d,w)}n.observe(e)}return a(!0),o}function uD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=v0(e),h=i||o?[...c?eo(c):[],...eo(t)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const g=c&&s?lD(c,n):null;let S=-1,E=null;a&&(E=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&E&&(E.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{E&&E.observe(t)})),n()}),c&&!l&&E.observe(c),E.observe(t));let k,C=l?Jo(e):null;l&&R();function R(){const x=Jo(e);C&&(x.x!==C.x||x.y!==C.y||x.width!==C.width||x.height!==C.height)&&n(),C=x,k=requestAnimationFrame(R)}return n(),()=>{h.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),g&&g(),E&&E.disconnect(),E=null,l&&cancelAnimationFrame(k)}}const cD=(e,t,n)=>{const r=new Map,i={platform:sD,...n},o={...i.platform,_c:r};return KP(e,t,{...i,platform:o})};var oc=typeof document<"u"?P.useLayoutEffect:P.useEffect;function $c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$c(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!$c(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function G2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $y(e,t){const n=G2(e);return Math.round(t*n)/n}function Wy(e){const t=P.useRef(e);return oc(()=>{t.current=e}),t}function fD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[h,g]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,E]=P.useState(r);$c(S,r)||E(r);const[k,C]=P.useState(null),[R,x]=P.useState(null),w=P.useCallback(U=>{U!=m.current&&(m.current=U,C(U))},[C]),_=P.useCallback(U=>{U!==b.current&&(b.current=U,x(U))},[x]),d=o||k,y=a||R,m=P.useRef(null),b=P.useRef(null),N=P.useRef(h),D=Wy(l),G=Wy(i),se=P.useCallback(()=>{if(!m.current||!b.current)return;const U={placement:t,strategy:n,middleware:S};G.current&&(U.platform=G.current),cD(m.current,b.current,U).then(B=>{const j={...B,isPositioned:!0};J.current&&!$c(N.current,j)&&(N.current=j,hl.flushSync(()=>{g(j)}))})},[S,t,n,G]);oc(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[c]);const J=P.useRef(!1);oc(()=>(J.current=!0,()=>{J.current=!1}),[]),oc(()=>{if(d&&(m.current=d),y&&(b.current=y),d&&y){if(D.current)return D.current(d,y,se);se()}},[d,y,se,D]);const z=P.useMemo(()=>({reference:m,floating:b,setReference:w,setFloating:_}),[w,_]),M=P.useMemo(()=>({reference:d,floating:y}),[d,y]),H=P.useMemo(()=>{const U={position:n,left:0,top:0};if(!M.floating)return U;const B=$y(M.floating,h.x),j=$y(M.floating,h.y);return s?{...U,transform:"translate("+B+"px, "+j+"px)",...G2(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:j}},[n,s,M.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:se,refs:z,elements:M,floatingStyles:H}),[h,se,z,M,H])}const dD=Vp["useInsertionEffect".toString()],hD=dD||(e=>e());function pa(e){const t=P.useRef(()=>{});return hD(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Y2=typeof document<"u"?P.useLayoutEffect:P.useEffect;let Jd=!1,pD=0;const Vy=()=>"floating-ui-"+pD++;function gD(){const[e,t]=P.useState(()=>Jd?Vy():void 0);return Y2(()=>{e==null&&t(Vy())},[]),P.useEffect(()=>{Jd||(Jd=!0)},[]),e}const mD=Vp["useId".toString()],vD=mD||gD;function yD(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const wD=P.createContext(null),_D=P.createContext(null),xD=()=>{var e;return((e=P.useContext(wD))==null?void 0:e.id)||null},J2=()=>P.useContext(_D);function SD(e){return"data-floating-ui-"+e}function Qd(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(a=>{var s;return i.parentId===a.id&&((s=i.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function Ky(e){return sr(e.target)&&e.target.tagName==="BUTTON"}function Gy(e){return HP(e)}function ED(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:a=!0,event:s="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:h=!0}=t,g=P.useRef(),S=P.useRef(!1);return P.useMemo(()=>a?{reference:{onPointerDown(E){g.current=E.pointerType},onMouseDown(E){E.button===0&&(Fy(g.current,!0)&&c||s!=="click"&&(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,E.nativeEvent):(E.preventDefault(),r(!0,E.nativeEvent))))},onClick(E){if(s==="mousedown"&&g.current){g.current=void 0;return}Fy(g.current,!0)&&c||(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,E.nativeEvent):r(!0,E.nativeEvent))},onKeyDown(E){g.current=void 0,!(E.defaultPrevented||!h||Ky(E))&&(E.key===" "&&!Gy(o)&&(E.preventDefault(),S.current=!0),E.key==="Enter"&&r(!(n&&l),E.nativeEvent))},onKeyUp(E){E.defaultPrevented||!h||Ky(E)||Gy(o)||E.key===" "&&S.current&&(S.current=!1,r(!(n&&l),E.nativeEvent))}}}:{},[a,i,s,c,h,o,l,n,r])}const bD={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},kD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Yy=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function CD(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:a,domReference:s,floating:l},dataRef:c}=e,{enabled:h=!0,escapeKey:g=!0,outsidePress:S=!0,outsidePressEvent:E="pointerdown",referencePress:k=!1,referencePressEvent:C="pointerdown",ancestorScroll:R=!1,bubbles:x,capture:w}=t,_=J2(),d=xD()!=null,y=pa(typeof S=="function"?S:()=>!1),m=typeof S=="function"?y:S,b=P.useRef(!1),N=P.useRef(!1),{escapeKey:D,outsidePress:G}=Yy(x),{escapeKey:se,outsidePress:J}=Yy(w),z=pa(B=>{if(!n||!h||!g||B.key!=="Escape")return;const j=_?Qd(_.nodesRef.current,o):[];if(!D&&(B.stopPropagation(),j.length>0)){let $=!0;if(j.forEach(W=>{var me;if((me=W.context)!=null&&me.open&&!W.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,zP(B)?B.nativeEvent:B)}),M=pa(B=>{var j;const $=()=>{var W;z(B),(W=Us(B))==null||W.removeEventListener("keydown",$)};(j=Us(B))==null||j.addEventListener("keydown",$)}),H=pa(B=>{const j=b.current;b.current=!1;const $=N.current;if(N.current=!1,E==="click"&&$||j||typeof m=="function"&&!m(B))return;const W=Us(B),me="["+SD("inert")+"]",ye=Gd(l).querySelectorAll(me);let Te=fn(W)?W:null;for(;Te&&!Zl(Te);){const Le=Yo(Te);if(Le===Gd(l).body||!fn(Le))break;Te=Le}if(ye.length&&fn(W)&&!FP(W)&&!zy(W,l)&&Array.from(ye).every(Le=>!zy(Te,Le)))return;if(sr(W)&&l){const Le=W.clientWidth>0&&W.scrollWidth>W.clientWidth,Ve=W.clientHeight>0&&W.scrollHeight>W.clientHeight;let Re=Ve&&B.offsetX>W.clientWidth;if(Ve&&lr(W).direction==="rtl"&&(Re=B.offsetX<=W.offsetWidth-W.clientWidth),Re||Le&&B.offsetY>W.clientHeight)return}const be=_&&Qd(_.nodesRef.current,o).some(Le=>{var Ve;return Yd(B,(Ve=Le.context)==null?void 0:Ve.elements.floating)});if(Yd(B,l)||Yd(B,s)||be)return;const Ue=_?Qd(_.nodesRef.current,o):[];if(Ue.length>0){let Le=!0;if(Ue.forEach(Ve=>{var Re;if((Re=Ve.context)!=null&&Re.open&&!Ve.context.dataRef.current.__outsidePressBubbles){Le=!1;return}}),!Le)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:d?{preventScroll:!0}:BP(B)||jP(B)}}),r(!1,B)}),U=pa(B=>{var j;const $=()=>{var W;H(B),(W=Us(B))==null||W.removeEventListener(E,$)};(j=Us(B))==null||j.addEventListener(E,$)});return P.useEffect(()=>{if(!n||!h)return;c.current.__escapeKeyBubbles=D,c.current.__outsidePressBubbles=G;function B(W){r(!1,W)}const j=Gd(l);g&&j.addEventListener("keydown",se?M:z,se),m&&j.addEventListener(E,J?U:H,J);let $=[];return R&&(fn(s)&&($=eo(s)),fn(l)&&($=$.concat(eo(l))),!fn(a)&&a&&a.contextElement&&($=$.concat(eo(a.contextElement)))),$=$.filter(W=>{var me;return W!==((me=j.defaultView)==null?void 0:me.visualViewport)}),$.forEach(W=>{W.addEventListener("scroll",B,{passive:!0})}),()=>{g&&j.removeEventListener("keydown",se?M:z,se),m&&j.removeEventListener(E,J?U:H,J),$.forEach(W=>{W.removeEventListener("scroll",B)})}},[c,l,s,a,g,m,E,n,r,R,h,D,G,z,se,M,H,J,U]),P.useEffect(()=>{b.current=!1},[m,E]),P.useMemo(()=>h?{reference:{onKeyDown:z,[bD[C]]:B=>{k&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,B.nativeEvent))}},floating:{onKeyDown:z,onMouseDown(){N.current=!0},onMouseUp(){N.current=!0},[kD[E]]:()=>{b.current=!0}}}:{},[h,i,k,E,C,r,z])}function AD(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:i}=e,[o,a]=P.useState(null),s=((t=e.elements)==null?void 0:t.reference)||o,l=fD(e),c=J2(),h=pa((d,y)=>{d&&(S.current.openEvent=y),r==null||r(d,y)}),g=P.useRef(null),S=P.useRef({}),E=P.useState(()=>yD())[0],k=vD(),C=P.useCallback(d=>{const y=fn(d)?{getBoundingClientRect:()=>d.getBoundingClientRect(),contextElement:d}:d;l.refs.setReference(y)},[l.refs]),R=P.useCallback(d=>{(fn(d)||d===null)&&(g.current=d,a(d)),(fn(l.refs.reference.current)||l.refs.reference.current===null||d!==null&&!fn(d))&&l.refs.setReference(d)},[l.refs]),x=P.useMemo(()=>({...l.refs,setReference:R,setPositionReference:C,domReference:g}),[l.refs,R,C]),w=P.useMemo(()=>({...l.elements,domReference:s}),[l.elements,s]),_=P.useMemo(()=>({...l,refs:x,elements:w,dataRef:S,nodeId:i,floatingId:k,events:E,open:n,onOpenChange:h}),[l,i,k,E,n,h,x,w]);return Y2(()=>{const d=c==null?void 0:c.nodesRef.current.find(y=>y.id===i);d&&(d.context=_)}),P.useMemo(()=>({...l,context:_,refs:x,elements:w}),[l,x,w,_])}function Zd(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(a=>{let[s,l]=a;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof l=="function"){var c;(c=r.get(s))==null||c.push(l),i[s]=function(){for(var h,g=arguments.length,S=new Array(g),E=0;E<g;E++)S[E]=arguments[E];return(h=r.get(s))==null?void 0:h.map(k=>k(...S)).find(k=>k!==void 0)}}}else i[s]=l}),i),{})}}function RD(e){e===void 0&&(e=[]);const t=e,n=P.useCallback(o=>Zd(o,e,"reference"),t),r=P.useCallback(o=>Zd(o,e,"floating"),t),i=P.useCallback(o=>Zd(o,e,"item"),e.map(o=>o==null?void 0:o.item));return P.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}const Q2=document.getElementById("context-menu-root");$t(Q2,"context menu root didn't exist");const ND="force-custom-contextmenu",Z2=Me.forwardRef(({autoCloseDelay:e=500,children:t,mouseBinding:n={button:2},onHide:r,forceEventKey:i=ND},o)=>{const a=P.useRef(null),s=P.useRef(null),l=xO({delayMs:e,onUninterested(){c()}}),c=()=>{a.current&&(a.current.style.display="none"),r==null||r()},h=()=>{a.current&&(a.current.style.display=null)};P.useImperativeHandle(o,()=>({hide:c,show:h})),P.useLayoutEffect(()=>{var R;c();const S=(R=s.current)==null?void 0:R.parentElement,E=x=>{if(!(!PP(x,n)&&x.type!==i))return x.preventDefault(),x.stopPropagation(),a.current&&(a.current.style.top=`${x.pageY}px`,a.current.style.left=`${x.pageX}px`),h(),!1},k=x=>x.preventDefault(),C=["contextmenu","click","dblclick","auxclick"];return S==null||S.addEventListener("mousedown",E),S==null||S.addEventListener("dblclick",E),document.addEventListener(i,E),C.forEach(x=>S==null?void 0:S.addEventListener(x,k)),C.forEach(x=>{var w;return(w=a.current)==null?void 0:w.addEventListener(x,k)}),()=>{S==null||S.removeEventListener("mousedown",E),S==null||S.removeEventListener("dblclick",E),document.removeEventListener(i,E),C.forEach(x=>S==null?void 0:S.removeEventListener(x,k)),C.forEach(x=>{var w;return(w=a.current)==null?void 0:w.removeEventListener(x,k)})}},[n]);const g=P.useRef(!0);return P.useEffect(()=>void(g.current=!1),[]),T("div",{ref:s,style:{display:"none"},children:g3.createPortal(T("div",{ref:a,className:Hc.contextMenuRoot,...l.props,style:{display:g?"none":"initial"},children:t}),Q2)})}),y0=Me.forwardRef((e,t)=>{const{options:n,onAfterSelect:r,...i}=e;return T("div",{...i,...pt("alternis__floatingbox",Hc.contextMenuOptions,i.className),ref:t,children:e.options.map(o=>T("div",{onClick:async a=>{var s;await o.onSelect(a),(s=e.onAfterSelect)==null||s.call(e)},...pt(Hc.contextMenuOption,"alternis__hoverable"),children:T("a",{style:{color:"inherit"},children:o.label??o.id})},o.id))})});function X2(e){const{options:t,autoCloseDelay:n,mouseBinding:r,onHide:i,forceEventKey:o,ref:a,...s}=e,l={autoCloseDelay:n,mouseBinding:r,onHide:i,forceEventKey:o},c=P.useRef(null);return T(Z2,{ref:c,...l,children:T(y0,{onAfterSelect:()=>{var h;return(h=c.current)==null?void 0:h.hide()},options:t,...s})})}const TD=ae("div",{style:{display:"flex",flexDirection:"row",gap:4,padding:8},children:[T("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}}),T("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}}),T("span",{className:"alternis__hoverable",style:{borderRadius:"50%",width:4,height:4,backgroundColor:"var(--fg-1)"}})]});function Tp(e){const[t,n]=P.useState(!1),{context:r,floatingStyles:i,refs:o}=AD({open:t,onOpenChange:n,placement:"bottom-start",whileElementsMounted:uD}),a=ED(r),s=CD(r),{getReferenceProps:l,getFloatingProps:c}=RD([a,s]),{options:h,...g}=e;return ae("div",{...g,style:{position:"absolute",...g.style},children:[T("div",{ref:o.setReference,...l(),children:e.button??TD}),t&&T(y0,{options:e.options,onAfterSelect:()=>{n(!1)},...pt(Hc.contextMenuOptions,e.className),style:{width:"max-content",height:"fit-content",zIndex:1,...e.style,...i},ref:o.setFloating,...c()})]})}(e=>{})(Tp||(Tp={}));const OD="_selectionGrid_1kuq2_1",PD="_portraitImage_1kuq2_11",DD="_details_1kuq2_19",ID="_bigPortrait_1kuq2_36",Xs={selectionGrid:OD,portraitImage:PD,details:DD,bigPortrait:ID},MD="_selectionGrid_1oi92_1",LD="_cell_1oi92_11",Jy={selectionGrid:MD,cell:LD};function BD(e){return T("div",{className:Jy.selectionGrid,style:{gridTemplateColumns:`repeat(auto-fit, minmax(${e.size==="small"?"40px":e.size==="large"?"150px":"80px"}, 0.5fr))`,gridAutoRows:"fit-content"},children:e.cells.map(t=>T("div",{...pt(Jy.cell,"alternis__center"),children:t.content},t.key))})}var Si={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.useErrorOnUnstableShape=Sr.useStable=Sr.useOnUnmount=Sr.useOnMount=Sr.useOnMountInRenderOrder=void 0;var Fo=P;function jD(e){var t=Fo.useRef(!1),n=Fo.useRef();if(!t.current){t.current=!0;var r=e();r&&(n.current=r)}Fo.useEffect(function(){return function(){var i;return(i=n.current)===null||i===void 0?void 0:i.call(n)}},[])}Sr.useOnMountInRenderOrder=jD;function zD(e){Fo.useEffect(function(){return void e()},[])}Sr.useOnMount=zD;function FD(e){Fo.useEffect(function(){return function(){return e()}},[])}Sr.useOnUnmount=FD;function eS(e){var t=Fo.useMemo(e,[]);return Fo.useRef(t).current}Sr.useStable=eS;function UD(e,t){t===void 0&&(t="useErrorOnUnstableShape");var n=eS(function(){return Object.keys(e)}),r=Object.keys(e);if(!(n.length===r.length&&n.every(function(i,o){return n[o]===r[o]})))throw Error('"'+t+'" must always receive the same object shape/scheme each time (i.e. same property set in same order, so no conditional/dynamic properties)')}Sr.useErrorOnUnstableShape=UD;var Rf={},HD=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.makeContextWithProviderRequired=void 0;var qD=HD(P),$D=function(e){return e===void 0&&(e="UntitledContext"),qD.default.createContext(new Proxy({},{get:function(){throw Error("Consuming the "+e+" is invalid without a provider")}}))};Rf.makeContextWithProviderRequired=$D;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.useAsyncEffect=void 0;var WD=P;function tS(e,t){return new Promise(function(n,r){return WD.useEffect(function(){var i=!1,o,a=function(c){o=c},s=e({isStale:function(){return i},setPerformCancel:a,setCancel:a}),l=function(c){return c!==void 0};return l(s)?s.then(function(){o=void 0,n()}).catch(r):n(),function(){i=!0,o==null||o()}},t)})}ps.useAsyncEffect=tS;ps.default=tS;var Xl={},gs={},VD=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});gs.useInterval=void 0;var Xd=VD(P);function nS(e,t){var n=Xd.default.useRef();Xd.default.useEffect(function(){n.current=e}),Xd.default.useEffect(function(){function r(){typeof(n==null?void 0:n.current)<"u"&&(n==null||n.current())}if(t!==null){var i=setInterval(r,t);return function(){return clearInterval(i)}}return function(){}},[t])}gs.useInterval=nS;gs.default=nS;var KD=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.useAsyncInterval=void 0;var Qy=P,GD=KD(gs);function rS(e,t){var n=Qy.useRef(),r=Qy.useRef(!0);return new Promise(function(i,o){return GD.default(function(){var a;(a=n.current)===null||a===void 0||a.call(n);var s=function(c){n.current=function(){c(),r.current=!0}},l=e({isStale:function(){return r.current},setCancel:s,setPerformCancel:s});l&&l.then(function(){n.current=void 0,r.current=!1,i()}).catch(o)},t)})}Xl.useAsyncInterval=rS;Xl.default=rS;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.useClass=void 0;var Zy=P;function iS(e,t){t===void 0&&(t={});var n=Zy.useRef({}).current;return Object.assign(n,t),Zy.useRef(e(n)).current}eu.useClass=iS;eu.default=iS;var oS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useInlineComponent=void 0;var t=P,n=function(r){return t.useRef(r).current};e.useInlineComponent=n,e.default=e.useInlineComponent})(oS);var w0={},Op=Qe&&Qe.__assign||function(){return Op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Op.apply(this,arguments)},YD=Qe&&Qe.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(h){try{c(r.next(h))}catch(g){a(g)}}function l(h){try{c(r.throw(h))}catch(g){a(g)}}function c(h){h.done?o(h.value):i(h.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},JD=Qe&&Qe.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},QD=Qe&&Qe.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ZD=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(w0,"__esModule",{value:!0});var Xy=P,XD=ZD(ps);function e6(e,t,n){var r=this,i,o=QD(n!==void 0?[t,n]:[!0,t],2),a=o[0],s=o[1],l=Xy.useRef(!1),c=Xy.useRef(),h=!c.current||s.length!==c.current.length||(s==null?void 0:s.some(function(E,k){var C;return s[k]!==((C=c.current)===null||C===void 0?void 0:C[k])}));h&&(l.current=!1);var g=(i=c.current)!==null&&i!==void 0?i:new Array(s.length).fill(void 0),S=XD.default(function(E){return YD(r,void 0,void 0,function(){return JD(this,function(k){return a&&!l.current&&(l.current=!0,e(Op({prev:g},E))),[2]})})});return c.current=s,S}w0.default=e6;var aS={};(function(e){var t=Qe&&Qe.__assign||function(){return t=Object.assign||function(s){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(s[g]=l[g])}return s},t.apply(this,arguments)},n=Qe&&Qe.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var h=c.call(s),g,S=[],E;try{for(;(l===void 0||l-- >0)&&!(g=h.next()).done;)S.push(g.value)}catch(k){E={error:k}}finally{try{g&&!g.done&&(c=h.return)&&c.call(h)}finally{if(E)throw E.error}}return S},r=Qe&&Qe.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.usePropertySetter=e.isAction=void 0;var i=r(P);function o(s){return typeof s=="function"}e.isAction=o;var a=function(s,l){return i.default.useRef(function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var g=n(c,1),S=g[0];return l(function(E){var k,C=o(S)?S(E[s]):S;return t(t({},E),(k={},k[s]=C,k))})}).current};e.usePropertySetter=a,e.default=e.usePropertySetter})(aS);var sS={};(function(e){var t=Qe&&Qe.__assign||function(){return t=Object.assign||function(l){for(var c,h=1,g=arguments.length;h<g;h++){c=arguments[h];for(var S in c)Object.prototype.hasOwnProperty.call(c,S)&&(l[S]=c[S])}return l},t.apply(this,arguments)},n=Qe&&Qe.__read||function(l,c){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var g=h.call(l),S,E=[],k;try{for(;(c===void 0||c-- >0)&&!(S=g.next()).done;)E.push(S.value)}catch(C){k={error:C}}finally{try{S&&!S.done&&(h=g.return)&&h.call(g)}finally{if(k)throw k.error}}return E};Object.defineProperty(e,"__esModule",{value:!0}),e.InputStatus=e.useValidatedInput=void 0;var r=P;function i(l,c){c=t({parse:s,pattern:a},c);var h=n(r.useState(l??""),2),g=h[0],S=h[1],E=n(r.useMemo(function(){if(c!=null&&c.pattern&&!c.pattern.test(g))return[null,c.pattern===a?"invalid number":"invalid format"];var x=c.parse(g);if(c.validate&&x.value!==null){var w=c.validate(x.value);if(!w.valid)return[null,w.status]}return[x.value,x.status]},[g,c==null?void 0:c.parse,c==null?void 0:c.pattern,c==null?void 0:c.validate]),2),k=E[0],C=E[1],R=k!==null?o.Success:o.Error;return[k,g,S,R,C]}e.useValidatedInput=i;var o;(function(l){l.Success="success",l.Warning="warning",l.Error="error"})(o=e.InputStatus||(e.InputStatus={}));var a=/^-?(0|[1-9]\d*)(\.\d+)?$/i,s=function(l){var c=parseFloat(l);return Number.isNaN(c)?{value:null,status:"invalid number"}:{value:c}};e.default=i})(sS);var _0={},t6=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_0,"__esModule",{value:!0});var n6=t6(P);function r6(e,t){n6.default.useEffect(function(){function n(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,t])}_0.default=r6;var os={},lS=Qe&&Qe.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},i6=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(os,"__esModule",{value:!0});os.useScrolling=os.useMediaQuery=void 0;var Wc=i6(P),o6=function(e){var t=window.matchMedia(e),n=lS(Wc.default.useState(t.matches),2),r=n[0],i=n[1];return Wc.default.useEffect(function(){var o=function(a){return i(a.matches)};return t.addListener(o),function(){return t.removeListener(o)}}),r};os.useMediaQuery=o6;var a6=function(e){var t=lS(Wc.default.useState(!1),2),n=t[0],r=t[1];return Wc.default.useEffect(function(){var i=!1,o,a=function(){o&&clearTimeout(o),r(!0),i||(o=setTimeout(function(){return r(!1)},250))},s=function(){i=!0},l=function(c){i=c.touches.length!==0,i||r(!1)};if(e)return e.addEventListener("scroll",a),e.addEventListener("touchstart",s),e.addEventListener("touchend",l),function(){e.removeEventListener("scroll",a),e.removeEventListener("touchstart",s),e.removeEventListener("touchend",l)}},[e]),n};os.useScrolling=a6;var uS={};(function(e){var t=Qe&&Qe.__assign||function(){return t=Object.assign||function(g){for(var S,E=1,k=arguments.length;E<k;E++){S=arguments[E];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(g[C]=S[C])}return g},t.apply(this,arguments)},n=Qe&&Qe.__createBinding||(Object.create?function(g,S,E,k){k===void 0&&(k=E),Object.defineProperty(g,k,{enumerable:!0,get:function(){return S[E]}})}:function(g,S,E,k){k===void 0&&(k=E),g[k]=S[E]}),r=Qe&&Qe.__setModuleDefault||(Object.create?function(g,S){Object.defineProperty(g,"default",{enumerable:!0,value:S})}:function(g,S){g.default=S}),i=Qe&&Qe.__importStar||function(g){if(g&&g.__esModule)return g;var S={};if(g!=null)for(var E in g)E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)&&n(S,g,E);return r(S,g),S},o=Qe&&Qe.__read||function(g,S){var E=typeof Symbol=="function"&&g[Symbol.iterator];if(!E)return g;var k=E.call(g),C,R=[],x;try{for(;(S===void 0||S-- >0)&&!(C=k.next()).done;)R.push(C.value)}catch(w){x={error:w}}finally{try{C&&!C.done&&(E=k.return)&&E.call(k)}finally{if(x)throw x.error}}return R};Object.defineProperty(e,"__esModule",{value:!0}),e.openUrlInNewTab=e.useHelp=e.HelpContextProvider=e.HelpContext=void 0;var a=i(P),s={baseUrl:"",pushHelp:function(){},popHelp:function(){},showHelp:function(){},replaceHelp:function(){return!1}};e.HelpContext=a.createContext(s);function l(g){var S=g.baseUrl,E=g.fallbackTopic,k=g.requestHelp,C=g.children,R=a.useRef([E]),x=a.useCallback(function(){var b=R.current[R.current.length-1],N=typeof b=="function"?b():b;k(S,N)},[S,k]),w=o(a.useState(t(t({},s),{baseUrl:S,pushHelp:d,popHelp:y,showHelp:x,replaceHelp:m})),1),_=w[0];function d(b){R.current.push(b)}function y(){R.current.pop(),R.current.length===0&&(console.warn("HelpTopic Stack not expected to be empty"),R.current.push(E))}function m(b){R.current[R.current.length-1]=b}return a.useEffect(function(){var b=function(N){N.isComposing||N.keyCode===229||N.key==="F1"&&(N.preventDefault(),x())};return document.addEventListener("keydown",b),function(){return document.removeEventListener("keydown",b)}},[x]),a.default.createElement(e.HelpContext.Provider,{value:_},C)}e.HelpContextProvider=l;function c(g){var S=a.useContext(e.HelpContext),E=S.pushHelp,k=S.popHelp,C=S.replaceHelp;return a.useEffect(function(){return E(g),function(){return k()}},[k,E,g]),C}e.useHelp=c;function h(g){var S=window.open(g,"_blank");S!==null&&(S.opener=null)}e.openUrlInNewTab=h})(uS);(function(e){var t=Qe&&Qe.__createBinding||(Object.create?function(C,R,x,w){w===void 0&&(w=x),Object.defineProperty(C,w,{enumerable:!0,get:function(){return R[x]}})}:function(C,R,x,w){w===void 0&&(w=x),C[w]=R[x]}),n=Qe&&Qe.__exportStar||function(C,R){for(var x in C)x!=="default"&&!Object.prototype.hasOwnProperty.call(R,x)&&t(R,C,x)},r=Qe&&Qe.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.useOnExternalClick=e.useValidatedInput=e.usePropertySetter=e.useOnChange=e.useInterval=e.useInlineComponent=e.useClass=e.useAsyncInterval=e.useAsyncEffect=e.makeContextWithProviderRequired=e.useStable=e.useOnUnmount=e.useOnMountInRenderOrder=e.useOnMount=void 0;var i=Sr;Object.defineProperty(e,"useOnMount",{enumerable:!0,get:function(){return i.useOnMount}}),Object.defineProperty(e,"useOnMountInRenderOrder",{enumerable:!0,get:function(){return i.useOnMountInRenderOrder}}),Object.defineProperty(e,"useOnUnmount",{enumerable:!0,get:function(){return i.useOnUnmount}}),Object.defineProperty(e,"useStable",{enumerable:!0,get:function(){return i.useStable}});var o=Rf;Object.defineProperty(e,"makeContextWithProviderRequired",{enumerable:!0,get:function(){return o.makeContextWithProviderRequired}});var a=ps;Object.defineProperty(e,"useAsyncEffect",{enumerable:!0,get:function(){return r(a).default}});var s=Xl;Object.defineProperty(e,"useAsyncInterval",{enumerable:!0,get:function(){return r(s).default}});var l=eu;Object.defineProperty(e,"useClass",{enumerable:!0,get:function(){return r(l).default}});var c=oS;Object.defineProperty(e,"useInlineComponent",{enumerable:!0,get:function(){return r(c).default}});var h=gs;Object.defineProperty(e,"useInterval",{enumerable:!0,get:function(){return r(h).default}});var g=w0;Object.defineProperty(e,"useOnChange",{enumerable:!0,get:function(){return r(g).default}});var S=aS;Object.defineProperty(e,"usePropertySetter",{enumerable:!0,get:function(){return r(S).default}});var E=sS;Object.defineProperty(e,"useValidatedInput",{enumerable:!0,get:function(){return r(E).default}});var k=_0;Object.defineProperty(e,"useOnExternalClick",{enumerable:!0,get:function(){return r(k).default}}),n(os,e),n(uS,e)})(Si);function cS(e){const t=Nr(h=>h.participants),{onSelectParticipant:n,getParticipantTitle:r,onExternalClick:i,onDragParticipantEnd:o,header:a,...s}=e,l=e.getParticipantTitle??((h,g)=>h.name+`
Click (or drag) to place a new line from this participant`),c=Me.useRef(null);return Si.useOnExternalClick(c,e.onExternalClick??(()=>{})),ae("div",{className:"alternis__floatingbox",ref:c,...s,children:[T("strong",{children:e.header??"Pick a participant"}),ae("div",{style:{height:"max-content",width:300,overflow:"scroll",marginTop:"var(--gap)"},children:[T(BD,{size:"small",cells:t.map((h,g)=>({key:h.name,content:T("div",{...pt(Xs.portraitImage,"alternis__hoverable","alternis__draggable","alternis__center"),onClick:()=>{var S;return(S=e.onSelectParticipant)==null?void 0:S.call(e,h,g)},title:l(h,g),children:T("img",{src:h.portraitUrl,alt:h.name,onDragStart:S=>{S.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"participants",data:h,id:String(g)})),S.dataTransfer.effectAllowed="move"},onDragEnd:S=>{var E;return(E=e.onDragParticipantEnd)==null?void 0:E.call(e,h,g,S)}})},h.name)}))}),t.length===0&&T("span",{children:"You haven't added a participant yet"})]})]})}function s6(e){const t=Nr(g=>g.functions),{onSelectFunction:n,getTitle:r,onExternalClick:i,onDragFunctionEnd:o,header:a,...s}=e,l=e.getTitle??(g=>g+`
Click (or drag) to place a emit event for this function`),c=Me.useRef(null);Si.useOnExternalClick(c,e.onExternalClick??(()=>{}));const h=Me.useMemo(()=>Object.entries(t),[t]);return ae("div",{className:"alternis__floatingbox",ref:c,...s,children:[T("strong",{children:e.header??"Pick a function"}),ae("div",{style:{height:"max-content",minWidth:200,width:"fit-content",overflow:"scroll",marginTop:"var(--gap)"},children:[h.map(([g,S])=>T("div",{...pt("alternis__hoverable","alternis__draggable"),onClick:()=>{var E;return(E=e.onSelectFunction)==null?void 0:E.call(e,g)},title:l(g),children:T("div",{draggable:!0,onDragStart:E=>{console.log("started!"),E.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"functions",data:S,id:g})),E.dataTransfer.effectAllowed="move"},onDragEnd:E=>{var k;return(k=e.onDragFunctionEnd)==null?void 0:k.call(e,g,E)},children:g})},g)),h.length===0&&T("span",{children:"You haven't added a function yet"})]})]})}function l6(e){const t=Nr(g=>g.variables),{onSelectVariable:n,getTitle:r,onExternalClick:i,onDragVariableEnd:o,header:a,...s}=e,l=e.getTitle??(g=>g+`
Drag text variables into text to add to that text.
Drag and drop true/false variables to make a lock node`),c=Me.useRef(null);Si.useOnExternalClick(c,e.onExternalClick??(()=>{}));const h=Me.useMemo(()=>Object.entries(t),[t]);return ae("div",{className:"alternis__floatingbox",ref:c,...s,children:[T("strong",{children:e.header??"Pick a variable"}),ae("div",{style:{height:"max-content",minWidth:200,width:"fit-content",overflow:"scroll",marginTop:"var(--gap)"},children:[h.map(([g,S])=>T("div",{...pt("alternis__hoverable","alternis__draggable"),onClick:()=>{var E;return(E=e.onSelectVariable)==null?void 0:E.call(e,g)},title:l(g),children:T("div",{draggable:!0,onDragStart:E=>{console.log("started!"),E.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"variables",data:S,id:g})),E.dataTransfer.effectAllowed="move"},onDragEnd:E=>{var k;return(k=e.onDragVariableEnd)==null?void 0:k.call(e,g,E)},children:g})},g)),h.length===0&&T("span",{children:"You haven't added a variable yet"})]})]})}const u6="_select_1gbkf_1",c6={select:u6},fS=e=>T("select",{...e,...pt(c6.select,e.className)});function e1(e,t){const n=P.useRef(new Array(t.length).fill(void 0));P.useEffect(()=>{n.current=t});const r=n.current;$t(r===void 0||r.length===t.length,"changed amount of params!"),P.useEffect(()=>e(r),t)}const f6=e=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},P.createElement("g",{className:"",style:{},transform:"translate(0,0)"},P.createElement("path",{d:"M333.78 20.188c-39.97 0-79.96 15.212-110.405 45.656-58.667 58.667-60.796 152.72-6.406 213.97l-15.782 15.748 13.25 13.25 15.75-15.78c61.248 54.39 155.3 52.26 213.968-6.407 60.887-60.886 60.888-159.894 0-220.78C413.713 35.4 373.753 20.187 333.78 20.187zm0 18.562c35.15 0 70.285 13.44 97.158 40.313 53.745 53.745 53.744 140.6 0 194.343-51.526 51.526-133.46 53.643-187.5 6.375l.218-.217c-2.35-2.05-4.668-4.17-6.906-6.407-2.207-2.206-4.288-4.496-6.313-6.812l-.218.22c-47.27-54.04-45.152-135.976 6.374-187.502C263.467 52.19 298.63 38.75 333.78 38.75zm0 18.813c-30.31 0-60.63 11.6-83.81 34.78-46.362 46.362-46.362 121.234 0 167.594 10.14 10.142 21.632 18.077 33.905 23.782-24.91-19.087-40.97-49.133-40.97-82.94 0-15.323 3.292-29.888 9.22-43-4.165 20.485.44 40.88 14.47 54.907 24.583 24.585 68.744 20.318 98.624-9.562 29.88-29.88 34.146-74.04 9.56-98.625-2.375-2.376-4.943-4.473-7.655-6.313 45.13 8.648 79.954 46.345 84.25 92.876 4.44-35.07-6.82-71.726-33.813-98.72-23.18-23.18-53.47-34.78-83.78-34.78zM176.907 297.688L42.094 432.5l34.562 34.563L211.47 332.25l-34.564-34.563zM40 456.813L24 472.78 37.22 486l15.968-16L40 456.812z",fill:"#fff",fillOpacity:1})));function d6(e){return Me.useMemo(()=>{if(e===void 0)return e;const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*");return new RegExp(n,"sgi")},[e])}function h6(){const[e,t]=Me.useState(!1),[n,r]=Me.useState(),i=d6(n),o=fs(),a=Me.useMemo(()=>{var k;if(i===void 0)return[];const g=[],S={dialogueEntry:(C,R)=>{C.test(R.data.text)&&g.push(R)},playerReplies:(C,R)=>{R.data.replies.some(x=>C.test(x.text))&&g.push(R)}},E=bn();for(const C of(E==null?void 0:E.nodes)??[])C.type!==void 0&&((k=S[C.type])==null||k.call(S,i,C));return g},[i]),[s,l]=Me.useState(),c=Me.useRef(null);Me.useEffect(()=>{var g;e&&((g=c.current)==null||g.focus())},[e]);const h=Me.useMemo(()=>s!==void 0?a[s]:void 0,[a,s]);return e1(([g])=>{const S=g!==void 0&&g.length>0,E=a.length>0;!S&&E&&l(0),S&&!E&&l(void 0)},[a]),e1(([g])=>{g!==h&&h&&o.setCenter(h.position.x,h.position.y,{duration:.7})},[h]),ae(_t,{children:[T("button",{className:"alternis__toolBtn alternis__hoverable",onClick:()=>t(g=>!g),children:T(f6,{width:20,height:20,className:"alternis__center"})}),e&&ae("div",{style:{position:"absolute",top:"100%",right:0},children:[T("input",{ref:c,placeholder:"search node text",value:n??"",onChange:g=>r(g.currentTarget.value)}),T("button",{style:{height:25,width:25},className:"alternis__toolBtn",disabled:s===void 0,onClick:()=>s!==void 0&&l(g=>g===void 0?void 0:g===0?a.length-1:g-1),children:T("strong",{children:"<"})}),T("button",{style:{height:25,width:25},className:"alternis__toolBtn",disabled:s===void 0,onClick:()=>s!==void 0&&l(g=>g===void 0?void 0:g===a.length-1?0:g+1),children:T("strong",{children:">"})}),ae("span",{children:[(s??-1)+1,"/",a.length]})]})]})}const p6=/^-?(0|[1-9]\d*)(\.\d+)?$/i,g6=e=>{const t=parseFloat(e);return Number.isNaN(t)?{value:null,status:"invalid number"}:{value:t}},m6={parse:g6,pattern:{regex:p6,mismatchMessage:"invalid number"}};function dS(e,t=m6){var s,l;const[n,r]=P.useState(e??""),[i,o]=P.useMemo(()=>{if(t&&"pattern"in t&&t.pattern&&!t.pattern.regex.test(n))return[null,t.pattern.mismatchMessage];const c=g=>({value:g,status:void 0}),h=(t.parse??c)(n);if(t&&"validate"in t&&h.value!==null){const g=t.validate(h.value);if(!g.valid)return[null,g.status]}return[h.value,h.status]},[n,t==null?void 0:t.parse,"pattern"in t&&((s=t==null?void 0:t.pattern)==null?void 0:s.regex.source),"pattern"in t&&((l=t==null?void 0:t.pattern)==null?void 0:l.mismatchMessage),"validate"in t&&(t==null?void 0:t.validate)]),a=i!==null?Fl.Success:Fl.Error;return[i,n,r,a,o]}var Fl=(e=>(e.Success="success",e.Warning="warning",e.Error="error",e))(Fl||{});function v6(){const e=P.useRef({pageX:0,pageY:0});return P.useEffect(()=>{const t=n=>{e.current={pageX:n.pageX,pageY:n.pageY}};return document.addEventListener("mousemove",t),()=>document.removeEventListener("mousemove",t)}),{position:e}}function t1(e){return`${(e.map(n=>+n.id).filter(n=>!Number.isNaN(n)).reduce((n,r)=>n>r?n:r,0)??0)+1}`}function y6(e){const t=Me.useRef(),n=Me.useRef();l8({onChange:i=>n.current={nodes:i.nodes,edges:i.edges}});const r=fs();v6(),P.useEffect(()=>{const i=o=>{var g,S;const a=E=>h0?o.metaKey:o.ctrlKey,s=o.key==="c"&&a(),l=o.key==="x"&&a(),c=o.key==="v"&&a();if(!s&&!l&&!c)return;const h=()=>t.current=n.current;if(s)h();else if(l){const E=new Set((g=t.current)==null?void 0:g.edges.map(C=>C.id)),k=new Set((S=t.current)==null?void 0:S.nodes.map(C=>C.id));h(),bn.setState(C=>({nodes:C.nodes.filter(R=>!k.has(R.id)),edges:C.edges.filter(R=>!E.has(R.id))}))}else c&&bn.setState(E=>{if(n.current===void 0)return E;let k=new Map,C=new Map;{let x=+t1(E.nodes);for(const{id:_}of n.current.nodes)k.set(_,String(x++));let w=+t1(E.edges);for(const{id:_}of n.current.edges)C.set(_,String(w++))}const R=x=>{const w=x.indexOf("_");$t(w!==-1,`encountered an invalid node handle: '${x}'`);const _=x.slice(0,w),d=k.get(_);if(d!==void 0)return`${d}_${x.slice(w+1)}`};return n.current.nodes.reduce((x,w)=>Math.min(w.position.x,x),Number.POSITIVE_INFINITY),n.current.nodes.reduce((x,w)=>Math.min(w.position.y,x),Number.POSITIVE_INFINITY),{nodes:E.nodes.concat(n.current.nodes.map(x=>({...x,id:k.get(x.id),position:{x:x.position.x+200,y:x.position.y+200}}))),edges:E.edges.concat(n.current.edges.map(x=>({...x,id:C.get(x.id),source:k.get(x.source)??x.source,target:k.get(x.target)??x.target,sourceHandle:x.sourceHandle&&R(x.sourceHandle)||x.sourceHandle,targetHandle:x.targetHandle&&R(x.targetHandle)||x.targetHandle})))}})};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[r])}function Rr(e){const{nodeId:t,index:n,...r}=e;return T(Ll,{"data-tut-id":"node-handle",id:`${t}_${e.type}_${n}`,...r,...pt(It.handle,e.className),style:{...e.style}})}const n1="Can't be empty",hS=Me.forwardRef((e,t)=>{const{initialValue:n,valueLabel:r,takenSet:i,onChange:o,inputClassName:a,...s}=e,[l,c,h,g,S]=dS(n,{parse:k=>({value:k}),validate(k){return k===""?{valid:!1,status:n1}:i.includes(k)?{valid:!1,status:`The ${r??"value"} '${k}' already exists`}:{valid:!0}}});P.useEffect(()=>{l!==null&&(o==null||o(l))},[l]);const E=g!==Fl.Success&&S!==n1;return ae("div",{...s,children:[T("div",{...pt(E&&"alternis__invalidInputMessage"),children:E&&S}),T("input",{value:c,onChange:k=>h(k.currentTarget.value),...pt(E&&"alternis__invalidInput",a),style:{width:"100%"},ref:t})]})}),w6="_dialogueViewer_1slnr_1",_6="_speaker_1slnr_15",x6="_line_1slnr_21",S6="_dialogueButton_1slnr_26",E6="_nextButton_1slnr_34",b6="_options_1slnr_38",k6="_playButton_1slnr_44",C6="_stopButton_1slnr_58",Mr={dialogueViewer:w6,speaker:_6,line:x6,dialogueButton:S6,nextButton:E6,options:b6,playButton:k6,stopButton:C6},A6="modulepreload",R6=function(e){return"/app/"+e},r1={},i1=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=R6(o),o in r1)return;r1[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const g=i[h];if(g.href===o&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":A6,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function N6(){return new Worker("/app/assets/worker-dca19dc9.js",{type:"module"})}let Fu;async function T6(){if(!Fu)if("Worker"in globalThis){const e=new N6;Fu={addEventListener:(...t)=>e.addEventListener(...t),removeEventListener:(...t)=>e.removeEventListener(...t),postMessage:(...t)=>e.postMessage(...t)}}else{globalThis.self={location:import.meta.url};const e=await i1(()=>Promise.resolve().then(()=>d2),void 0).then(r=>r.Worker),t=await i1(()=>import("./worker-0f99efd1.js"),[]),n=new e(t.default,{name:"AlternisWasmWorker"});delete globalThis.self,Fu={addEventListener:(...r)=>n.addListener(...r),removeEventListener:(...r)=>n.removeListener(...r),postMessage:(...r)=>n.postMessage(...r)}}return Fu}let O6=0;const P6=()=>O6++;async function fa(e){const t=await T6();return new Promise((n,r)=>{const i=P6(),o=a=>{a.data.id===i&&(t.removeEventListener("message",o),a.data.error?r(a.data.error):n(a.data.result))};t.addEventListener("message",o),t.postMessage({...e,id:i})})}async function D6(...e){const t=await fa({type:"makeDialogueContext",args:e});return{async step(n){return await fa({type:"DialogueContext.step",ptr:t.ptr,args:[n]})},async reset(n,r=0){return fa({type:"DialogueContext.reset",ptr:t.ptr,args:[n,r]})},async reply(n,r){return fa({type:"DialogueContext.reply",ptr:t.ptr,args:[n,r]})},async getNodeByLabel(n,r){return fa({type:"DialogueContext.getNodeByLabel",ptr:t.ptr,args:[n,r]})},async dispose(){return fa({type:"DialogueContext.dispose",ptr:t.ptr})}}}async function I6(){const e=it.getState().projectId;if(e===void 0)throw Error("no project set");const t=await yt.get(e);return pS(t)}function pS(e){return{version:1,entryId:0,dialogues:Object.fromEntries(Object.entries(e.dialogues).map(([n,r])=>{const i=[],o=new Map(r.nodes.map(k=>[k.id,k])),a=new Map;for(const k of r.edges){$t(k.sourceHandle&&k.targetHandle);const[C,R,x]=k.sourceHandle.split("_"),[w,_,d]=k.targetHandle.split("_"),y=R==="target",[m,b,N]=y?[w,C,+d]:[C,w,+x];$t(!Number.isNaN(m)&&!Number.isNaN(b)&&!Number.isNaN(N),"invalid connection found");let D=a.get(m);D===void 0&&(D=[],a.set(m,D)),D[N]=b}const s=r.nodes.find(k=>k.type==="entry");$t(s);const l=new Map,c=k=>{let C=l.get(k);return C===void 0&&(C=l.size+1,l.set(k,C)),C};function h(k){var x;if(k===void 0)return;const C=o.get(k);$t(C,"bad node id");const R=C.type==="goto"?(x=r.nodes.find(w=>{var _;return((_=w.data)==null?void 0:_.label)&&w.data.label===C.data.target}))==null?void 0:x.id:k;return $t(R,`invalid raw next id, probably a bad goto label: '${C.data.target}'`),c(R)}const g={entry:{data(){},visit(k,C){const R=o.get(C.outputs[0]);R&&E(R.id)}},dialogueEntry:{data(k,C){const R=k.data,x={line:{data:{speaker:e.participants[R.speakerIndex].name,text:R.text,metadata:R.customData}}};return C.pushNode(x),x},visit(k,C){const R=o.get(C.outputs[0]);R&&(k.line.next=h(R.id),E(R.id))}},randomSwitch:{data(k,C){const R=k.data,x={random_switch:{nexts:[],chances:R.proportions}};return C.pushNode(x),x},visit(k,C){for(const R of C.outputs){const x=o.get(R);x&&(k.random_switch.nexts.push(h(x.id)),E(x.id))}}},playerReplies:{data(k,C){const R=k.data,x={reply:{nexts:[],texts:R.replies.map(w=>({text:w.text,speaker:R.speaker!==void 0&&e.participants[R.speaker].name,metadata:void 0})),conditions:R.replies.map(w=>({action:w.condition,variable:w.lockVariable}))}};return C.pushNode(x),x},visit(k,C){for(const R of C.outputs){const x=o.get(R);x&&(k.reply.nexts.push(h(x.id)),E(x.id))}}},lockNode:{data(k,C){const R=k.data,x={[R.action]:{boolean_var_name:R.variable}};return C.pushNode(x),x},visit(k,C){const R=o.get(C.outputs[0]),x="lock"in k?"lock":"unlock";R&&(k[x].next=h(R.id),E(R.id))}},emitNode:{data(k,C){const x={call:{function_name:k.data.function}};return C.pushNode(x),x},visit(k,C){const R=o.get(C.outputs[0]);R&&(k.call.next=h(R.id),E(R.id))}},goto:{data(){}},default:{data(k){$t(!1,`unknown node: ${k.id}`)}}},S=new Set;function E(k){var _;if(S.has(k))return;S.add(k);const C=o.get(k);$t(C,"bad node id");const R=C.type,x=a.get(k)??[],w=d=>i.push(d);if(R!==void 0&&(R in g||C.type==="entry")){const d=g[R],y=d.data(C,{outputs:x,pushNode:w});(_=d.visit)==null||_.call(d,y,{outputs:x})}else $t(!1,`unknown node type: ${R}`)}return E(s.id),[n,{nodes:i}]})),participants:e.participants.map(n=>({name:n.name})),functions:Object.entries(e.functions).map(([n])=>({name:n})),variables:{boolean:Object.entries(e.variables).filter(([,n])=>n.type==="boolean").map(([n])=>({name:n})),string:Object.entries(e.variables).filter(([,n])=>n.type==="string").map(([n])=>({name:n}))}}}var M6="Expected a function",o1=0/0,L6="[object Symbol]",B6=/^\s+|\s+$/g,j6=/^[-+]0x[0-9a-f]+$/i,z6=/^0b[01]+$/i,F6=/^0o[0-7]+$/i,U6=parseInt,H6=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,q6=typeof self=="object"&&self&&self.Object===Object&&self,$6=H6||q6||Function("return this")(),W6=Object.prototype,V6=W6.toString,K6=Math.max,G6=Math.min,eh=function(){return $6.Date.now()};function Y6(e,t,n){var r,i,o,a,s,l,c=0,h=!1,g=!1,S=!0;if(typeof e!="function")throw new TypeError(M6);t=a1(t)||0,Pp(n)&&(h=!!n.leading,g="maxWait"in n,o=g?K6(a1(n.maxWait)||0,t):o,S="trailing"in n?!!n.trailing:S);function E(m){var b=r,N=i;return r=i=void 0,c=m,a=e.apply(N,b),a}function k(m){return c=m,s=setTimeout(x,t),h?E(m):a}function C(m){var b=m-l,N=m-c,D=t-b;return g?G6(D,o-N):D}function R(m){var b=m-l,N=m-c;return l===void 0||b>=t||b<0||g&&N>=o}function x(){var m=eh();if(R(m))return w(m);s=setTimeout(x,C(m))}function w(m){return s=void 0,S&&r?E(m):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function d(){return s===void 0?a:w(eh())}function y(){var m=eh(),b=R(m);if(r=arguments,i=this,l=m,b){if(s===void 0)return k(l);if(g)return s=setTimeout(x,t),E(l)}return s===void 0&&(s=setTimeout(x,t)),a}return y.cancel=_,y.flush=d,y}function Pp(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function J6(e){return!!e&&typeof e=="object"}function Q6(e){return typeof e=="symbol"||J6(e)&&V6.call(e)==L6}function a1(e){if(typeof e=="number")return e;if(Q6(e))return o1;if(Pp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(B6,"");var n=z6.test(e);return n||F6.test(e)?U6(e.slice(2),n?2:8):j6.test(e)?o1:+e}var Z6=Y6;const X6=Z6(async e=>{const t=Vc.getState().dialogueCtx,n=e!==void 0?await D6(e):void 0;t!==void 0&&t.dispose(),Vc.setState(r=>({...r,dialogueCtx:n}))},400),Vc=us()(e=>({dialogueCtx:void 0,setDialogueCtx:X6}));function gS(e){const t=Vc(n=>n.setDialogueCtx);return e!==void 0&&t(e),Vc(n=>n.dialogueCtx)}function eI(e){const t=Nr(),n=it(h=>h.currentDialogueId),r=t.dialogues,i=Object.keys(r).findIndex(h=>h===n);$t(i!==void 0);const o=P.useMemo(()=>{try{return JSON.stringify(pS(t))}catch(h){console.error(h);return}},[t]),a=gS(o),[s,l]=P.useState(),c=e;return a===void 0?T("em",{children:"playback error"}):T("div",{"data-tut-id":"dialogue-playback",...c,...pt(Mr.dialogueViewer,c.className),children:s?ae(_t,{children:[T("div",{title:"Stop dialogue",onClick:async()=>{a&&await a.reset(i,0),l(void 0)},children:T("svg",{height:"30px",width:"30px",viewBox:"0 0 10 10",children:T("rect",{...pt(Mr.stopButton),x:0,y:0,width:10,height:10,rx:2})})}),"line"in s?ae(_t,{children:[ae("div",{className:Mr.line,children:[T("h4",{className:Mr.speaker,children:s.line.speaker}),T("div",{children:T("span",{children:s.line.text})})]}),T("button",{...pt(Mr.dialogueButton,Mr.nextButton),onClick:async()=>{a&&l(await a.step(i))},children:"next"})]}):"options"in s?T("div",{className:Mr.options,children:s.options.map((h,g)=>T("div",{className:Mr.options,children:T("button",{onClick:async()=>{a&&(await a.reply(i,g),l(await a.step(i)))},className:Mr.dialogueButton,children:h.text})},h.id))}):"done"in s?ae("svg",{height:"50px",width:"50px",viewBox:"-3 -3 16 16",children:[T("path",{...pt(Mr.playButton,"alternis__hover"),d:"M0 0 l0 10 l10 -5 l-10 -5"}),T("circle",{rx:5,ry:5,cx:5,cy:5})]}):$t(!1,"unreachable, unknown dialogue state")]}):T("div",{title:"Start dialogue",onClick:async()=>{a&&l(await a.step(i))},children:T("svg",{height:"30px",width:"30px",viewBox:"-3 -3 16 16",children:T("path",{...pt(Mr.playButton,"alternis__hover"),d:"M0 0 l0 10 l10 -5 l-10 -5"})})})})}const tI=e=>{const t=bn(s=>s.nodes),n=P.useMemo(()=>t.filter(s=>{var l;return((l=s.data)==null?void 0:l.label)&&s.id!==e.id}),[t]),r=P.useMemo(()=>n.map(s=>s.data.label),[n]),i=Me.useRef(null);Me.useMemo(()=>t.findIndex(s=>s.id===e.id),[t,e.id]),gS();const o=it(s=>s.currentDialogueId),a=Nr(s=>s.dialogues);return Object.keys(a).findIndex(s=>s===o),ae("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[!1,T("div",{className:"alternis__floatup",children:T(hS,{initialValue:e.data.label,takenSet:r,style:{width:e.data.label?"fit-content":5},className:"nodrag",onChange:s=>e.set({label:s||void 0}),inputClassName:It.nodeLabelInput,ref:i})}),T("button",{title:`Click to set this node's label (#${e.id})`,onClick:()=>{var s;(s=i.current)==null||s.focus()},...pt(It.nodeLabelFocusButton,"alternis__hoverable"),style:{display:e.data.label?"none":void 0},children:"#"})]})},ea=e=>{var E,k;const t=(E=D2(e.id))==null?void 0:E.data,n=fo(e.id),r=P.useMemo(()=>{var C;return((C=t==null?void 0:t.customData)==null?void 0:C.map(([R])=>R))??[]},[t==null?void 0:t.customData]),{id:i,children:o,showMoreContent:a,noLabel:s,noMetadata:l,...c}=e,[h,g]=Me.useState(!1),S=Me.useMemo(()=>[{id:"delete",onSelect:()=>bn.setState(C=>({nodes:C.nodes.filter(R=>R.id!==i)}))}],[]);return t?ae(_t,{children:[ae("div",{"data-tut-id":t.label&&`node-${t.label}`,...c,...pt(It.node,c.className),style:{width:"max-content",...c.style},children:[T(tI,{id:e.id,type:e.type,data:t,set:n}),o,(a||!s)&&T(jt,{title:"Click to toggle details",...pt(It.entryNodeShowMoreIndicator,"alternis__hoverable"),onClick:()=>g(C=>!C),children:T("strong",{style:{display:"block",width:"100%",textAlign:"center"},children:T("svg",{viewBox:"-5 -5 15 15",height:"15px",width:"30px",strokeWidth:"2px",strokeLinecap:"round",style:{transform:h?"scale(1, -1)":void 0,stroke:"white",fill:"none"},className:"alternis__hoverable",children:T("path",{d:"M0 0 l5 5 l5 -5"})})})}),h&&a,h&&!l&&ae("div",{children:[T("div",{children:ae("label",{className:"alternis__split",children:[T("span",{title:"Set custom key/value pairs for this node",children:"custom properties"}),T("button",{title:"Add a new custom property to this node",...pt("alternis__hoverable","alternis__toolBtn","alternis__newButton"),onClick:()=>{n(C=>{var R;return{customData:(C.customData??[]).concat([[`property${(((R=C.customData)==null?void 0:R.length)??0)+1}`,"value"]])}})},children:T(jt,{children:"+"})})]})}),(k=t.customData)==null?void 0:k.map(([C,R],x)=>ae("div",{className:"alternis__split",children:[T(hS,{initialValue:C,takenSet:r.filter(w=>w!==C),style:{maxWidth:100},className:"nodrag",onChange:w=>n(_=>{var d;return{customData:(d=_.customData)==null?void 0:d.map(([y,m],b)=>[b===x?w:y,m])}}),valueLabel:"property"}),T("input",{value:R,onChange:w=>n(_=>{var d;return{customData:(d=_.customData)==null?void 0:d.map(([y,m],b)=>[y,b===x?w.currentTarget.value:m])}})})]},C))]})]}),T(X2,{options:S})]}):null};function nI(e){var o;const n=bn(a=>a.nodes).filter(a=>{var s;return(s=a.data)==null?void 0:s.label}).map(a=>{var s;return(s=a.data)==null?void 0:s.label}),r=(o=D2(e.id))==null?void 0:o.data,i=fo(e.id);return ae(ea,{type:"goto",id:e.id,"data-tut-id":"node-goto",title:"A Goto node jumps to any labeled node",noLabel:!0,children:[T(Rr,{nodeId:e.id,index:0,type:"target",position:Pe.Left,className:It.handle,isConnectable:!0}),T(jt,{children:T("span",{style:{fontSize:"4rem",fontWeight:"bold"},children:""})}),ae("label",{children:["go to label",T("select",{value:r==null?void 0:r.target,onChange:a=>i(()=>({target:a.currentTarget.value})),style:{maxWidth:150},children:n.map(a=>T("option",{value:a,children:a},a))})]})]})}const rI={proportions:[1,1]},iI={speaker:void 0,replies:[{text:"",lockVariable:void 0,condition:"none"}]},oI="_root_133a3_2",aI="_dialog_133a3_11",sI="_prev_133a3_22",lI="_next_133a3_28",uI="_earlyExitBtn_133a3_34",Hs={root:oI,dialog:aI,prev:sI,next:lI,earlyExitBtn:uI};function cI(e){$t(e.data.steps.length>=2,"tutorials must have at least two steps!");const t=e.highlightClass??"alternis__tutorial-highlighted",{open:n,setOpen:r}=e,[i,o]=P.useState(0),a=e.data.steps[i],s=i===e.data.steps.length-1;P.useEffect(()=>{var E;if(!n)return;(E=a==null?void 0:a.onReached)==null||E.call(a);let g;const S=setTimeout(()=>{var k;g=(k=a.highlightedTutIds)==null?void 0:k.map(C=>document.querySelectorAll(`[data-tut-id="${C}"]`));for(const C of g??[])for(let R=0;R<C.length;++R)C[R].classList.add(t)},10);return()=>{clearTimeout(S);for(const k of g??[])for(let C=0;C<k.length;++C)k[C].classList.remove(t)}},[i,a,n]);const l=i===e.data.steps.length-1,c=()=>{var g;r(!1),(g=e.onClose)==null||g.call(e)},h=P.useRef(null);return T("div",{...pt(Hs.root,"alternis__center"),children:ae("dialog",{className:Hs.dialog,open:n,children:[i===0&&T(jt,{children:T("h3",{children:e.data.name})}),T(jt,{children:a.body}),i!==0&&T("button",{className:Hs.prev,onClick:()=>o(g=>g-1),children:"previous"}),!a.noCloseButton&&!s&&T("button",{className:Hs.earlyExitBtn,onClick:c,children:"exit tutorial"}),T("button",{className:Hs.next,onClick:()=>{var g;l?c():(o(S=>S+1),(g=h.current)==null||g.focus())},children:l?"exit tutorial":"next"})]})})}const fI="_split_jr5j8_2",dI="_projectDataEditor_jr5j8_11",hI="_graphEditor_jr5j8_20",Dp={split:fI,projectDataEditor:dI,graphEditor:hI},pI="_newButton_8r9uy_2",mS={newButton:pI},gI=e=>{const t=new Blob([e]);return URL.createObjectURL(t)},mI={"text/csv":"csv","application/zip":"zip"},vI=async e=>{const t=document.createElement("a");t.style.display="none";let n;t.href=gI(e.content),e.fileName&&(t.download=e.fileName),e.appendEstimatedFileExtension&&n&&(t.download=`${t.download}.${mI[n]||"txt"}`),document.body.append(t),t.click(),t.remove()},vS=async e=>await new Promise((n,r)=>{const i=document.createElement("div");i.style.display="none",i.innerHTML='<input type="file" id="temp-upload" />';const o=i.children[0];o.onchange=function(){try{if(o.files===null)throw Error("No files in input");const a=o.files.item(0);if(a===null)throw Error("First file in input was null");const s=a,l=new FileReader;l.onloadend=function(c){var h;((h=c.target)==null?void 0:h.readyState)===FileReader.DONE&&n({name:a.name,content:c.target.result})},e.type==="text"?l.readAsText(s,"utf8"):l.readAsDataURL(s)}catch(a){r(a)}},o.click()}),yI={small:{label:"small"},medium:{label:"medium"},large:{label:"large"}};function wI(){const e=Nr(R=>R.participants),t=it(R=>R.preferences.participantEditor),n=R=>it.setState(x=>({preferences:{...x.preferences,participantEditor:{...x.preferences.participantEditor,iconSize:R}}})),r=t.lastSelected,i=r!==void 0?e.findIndex(R=>(R==null?void 0:R.name)===r):-1,o=i!==-1?e[i]:void 0,[a,s,l,c,h]=dS((o==null?void 0:o.name)??"",{validate:P.useCallback(R=>R===r?{valid:!0}:R?e.some(x=>(x==null?void 0:x.name)===R)?{valid:!1,status:"A participant with that name already exists"}:{valid:!0}:{valid:!1,status:"Participant can't have an empty name"},[e,r])}),g="New participant",S=P.useCallback(()=>{const[R]=e.map(w=>{var d;const _=new RegExp("^New participant (?<num>\\d+)").exec(w.name);return{participant:w,num:(d=_==null?void 0:_.groups)!=null&&d.num?+_.groups.num:void 0}}).filter(w=>w.num!==void 0).sort((w,_)=>_.num-w.num),x=((R==null?void 0:R.num)??0)+1;return`${g} ${x}`},[e]);Si.useAsyncEffect(async()=>{if(a===null||!r||r===a)return;const R=r;it.setState(_=>({preferences:{..._.preferences,participantEditor:{..._.preferences.participantEditor,lastSelected:a}}}));const x=it.getState().projectId;if(x===void 0)throw Error("projectId cannot be undefined in the editor");const w=await yt.get(x);await yt.put({...w,participants:w.participants.map(_=>_.name===R?{..._,name:a}:_)})},[a,r]);const E=R=>{it.setState(x=>({preferences:{...x.preferences,participantEditor:{...x.preferences.participantEditor,lastSelected:R}}})),l(R)},k=async(R,x)=>{const w=it.getState().projectId;if(w===void 0)throw Error("projectId cannot be undefined in the editor");const _=await yt.get(w);await yt.put({..._,participants:_.participants.map(d=>d.name===R?{...d,portraitUrl:x}:d)})},C=ae("div",{className:Xs.details,style:{width:"100%"},children:[T("h1",{children:" Details "}),r&&o?ae(_t,{children:[ae("label",{style:{width:"100%"},children:["Participant name",T("input",{value:s,onChange:R=>l(R.currentTarget.value)})]}),T("button",{title:"Delete this participant",onClick:async()=>{const R=it.getState().projectId;if(R===void 0)throw Error("projectId cannot be undefined in the editor");const x=await yt.get(R);await yt.put({...x,participants:x.participants.filter(w=>w!==o)})},children:"Delete participant"}),ae("label",{style:{width:"100%"},children:["Portrait ",T("button",{onClick:async()=>{const R=await vS({type:"dataurl"});await k(r,R.content)},children:"Upload new portrait"})]}),T("img",{className:Xs.bigPortrait,src:o.portraitUrl,alt:o.name}),T("div",{style:{color:"#f00"},children:c!=="success"&&h})]}):T(_t,{children:e.length>0?"Select a participant to see and edit them":"Add a participant above to see and edit them"})]});return ae("div",{children:[ae("div",{className:Xs.selectionGrid,style:{gridTemplateColumns:`repeat(auto-fit, minmax(${t.iconSize==="small"?"40px":t.iconSize==="large"?"150px":"80px"}, 0.5fr))`,gridAutoRows:"fit-content"},children:[T(X2,{options:Object.entries(yI).map(([R,x])=>({id:R,label:`Make icons ${x.label}`,onSelect:()=>n(R)}))}),e.map((R,x)=>T("div",{...pt(Xs.portraitImage,"alternis__hoverable","alternis__draggable","alternis__center"),onClick:()=>E(R.name),title:R.name+`
Click to edit. Drag and drop into the graph to add a line node`,children:T("img",{src:R.portraitUrl,alt:R.name,onDragStart:w=>{w.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:"participants",data:R,id:String(x)})),w.dataTransfer.effectAllowed="move"}})},R.name)),T("div",{title:"Add a new participant","data-tut-id":"participant-add-button","data-tut-inset":!0,...pt(mS.newButton,"alternis__hoverable"),style:{height:"100%"},onClick:async()=>{const R={name:S(),portraitUrl:L2},x=it.getState().projectId;if(x===void 0)throw Error("projectId cannot be undefined in the editor");const w=await yt.get(x);await yt.put({...w,participants:w.participants.concat(R)}),E(R.name)},children:T(jt,{children:"+"})})]}),C]})}function yS(e){const{left:t,right:n,...r}=e;return ae("div",{...r,...pt("alternis__split",r.className),children:[T("div",{children:t}),T("div",{children:n})]})}function th(e){const{singularEntityName:t,docPropKey:n,newInitialVal:r,extraActions:i,noDrag:o,onClickEntryName:a,getTitle:s,onRename:l,onAdd:c,disallowDeleteLast:h,...g}=e,S={singularEntityName:t,docPropKey:n,newInitialVal:r,extraActions:i,noDrag:o,onClickEntryName:a,getTitle:s,onRename:l,onAdd:c,disallowDeleteLast:h},k=Nr()[S.docPropKey],[C,R]=Me.useState(),[x,w]=P.useState(),_=typeof S.newInitialVal=="function"?S.newInitialVal():S.newInitialVal,d=Me.useCallback(async(J,z)=>{const M=it.getState().projectId;if(M===void 0)throw Error("projectId cannot be undefined in the editor");const H=await yt.get(M);await yt.put({...H,[S.docPropKey]:{...H[S.docPropKey],[J]:{...H[S.docPropKey][J],...z}}})},[S.docPropKey]),y=Me.useCallback(J=>d(J,_),[d,_]),m=Me.useCallback(async(J,z)=>{const M=it.getState().projectId;if(M===void 0)throw Error("projectId cannot be undefined in the editor");const H=await yt.get(M),U=H[S.docPropKey][J];delete H[S.docPropKey][J],await yt.put({...H,[S.docPropKey]:{...H[S.docPropKey],[z]:U}})},[S.docPropKey]),b=Me.useCallback(async J=>{const z=it.getState().projectId;if(z===void 0)throw Error("projectId cannot be undefined in the editor");const M=await yt.get(z),H={...M[S.docPropKey]};delete H[J],await yt.put({...M,[S.docPropKey]:H})},[S.docPropKey]),N=P.useRef(null);P.useEffect(()=>{var J;(x===""||x===C)&&((J=N.current)==null||J.focus())},[x]);const D=async J=>{var z;C!==void 0?(await m(C,J),R(void 0)):(await y(J),(z=S.onAdd)==null||z.call(S,J)),w(void 0)},G=S.extraActions??Me.useRef(J=>null).current;Me.useLayoutEffect(()=>{N.current&&x!==void 0&&(N.current.textContent=x)},[x]);const se=Object.entries(k);return ae("div",{...g,style:{display:"flex",flexDirection:"column",gap:"11px",...g.style},children:[se.filter(([J])=>J!==C).map(([J,z])=>{var M;return T(yS,{left:T("span",{title:((M=S.getTitle)==null?void 0:M.call(S,J,z))??"Double-click to edit the name."+(S.noDrag?"":`
Drag into the graph to add the corresponding node.`),className:"alternis__hoverable",onDoubleClick:()=>{var H;R(J),w(J),(H=N.current)==null||H.focus()},onDragStart:H=>{H.dataTransfer.setData("application/alternis-project-data-item",JSON.stringify({type:S.docPropKey,data:z,id:J})),H.dataTransfer.effectAllowed="move"},onClick:H=>{var U;return(U=S.onClickEntryName)==null?void 0:U.call(S,J,z,H)},draggable:!S.noDrag,children:J}),right:!S.disallowDeleteLast||se.length>1?ae("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"3px"},children:[T(G,{data:z,set:H=>d(J,H)}),T(jt,{className:"alternis__hoverable alternis__hoverable-red",title:`Delete this ${S.singularEntityName}`,onClick:async()=>{await b(J)},children:T("strong",{children:""})})]}):T("span",{})},J)}),x!==void 0?T("div",{children:T("div",{contentEditable:!0,onKeyDown:J=>{J.key==="Enter"&&(J.preventDefault(),J.currentTarget.blur(),J.currentTarget.innerText.trim()===""&&(J.currentTarget.innerText="invalid name"))},ref:N,onBlur:async J=>{var M;const z=J.currentTarget.innerText.trim();await D(z||"invalid name"),C&&((M=S.onRename)==null||M.call(S,C,z))}})}):T("div",{"data-tut-id":"generic-proj-data-add-button",title:`Add a new ${S.singularEntityName}`,...pt(mS.newButton,"alternis__hoverable"),onClick:()=>w(""),children:T(jt,{children:"+"})})]})}const _I="_error_17xjh_10",xI={error:_I},SI={Alt:"alt key",Control:"ctrl key",Meta:h0?"command key":_P?"meta key":"windows key",Shift:"shift key"},EI=(e,t,n)=>{const r=Object.entries(t).map(([i,o])=>T("option",{value:JSON.stringify(o),children:n[i]},i)).concat(T("option",{value:JSON.stringify(null),children:"none"},"null"));return()=>{const i=it(o=>o.preferences.graph[e]);return T("select",{value:JSON.stringify(i),onChange:o=>it.setState(a=>({preferences:{...a.preferences,graph:{...a.preferences.graph,[e]:JSON.parse(o.currentTarget.value)}}})),children:r})}},bI=EI("appendToSelectModifier",R2,SI);function nh(e){return{binding:it(r=>r.preferences.graph[e]),setBinding:r=>it.setState(i=>({preferences:{...i.preferences,graph:{...i.preferences.graph,[e]:typeof r=="function"?r(i.preferences.graph[e]):r}}}))}}function kI(){const e=nh("dragPanMouseBinding"),t=nh("addNodeMouseBinding"),n=nh("enableBoxSelectOnDrag"),r=n.binding&&e.binding.button===wP.Left;return ae("div",{"data-tut-id":"preferences",children:[ae("label",{title:"Which mouse button you can click and drag to move around the graph",className:"alternis__split",children:[T("span",{children:"Pan graph method"}),T(jy,{value:e.binding,onChange:e.setBinding,ignoreModifiers:!0})]}),ae("label",{title:"If on, click and drag to start a box selection of graph elements.",className:"alternis__split",children:[T("span",{children:"Turn on box select on left mouse drag"}),T("input",{type:"checkbox",...pt(r&&xI.error),title:r?"Box select currently only works with left mouse, which is currently bound to pan graph":void 0,checked:n.binding||!1,onChange:()=>n.setBinding(i=>!i)})]}),ae("label",{title:"Which modifier key you can hold to add to selection instead of starting a new one ",className:"alternis__split",children:[T("span",{children:"Append to selection modifier"}),T(bI,{})]}),ae("label",{title:"Which mouse button (with modifiers e.g. shift) allow to add a node after",className:"alternis__split",children:[T("span",{children:"Add node key binding"}),T(jy,{value:t.binding,onChange:t.setBinding})]})]})}const s1={participants:{label:"Participants",component:wI,desc:"Edit participants of the dialogue"},variables:{label:"Variables",component:()=>T(th,{newInitialVal:{type:"boolean",default:"value"},singularEntityName:"variable",docPropKey:"variables",extraActions:P.useRef(({data:e,set:t})=>ae(_t,{children:[e.type==="boolean"?T("input",{type:"checkbox",value:e.default,onChange:n=>t({default:String(n.currentTarget.checked)}),title:`The initial value for this variable when the dialogue begins (${e.default})`}):T("input",{style:{minWidth:"40%",width:"100%",flex:0},value:e.default,onChange:n=>t({default:n.currentTarget.value}),onKeyDown:n=>n.key==="Enter"&&n.currentTarget.blur(),title:"The initial value for this variable when the dialogue begins"}),ae("select",{value:e.type,onChange:n=>{$t(n.currentTarget.value==="string"||n.currentTarget.value==="boolean"),t({type:n.currentTarget.value})},children:[T("option",{value:"boolean",title:"A variable which is true or false, can be used to make lock conversations",children:"true/false"}),T("option",{value:"string",title:"A variable which can be any text, can be used in reply and line nodes",children:"text"})]})]})).current}),desc:`Edit the variables in the dialogue.
Variables are values set at any time by the environment. They can be anything, and you can use the syntax {{variable_name}} to refer to them in text.`},functions:{label:"Functions",component:()=>T(th,{newInitialVal:{},singularEntityName:"function",docPropKey:"functions"}),desc:`Edit the functions in the dialogue.
Functions are callbacks into the environment that can invoke custom functionality during a dialogue.`},preferences:{label:"Preferences",component:()=>T(kI,{}),desc:"Editor preferences"},dialogues:{label:"Dialogues",component:()=>T(th,{newInitialVal:()=>structuredClone(xP),singularEntityName:"dialogue",docPropKey:"dialogues",noDrag:!0,disallowDeleteLast:!0,onClickEntryName:e=>it.setState({currentDialogueId:e}),onRename:(e,t)=>{it.setState({currentDialogueId:t})},"data-tut-id":"dialogues-content",onAdd:e=>it.setState({currentDialogueId:e})}),desc:"Choose dialogues from this project to edit."}};let ji;function CI(e){let t;[t,ji]=P.useState("participants");const n=s1[t].component;return ae("div",{className:Dp.projectDataEditor,"data-tut-id":"project-data-editor","data-tut-inset":!0,children:[T("div",{style:{display:"flex",flexWrap:"wrap",gap:"calc(2 * var(--gap))"},children:Object.entries(s1).map(([r,i])=>T("span",{title:i.desc,className:"alternis__hoverable",onClick:()=>ji(r),style:{borderBottom:"1px solid var(--fg-1)",fontWeight:r===t?"bold":"normal"},children:i.label},r))}),T("br",{}),T(n,{})]})}const wS="alternis-v1_hasSeenIntroTutorial1",AI=localStorage.getItem(wS)==="true",RI=window.location.search.includes("noTutorial"),Ip=us(()=>({tutorialOpen:!AI&&!RI})),NI={name:"Tutorial",steps:[{body:T("p",{children:"Welcome to Alternis, would you like to be shown around?"})},{body:T("div",{style:{maxWidth:"400px"},children:T("p",{children:"We try to put tooltips on most stuff, so hover over most things to learn more."})})},{body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"On the left is the side panel. Here you can edit your project data, or editor preferences."}),T("p",{children:"We will now go through each tab."})]}),highlightedTutIds:["project-data-editor"]},{onReached(){ji("participants")},body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"In the participants tab, you can press the add button to add a participant, or click on a portrait to edit one."}),ae("p",{children:["You can also drag and drop the portraits into the graph to create a ",T("em",{children:"line"})," node in the dialogue, said by that participant."]})]}),highlightedTutIds:["participant-add-button"]},{onReached(){ji("variables")},body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"Variables are values in the dialogue that can change during the dialogue. Mostly:"}),ae("ul",{children:[T("li",{children:"values set by the environment at startup time"}),ae("li",{children:["values changed when you call a ",T("em",{children:"function"})," from the environment"]}),T("li",{children:"true/false (boolean) values locked (set false) or unlocked (set true) by lock nodes"})]}),T("p",{children:"You can add new ones to expose to the environment, or to use when locking dialogue paths."})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){ji("variables")},body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"A bit more about variables."}),ae("p",{children:["You can drag and drop ",T("em",{children:"text"})," type variables onto ",T("em",{children:"line"})," and ",T("em",{children:"reply"})," nodes to add them to the text."]}),ae("p",{children:["But it's usually easier to just type ",T("code",{children:"{variable name}"})," manually."]}),ae("p",{children:["You can drag and drop ",T("em",{children:"true/false"})," (boolean) variables into the graph to spawn a ",T("em",{children:"lock/unlock"})," node that locks or unlocks that variable when reached."]})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){ji("functions")},body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"Functions are events that must be handled by the environment."}),T("p",{children:"For instance, if a function is reached, the environment may ask the user for some input and set a variable which will be used later in the dialogue."}),ae("p",{children:["Functions are handled entirely by the configuration of the Alternis Engine, Please refer to the (non-yet-existent) ",T("a",{href:"/FIXME",children:"Alternis Engine developer documentation"})," for how to use it in a particular environment. Often there is a plugin, if not, feel free to contact ",T("a",{href:"mailto:support@alternis.io",children:"support@alternis.io"}),"."]}),ae("p",{children:["Drag and drop a function name to create a ",T("em",{children:"call"})," node that calls that function."]})]}),highlightedTutIds:["generic-proj-data-add-button"]},{onReached(){ji("preferences")},body:T("div",{style:{maxWidth:"400px"},children:T("p",{children:"Preferences are not project-specific, they are general things you can change about the editor to your liking, such as which mouse button lets you pan the graph."})}),highlightedTutIds:["preferences"]},{onReached(){ji("dialogues")},body:T("div",{style:{maxWidth:"400px"},children:T("p",{children:'You can have multiple dialogues. You can add new ones and switch between which one you are editing under the "dialogues" tab.'})}),highlightedTutIds:["dialogues-content"]},{body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"Now that we're done looking at the side panel, let's look at the graph."}),T("p",{children:"You can control/command right-click (change in preferences) to bring up a menu of node types to add. Then you can play with the inputs on each node to alter them."}),T("p",{children:"You may also select nodes with left-click-drag to box select or regular click and press backspace/return to delete them. You can add nodes to your selection with control/command held while clicking (change in preferences)."})]}),highlightedTutIds:["graph"]},{body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"Nodes lead to each other."}),ae("p",{children:["Click one ",T("em",{children:"handle"})," coming out of a node (on its right), and then click another coming into one (its left), to connect them. You can also drag from one to the other."]}),ae("p",{children:["Click on any ",T("em",{children:"link"})," between two nodes to delete that link."]})]}),highlightedTutIds:["node-handle"]},{body:ae("div",{style:{maxWidth:"400px"},children:[ae("p",{children:["Some nodes have multiple possible outcomes, namely the ",T("em",{children:"random switch"})," and the ",T("em",{children:"reply"})," nodes."]}),T("p",{children:"The random switch node lets you assign the probability of multiple outcomes. The percent is calculated for you, you just assign the count out of total chances, Try playing with it, we think it's very fast to get used to."})]}),highlightedTutIds:["node-random-switch"]},{body:ae("div",{style:{maxWidth:"400px"},children:[ae("p",{children:["The ",T("em",{children:"reply"})," node tells the dialogue engine that the environment will let one of the participants choose a response."]}),T("p",{children:"Typically this means the environment will present a user with an interface to select between multiple options, and the dialogue will go down the path they choose."}),ae("p",{children:["The icon to the right of the input is the ",T("em",{children:"lock status"})," of a reply. You may choose to always enable a reply, or ",T("em",{children:"lock"})," or ",T("em",{children:"unlock"})," a reply on some true/false variable. This way, that reply won't be usable until some ",T("em",{children:"lock"})," node is reached."]})]}),highlightedTutIds:["node-reply"]},{body:ae("div",{style:{maxWidth:"400px"},children:[ae("p",{children:["The ",T("em",{children:"lock"})," node either ",T("em",{children:"locks"})," (sets false) or ",T("em",{children:"unlocks"})," (sets true) a boolean variable. You can lock replies in a ",T("em",{children:"reply"})," node on those variables."]}),ae("p",{children:["Right-click a ",T("em",{children:"lock"})," node to toggle between locking and unlocking."]}),T("p",{children:"With locks, you can make future dialogue vary based on what has already been said."})]}),highlightedTutIds:["node-lock"]},{body:ae("div",{style:{maxWidth:"400px"},children:[ae("p",{children:["The ",T("em",{children:"call"})," node calls a ",T("em",{children:"function"})," from the environment."]}),T("p",{children:"The environment can do whatever it wants before continuing (or not) the dialogue, even changing variables that you can then use."})]}),highlightedTutIds:["node-function"]},{body:ae("div",{style:{maxWidth:"400px"},children:[ae("p",{children:["The ",T("em",{children:"goto"})," node redirects the dialogue state to some labeled node."]}),ae("p",{children:["You can set a label for a label-able node by clicking the ",T("em",{children:"more"})," arrow of label-able nodes, and editing the label to not be empty."]}),T("p",{children:"This is a good way to bring a user back to a list of possible interogation options, and see newly unlocked dialogue paths."})]}),highlightedTutIds:["node-goto","node-more"]},{body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"You can use the playback controls to run through your dialogue and test it out."}),T("p",{children:T("strong",{children:"FIXME: There is not yet a way to set values for variables, but there will be"})})]}),highlightedTutIds:["dialogue-playback"]},{body:T("div",{style:{maxWidth:"400px"},children:ae("p",{children:["When you're ready to test your conversation in your environment, press the ",T("em",{children:"export"})," button to download the ",T("code",{children:".alternis"})," file which can be loaded by your environment's Alternis integration."]})}),highlightedTutIds:["export-button"]},{body:ae("div",{style:{maxWidth:"400px"},children:[T("p",{children:"And that's all! I can't believe you made it all the way to the end of this tutorial."}),ae("p",{children:["Please contact ",T("a",{href:"mailto:support@alternis.io",children:"support@alternis.io"})," if you encounter any issues or want a feature!"]})]})}]};function TI(){const e=Ip();return e.tutorialOpen?T(cI,{open:e.tutorialOpen,setOpen:t=>Ip.setState({tutorialOpen:t}),data:NI,onClose:()=>{localStorage.setItem(wS,"true")}}):null}const l1="force-addnode",OI=e=>{const t=e==null?void 0:e.data,n=Nr(a=>a.participants),r=(t==null?void 0:t.speakerIndex)!==void 0?n[t.speakerIndex]:void 0,i=fo(e.id),o=Me.useRef(null);return t?ae(ea,{id:e.id,type:"dialogueEntry",showMoreContent:T(_t,{children:ae("label",{children:["subtitle",T("input",{className:"nodrag",onChange:a=>i({title:a.currentTarget.value}),value:t.title})]})}),onDrop:a=>{a.preventDefault();const s=a.dataTransfer.getData("application/alternis-project-data-item");if(!s)return;const{id:l,type:c,data:h}=JSON.parse(s);c==="variables"&&h.type==="string"&&i(g=>({text:g.text+`{${l}}`}))},children:[T(Rr,{type:"target",nodeId:e.id,index:0,position:Pe.Left,className:It.handle,isConnectable:!0}),r?ae(_t,{children:[ae("div",{className:It.nodeHeader,children:[T(fS,{style:{maxWidth:150,fontSize:"1em"},value:t==null?void 0:t.speakerIndex,title:"Click to change the speaker",className:"nodrag",onChange:a=>i({speakerIndex:+a.currentTarget.value}),children:n.map((a,s)=>T("option",{value:s,children:a.name},s))}),T("img",{height:"80px",style:{width:"auto"},src:r.portraitUrl})]}),ae("label",{children:["text",T("textarea",{ref:o,className:"nodrag",onChange:a=>i({text:a.currentTarget.value}),value:t.text})]})]}):T(_t,{children:" unknown participant "}),T(Rr,{nodeId:e.id,index:0,type:"source",position:Pe.Right,className:It.handle,isConnectable:!0})]}):null},PI=e=>{const t=Nr(c=>c.variables),n=P.useMemo(()=>Object.entries(t).filter(([,c])=>c.type==="boolean"),[t]),r=e.data,i=fo(e.id),o=(r==null?void 0:r.action)==="lock"?I2:M2,a=Me.useRef(null);P.useEffect(()=>{n.length>=1&&(r==null?void 0:r.variable)===void 0&&i({variable:n[0][0]})},[n,r==null?void 0:r.variable]);const s=(r==null?void 0:r.variable)&&n.find(c=>c[0]===r.variable);Me.useEffect(()=>{var h;const c=g=>{if(g.button===2)return g.stopImmediatePropagation(),g.preventDefault(),i(({action:S})=>({action:S==="lock"?"unlock":"lock"})),!1};return(h=a.current)==null||h.addEventListener("mousedown",c,!0),()=>{var g;return(g=a.current)==null?void 0:g.removeEventListener("mousedown",c,!0)}},[i,a.current]);const l=Me.useMemo(()=>[(r==null?void 0:r.variable)??"INVALID",...n.map(([c])=>c).filter(c=>c!==(r==null?void 0:r.variable))].map(c=>T("option",{value:c,children:c},c)),[r,n]);return r?ae(ea,{"data-tut-id":"node-lock",type:"lockNode",id:e.id,title:`The 'Lock' node, changes the state of a gate.
Right click to change whether it locks or unlocks it`+(s?"":n.length===0?`

Error: no true/false variables exist, create one`:`

Error: the selected variable does not exist, pick one`),...pt(s?void 0:It.errorOutline),children:[T(Rr,{nodeId:e.id,index:0,type:"target",position:Pe.Left,className:It.handle,isConnectable:!0}),T(jt,{ref:a,children:T(o,{style:{height:80,width:80,stroke:"#000",strokeLinecap:"round"},viewBox:"-2 -2 85 112"})}),ae("label",{children:["variable",T("select",{title:n.length===0?"You must create a boolean variable to lock/unlock it":void 0,value:r.variable,onChange:c=>i(()=>({variable:c.currentTarget.value})),children:l})]}),T(Rr,{nodeId:e.id,index:0,type:"source",position:Pe.Right,className:It.handle,isConnectable:!0})]}):null},DI=e=>{const t=Nr(i=>i.functions),n=e.data,r=fo(e.id);return P.useEffect(()=>{const i=Object.keys(t);Object.entries(i).length>=1&&(n==null?void 0:n.function)===void 0&&r({function:i[0]})},[t,n==null?void 0:n.function]),n?ae(ea,{type:"emitNode","data-tut-id":"node-function",id:e.id,title:"The 'Function Call' node, triggers environment-registered handlers to run custom logic",children:[T(Rr,{nodeId:e.id,index:0,type:"target",position:Pe.Left,className:It.handle,isConnectable:!0}),T(jt,{children:T("span",{style:{fontSize:"4rem",fontWeight:"bold"},children:"!"})}),ae("label",{children:["function",T("select",{value:n.function,onChange:i=>r(()=>({function:i.currentTarget.value})),style:{maxWidth:150},children:Object.entries(t).map(([i])=>T("option",{value:i,children:i},i))})]}),T(Rr,{nodeId:e.id,index:0,type:"source",position:Pe.Right,className:It.handle,isConnectable:!0})]}):null},II=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),MI=e=>{const{nodeId:t,totalProportion:n,proportion:r,index:i}=e,o=fo(e.nodeId),[a,s,l,c,h]=Si.useValidatedInput(String(r));return P.useEffect(()=>{a!==null&&o(({proportions:g})=>{const S=g.slice();return S[i]=a,{proportions:S}})},[a]),ae("div",{className:It.randomSwitchInput,children:[T("input",{title:h||void 0,className:"nodrag",style:{outline:c!==Fl.Success?"1px solid #ee2222":void 0,width:"6em"},value:s,onChange:g=>l(g.currentTarget.value)}),ae("span",{children:["(",II.format(r/n),")"]}),T(jt,{className:"alternis__hoverable alternis__hoverable-red",title:"Delete this possibility",onClick:()=>i!==0&&o(g=>{const S=g.proportions.slice();return S.splice(i,1),{proportions:S}}),children:T("strong",{children:""})}),T(Rr,{nodeId:t,index:i,type:"source",position:Pe.Right,className:It.inlineHandle,isConnectable:!0})]},i)},LI=e=>{const t=e.data,n=(t==null?void 0:t.proportions.reduce((s,l)=>s+l,0))??1,r=fo(e.id),i=$x(),o=Me.useRef(null),a=Me.useRef(!1);return Me.useEffect(()=>{if(!a.current)return;a.current=!1;const s=o.current;if(!s)return;const l=s.querySelectorAll("input"),c=l[l.length-1];c&&c.focus()},[t==null?void 0:t.proportions.length]),t?ae(ea,{type:"randomSwitch",id:e.id,"data-tut-id":"node-random-switch",title:`The 'Random Switch' node picks a random output.
Each output has a number of chances compared out of the total to be reached. You can see the exact chance in each option's calculated percentage.`,children:[T(Rr,{nodeId:e.id,index:0,type:"target",position:Pe.Left,className:It.handle,isConnectable:!0}),ae("div",{className:It.randomSwitchBody,ref:o,children:[T(jt,{children:T("strong",{style:{fontSize:"2rem"},children:"?"})}),t.proportions.map((s,l)=>T(MI,{nodeId:e.id,proportion:s,totalProportion:n,index:l},l)),T("div",{title:"Add a possibility",...pt("alternis__newButton","alternis__hoverable"),onClick:()=>{r(s=>({proportions:s.proportions.concat(1)})),i(e.id),a.current=!0},children:T(jt,{children:"+"})})]})]}):null},BI=e=>T("div",{style:{borderRadius:"50%",border:"2px solid var(--fg-1)",height:e.height,width:e.width}}),jI=e=>{const t=Nr(i=>i.variables),n=P.useMemo(()=>Object.entries(t).filter(([,i])=>i.type==="boolean"),[t]),r=e.reply.condition==="none"?BI:e.reply.condition==="unlocked"?M2:I2;return ae(_t,{children:[T(jt,{className:"alternis__hoverable",...e.reply.condition==="none"?{title:n.length>0?`Click to condition this reply on a boolean variable being locked (false)
(cycles through conditions)`:"Add a boolean variable to set a condition",onClick:()=>{if(n.length<=0)return;const[i]=n[0];e.set({lockVariable:i,condition:"locked"})}}:e.reply.condition==="locked"?{title:"Click to condition this reply on a boolean variable being unlocked (true)",onClick:()=>{e.set({condition:"unlocked"})}}:{title:"Click to remove conditions from this reply",onClick:()=>{e.set({lockVariable:void 0,condition:"none"})}},children:T(r,{width:"1em",height:"1em"})},`${e.keyPrefix??""}-lockicon`),T("select",{value:e.reply.lockVariable,onChange:i=>e.set({lockVariable:i.currentTarget.value}),style:{maxWidth:150,...e.reply.condition==="none"?{opacity:0,width:0,padding:0,margin:0}:{opacity:1}},children:n.map(([i])=>T("option",{value:i,children:i},i))},`${e.keyPrefix??""}-lockselect`)]})},zI=e=>{const t=e.data,n=fo(e.id),r=$x(),i=Nr(s=>s.participants),o=Me.useRef(null);P.useEffect(()=>{i.length>=1&&(t==null?void 0:t.speaker)===void 0&&n({speaker:0})},[i,t==null?void 0:t.speaker]);const a=Me.useRef(!1);return Me.useEffect(()=>{if(!a.current)return;a.current=!1;const s=o.current;if(!s)return;const l=s.querySelectorAll("input"),c=l[l.length-1];c&&c.focus()},[t==null?void 0:t.replies.length]),t?ae(ea,{type:"playerReplies",id:e.id,"data-tut-id":"node-reply",title:`The 'Replies' node gives a participant the option to choose from multiple options.
Each output has a number of chances compared out of the total to be reached. You can see the exact chance in each option's calculated percentage.`,children:[T(Rr,{nodeId:e.id,index:0,type:"target",position:Pe.Left,className:It.handle,isConnectable:!0}),T("label",{style:{marginBottom:"var(--gap)"},children:T(fS,{title:i.length===0?"You must add at least one participant to use them as in a reply":void 0,value:t.speaker,onChange:s=>n(()=>({speaker:+s.currentTarget.value})),style:{maxWidth:150},children:i.map((s,l)=>T("option",{value:l,children:s.name},l))})}),ae("div",{className:It.playerRepliesBody,ref:o,children:[t.replies.map((s,l)=>ae(Me.Fragment,{children:[T("input",{value:s.text,onChange:c=>{n(({replies:h})=>{const g=h.slice();return g[l]={...g[l],text:c.currentTarget.value},{replies:g}})},onDrop:c=>{c.preventDefault();const h=c.dataTransfer.getData("application/alternis-project-data-item");if(!h)return;const{id:g,type:S,data:E}=JSON.parse(h);S==="variables"&&E.type==="string"&&n(k=>({replies:k.replies.map((C,R)=>R===l?{...C,text:C.text+`{${g}}`}:C)}))}},`input-${l}`),T(jI,{keyPrefix:`replylock-${l}`,reply:s,set:c=>n(h=>{const g=h.replies.slice();return g[l]={...h.replies[l],...typeof c=="function"?c(h.replies[l]):c},{replies:g}}),index:l},`replylock-${l}`),T(jt,{className:"alternis__hoverable alternis__hoverable-red",title:"Delete this option",onClick:()=>l!==0&&n(c=>{const h=c.replies.slice();return h.splice(l,1),{replies:h}}),style:{...l===0?{opacity:0,width:0,padding:0,margin:0}:{opacity:1,width:void 0}},children:T("strong",{children:""})},`delete-${l}`),T(Rr,{nodeId:e.id,index:l,type:"source",position:Pe.Right,className:It.inlineHandle,isConnectable:!0},`handle-${l}`)]},l)),T("div",{title:"Add a reply option",...pt("alternis__newButton","alternis__hoverable"),onClick:()=>{n(s=>({replies:s.replies.concat({text:"",condition:"none",lockVariable:void 0})})),r(e.id),a.current=!0},children:T(jt,{children:"+"})})]})]}):null},FI=e=>T(ea,{type:"default",id:e.id,title:"This is an error. Please contact support",noLabel:!0,children:T(jt,{children:T("strong",{children:"Unknown node"})})}),UI=e=>ae("div",{className:It.node,title:"The node that defines the beginning of the dialogue",children:[T(jt,{style:{padding:5},children:T("strong",{children:"Start"})}),T(Rr,{nodeId:e.id,index:0,type:"source",position:Pe.Right,className:It.handle,isConnectable:!0})]}),u1={dialogueEntry:OI,randomSwitch:LI,playerReplies:zI,lockNode:PI,emitNode:DI,entry:UI,goto:nI,default:FI},HI={dialogueEntry:"Line",randomSwitch:"Random",playerReplies:"Player Replies",lockNode:"Lock",emitNode:"Emit",entry:"Entry",goto:"Goto",default:"Unknown"},qI=e=>{const[t]=Yg({...e});AR(jo.Arrow,e.markerEnd);const n=s8();return n.find(r=>r.id===e.source),n.find(r=>r.id===e.target),T(cs,{interactionWidth:20,path:t,...e,style:{strokeWidth:2,...e.style},markerStart:jo.ArrowClosed,markerEnd:jo.ArrowClosed})},$I={default:qI};function c1(e){return`${(e.map(n=>+n.id).filter(n=>!Number.isNaN(n)).reduce((n,r)=>n>r?n:r,0)??0)+1}`}const rh=async(e,{initData:t=void 0,position:n={x:0,y:0},connectingNodeId:r}={})=>{const i=it.getState().projectId;if(i===void 0)throw Error("projectId cannot be undefined in the editor");const o=await yt.get(i);bn.setState(a=>{var c,h;const s=r==null?void 0:r.current,l=c1(a.nodes);return{nodes:a.nodes.concat({id:l,type:e,data:{...e==="lockNode"?{variable:(h=(c=Object.entries(o.variables).filter(([,g])=>g.type==="boolean"))==null?void 0:c[0])==null?void 0:h[0],action:"lock"}:e==="randomSwitch"?Sp(rI):e==="emitNode"?{function:Object.keys(o.functions)[0]}:e==="playerReplies"?Sp(iI):{},...t},position:n}),edges:s!==void 0?Qg({id:c1(a.edges),source:s,target:l},a.edges):a.edges}})},WI=()=>{const e=it(r=>r.currentDialogueId),[t,n]=Me.useState();return ae("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[ae(_t,{children:[T("button",{style:{width:30,height:30},title:"Select a participant to drag and drop a new line from",className:"alternis__toolBtn alternis__center alternis__hoverable",onClick:()=>n(r=>r==="participant"?void 0:"participant"),children:T("img",{width:20,style:{objectFit:"contain"},src:L2})}),t==="participant"&&T("div",{style:{position:"absolute",top:"100%"},children:T(cS,{getParticipantTitle:r=>r.name+`
Drag into the editor to place a new line from this participant`,onDragParticipantEnd:()=>n(void 0),header:"Drag a participant"})})]}),ae(_t,{children:[T("button",{style:{width:30,height:30,fontFamily:"serif"},title:"Add a variable expansion to the text of the selected node or drag to any node",className:"alternis__toolBtn alternis__hoverable",onClick:()=>n(r=>r==="variable"?void 0:"variable"),children:T("em",{children:T("var",{style:{fontSize:"20px",left:"-0.05em",bottom:"0.05em",position:"relative"},children:"x"})})}),t==="variable"&&T("div",{style:{position:"absolute",top:"100%"},children:T(l6,{onDragVariableEnd:()=>n(void 0)})})]}),ae(_t,{children:[T("button",{style:{width:30,height:30,fontFamily:"serif"},title:"Select a function node to drag and drop",className:"alternis__toolBtn alternis__hoverable",onClick:()=>n(r=>r==="function"?void 0:"function"),children:T("em",{children:T("var",{style:{fontSize:"20px",left:"-0.1em",position:"relative"},children:"f"})})}),t==="function"&&T("div",{style:{position:"absolute",top:"100%"},children:T(s6,{getTitle:r=>r+`
Drag into the editor to add a call node`,onDragFunctionEnd:()=>n(void 0),header:"Drag a function"})})]}),T("div",{style:{marginLeft:"var(--gap)"},children:T("em",{children:e})})]})},VI=()=>ae(ts,{position:"top-right",children:[T("div",{children:!1}),ae("div",{children:[T("button",{"data-tut-id":"export-button",className:"alternis__toolBtn alternis__hoverable",onClick:async()=>{vI({fileName:"doc.alternis.json",content:JSON.stringify(await I6(),void 0,"  ")})},children:T(kP,{width:20,height:20,className:"alternis__center"})}),T("button",{"data-tut-id":"import-button",className:"alternis__toolBtn alternis__hoverable",onClick:async()=>{const e=await vS({type:"text"}),t=JSON.parse(e.content);it.setState(t)},children:T(CP,{width:20,height:20,className:"alternis__center"})}),T(h6,{})]})]}),KI=e=>{const t=fs(),n=bn(_=>_.nodes),r=bn(_=>_.edges),i=it(_=>_.preferences.graph.appendToSelectModifier),o=it(_=>_.preferences.graph.dragPanMouseBinding),a=it(_=>_.preferences.graph.addNodeMouseBinding),s=it(_=>_.preferences.graph.enableBoxSelectOnDrag),l=Me.useRef(),c=Me.useRef(null);y6();const h=Me.useRef(null),S=ki().search.includes("noHeader"),[[E,k],C]=Me.useState(["select-type",void 0]),R=Me.useMemo(()=>[{id:"entry",label:"Add script line",onSelect(_){C(["select-participant",_])}},...Object.keys(u1).filter(_=>_!=="entry"&&_!=="default"&&_!=="dialogueEntry").map(_=>({id:_,label:HI[_],async onSelect(d){var b;const{top:y,left:m}=c.current.getBoundingClientRect();await rh(_,{position:t.project({x:d.clientX-m-150/2,y:d.clientY-y}),connectingNodeId:l}),(b=x.current)==null||b.hide()}}))],[t,c,l]),x=Me.useRef(null),w=T(Z2,{forceEventKey:l1,mouseBinding:a,onHide:()=>{l.current=void 0,C(["select-type",void 0])},ref:x,children:E==="select-type"?T(y0,{className:It.addNodeMenu,options:R}):T(cS,{onSelectParticipant:async(_,d)=>{var N;const y=k;$t(y!==void 0);const{top:m,left:b}=c.current.getBoundingClientRect();await rh("dialogueEntry",{position:t.project({x:y.clientX-b-150/2,y:y.clientY-m}),initData:{speakerIndex:d,text:""},connectingNodeId:{current:void 0}}),(N=x.current)==null||N.hide()}})});return ae("div",{ref:h,className:"alternis__rel-anchor alternis__propagate-size",children:[w,T("div",{...pt(It.graph,"alternis__propagate-size"),"data-tut-id":"graph","data-tut-inset":!0,ref:c,style:{height:S?"100vh":void 0},children:ae(qx,{nodes:n,edges:r,deleteKeyCode:["Backspace","Delete"],onNodesChange:_=>bn.setState(d=>({nodes:Ix(_,d.nodes)})),onEdgesChange:_=>bn.setState(d=>({edges:kN(_,d.edges)})),onConnect:_=>{bn.setState(d=>({edges:Qg(_,d.edges)}))},snapToGrid:!0,snapGrid:[15,15],minZoom:.1,maxZoom:1,nodeTypes:u1,edgeTypes:$I,onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},connectionMode:io.Loose,isValidConnection:_=>{var N,D;const d=n.find(G=>G.id===_.source),y=n.find(G=>G.id===_.target),m=(N=_.sourceHandle)!=null&&N.includes("source")?"source":"target",b=(D=_.targetHandle)!=null&&D.includes("source")?"source":"target";return!d||!y||!m||!b?!0:m!==b&&d!==y},connectionRadius:25,connectOnClick:!0,multiSelectionKeyCode:i,panOnDrag:o?[o.button]:!1,selectionOnDrag:s,selectionMode:rs.Partial,zoomOnDoubleClick:!1,onDrop:async _=>{_.preventDefault();const d=_.dataTransfer.getData("application/alternis-project-data-item");if(!d)return;const{id:y,type:m,data:b}=JSON.parse(d);if(!(m==="participants"||m==="variables"&&b.type==="boolean"||m==="functions"))return;const[N,D]=m==="participants"?["dialogueEntry",{speakerIndex:+y,text:""}]:m==="variables"?["lockNode",{variable:y,action:"unlock"}]:m==="functions"?["emitNode",{function:y}]:$t(!1),{top:G,left:se}=c.current.getBoundingClientRect();await rh(N,{position:t.project({x:_.clientX-se-150/2,y:_.clientY-G}),initData:D,connectingNodeId:l})},onEdgeClick:(_,d)=>{bn.setState(y=>({...y,edges:y.edges.filter(m=>m.id!==d.id)}))},onConnectStart:(_,{nodeId:d})=>{l.current=d??void 0},onConnectEnd:_=>{var y,m;if(((m=(y=_.target)==null?void 0:y.classList)==null?void 0:m.contains("react-flow__pane"))&&c.current&&h.current){const b=new CustomEvent(l1,_);b.pageX=_.pageX,b.pageY=_.pageY,h.current.dispatchEvent(b)}},children:[T(k8,{}),T(y8,{zoomable:!0,pannable:!0,color:"var(--fg-1)",maskColor:"#2d2d2dcc",style:{backgroundColor:"var(--bg-2)"}}),T(O8,{}),T(ts,{position:"bottom-center",children:T(eI,{})}),T(ts,{position:"top-left",children:T(WI,{})}),T(VI,{})]})}),T(TI,{})]})};function GI(e){const t=By(o=>o.redo),n=By(o=>o.undo);P.useLayoutEffect(()=>{const o=l=>{l.key.toLowerCase()==="z"&&l.ctrlKey&&n()},a=l=>{l.key==="Z"&&l.ctrlKey&&l.shiftKey&&t()},s=l=>{l.key.toLowerCase()==="y"&&l.ctrlKey&&t()};return document.addEventListener("keydown",o),document.addEventListener("keydown",a),document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keydown",a),document.removeEventListener("keydown",s)}});const i=ki().search.includes("noHeader");return ae("div",{className:Dp.split,style:{height:i?"100vh":"calc(100vh - var(--header-height))",width:"100vw"},children:[T(CI,{}),T("span",{...pt(Dp.graphEditor,"alternis__propagate-size"),children:T(KI,{})})]})}const YI="_projectGrid_dwhvc_1",JI="_newProjectDialog_dwhvc_8",_S="_projectTile_dwhvc_18";function QI(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:ZI}=Me;function XI(e){const t=ZI();return n=>{const r=e(n);return QI(t.current,r)?t.current:t.current=r}}const eM={empty:{...structuredClone(fl),name:"Empty"},template1:d0};function tM(e){const t=Wr(o=>o.api.updateDocumentMeta),n=Wr(o=>o.api.deleteDocument),r=Wr(o=>o.api.duplicateDocument),i=Me.useRef(null);return Me.useLayoutEffect(()=>{i.current&&(i.current.textContent=e.doc.name)},[]),ae("div",{onClick:()=>{const o=Object.keys(e.doc.dialogues)[0];$t(o!==void 0),e.onSelectProject(e.doc.id,o)},...pt("alternis__hoverable",_S),children:[T(jt,{children:T("span",{contentEditable:!0,onClick:o=>{o.stopPropagation()},onKeyDown:o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.blur(),o.currentTarget.innerText.trim()===""&&(o.currentTarget.innerText="invalid name"))},onBlur:o=>{const a=o.currentTarget.innerText.trim()||"invalid name";try{t(e.doc.id,{name:a})}catch(s){if(s.name!=="not_found")throw s}},ref:i})}),T("div",{onClick:o=>o.stopPropagation(),children:T(Tp,{style:{position:"absolute",bottom:20,right:20},options:[{id:"duplicate-project",onSelect:()=>r(e.doc),label:"Duplicate this project"},{id:"delete-project",onSelect:()=>n(e.doc.id),label:"Delete this project"}]})})]},e.doc.name)}function nM(e){var c;const t=Wr(XI(h=>{var g;return(g=h.documents)==null?void 0:g.filter(S=>!S.id.startsWith("hidden/"))})),n=Wr(h=>h.api.createDocument),r=Wr(h=>h.api.duplicateDocument),[i,o]=Me.useState(!1),a=P.useRef(null);Si.useOnExternalClick(a,()=>o(!1));const s=(h,g)=>!h||h.length===0?[g]:h,l=ae("dialog",{className:JI,open:i,ref:a,children:[T("h2",{children:" Create a project "}),T("h5",{children:" Use a template "}),T("div",{style:{overflowY:"scroll",maxHeight:"50vh"},children:s((c=Object.values(eM))==null?void 0:c.map(h=>T("div",{onClick:()=>{n(h),o(!1)},className:"alternis__hoverable",children:T("span",{children:h.name})},h.name)),T("span",{children:T("em",{children:"You have no templates to clone"})},"none"))}),T("h5",{children:" Or clone from an existing one "}),T("div",{style:{overflowY:"scroll",maxHeight:"50vh"},children:s(t==null?void 0:t.map(h=>T("div",{onClick:()=>{r(h),o(!1)},className:"alternis__hoverable",children:T("span",{children:h.name})},h.id)),T("span",{children:T("em",{children:"You have no documents to clone"})},"none"))})]});return ae("div",{style:{padding:11},children:[T("h1",{children:"Projects"}),ae("div",{className:YI,children:[T("div",{...pt("alternis__newButton","alternis__hoverable",_S),title:"Make a new project with the new project wizard",onClick:()=>o(!0),children:T(jt,{children:T("strong",{children:T("em",{children:"Create a new project"})})})}),t==null?void 0:t.map(h=>T(tM,{onSelectProject:e.onSelectProject,doc:h},h.id))]}),l]})}const rM="_logoLink_obg7e_1",iM="_aboutDialog_obg7e_12",f1={logoLink:rM,aboutDialog:iM};new TextEncoder;const xS=new TextDecoder,oM=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},aM=e=>{let t=e;t instanceof Uint8Array&&(t=xS.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return oM(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class sM extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class So extends sM{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function lM(e){return typeof e=="object"&&e!==null}function uM(e){if(!lM(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const cM=aM;function SS(e){if(typeof e!="string")throw new So("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new So("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new So("Invalid JWT");if(!t)throw new So("JWTs must contain a payload");let r;try{r=cM(t)}catch{throw new So("Failed to base64url decode the payload")}let i;try{i=JSON.parse(xS.decode(r))}catch{throw new So("Failed to parse the decoded payload as JSON")}if(!uM(i))throw new So("Invalid JWT Claims Set");return i}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var fM=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dM=Object.prototype.hasOwnProperty;function Mp(e,t){return dM.call(e,t)}function Lp(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Mp(e,i)&&r.push(i);return r}function nr(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Bp(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Co(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ES(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function jp(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(jp(e[t]))return!0}else if(typeof e=="object"){for(var r=Lp(e),i=r.length,o=0;o<i;o++)if(jp(e[r[o]]))return!0}}return!1}function d1(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var bS=function(e){fM(t,e);function t(n,r,i,o,a){var s=this.constructor,l=e.call(this,d1(n,{name:r,index:i,operation:o,tree:a}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=a,Object.setPrototypeOf(l,s.prototype),l.message=d1(n,{name:r,index:i,operation:o,tree:a}),l}return t}(Error),Gt=bS,hM=nr,Ta={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Kc(n,this.path);r&&(r=nr(r));var i=Uo(n,{op:"remove",path:this.from}).removed;return Uo(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Kc(n,this.from);return Uo(n,{op:"add",path:this.path,value:nr(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Ul(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},pM={add:function(e,t,n){return Bp(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Ta.move,copy:Ta.copy,test:Ta.test,_get:Ta._get};function Kc(e,t){if(t=="")return e;var n={op:"_get",path:t};return Uo(e,n),n.value}function Uo(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):Gc(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=Kc(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=Ul(e,t.value),a.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new Gt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}}else{r||(e=nr(e));var s=t.path||"",l=s.split("/"),c=e,h=1,g=l.length,S=void 0,E=void 0,k=void 0;for(typeof n=="function"?k=n:k=Gc;;){if(E=l[h],E&&E.indexOf("~")!=-1&&(E=ES(E)),i&&(E=="__proto__"||E=="prototype"&&h>0&&l[h-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&S===void 0&&(c[E]===void 0?S=l.slice(0,h).join("/"):h==g-1&&(S=t.path),S!==void 0&&k(t,0,e,S)),h++,Array.isArray(c)){if(E==="-")E=c.length;else{if(n&&!Bp(E))throw new Gt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Bp(E)&&(E=~~E)}if(h>=g){if(n&&t.op==="add"&&E>c.length)throw new Gt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var a=pM[t.op].call(t,c,E,e);if(a.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(h>=g){var a=Ta[t.op].call(t,c,E,e);if(a.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(c=c[E],n&&h<g&&(!c||typeof c!="object"))throw new Gt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function x0(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Gt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=nr(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=Uo(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function gM(e,t,n){var r=Uo(e,t);if(r.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Gc(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Gt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Ta[e.op]){if(typeof e.path!="string")throw new Gt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Gt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Gt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Gt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&jp(e.value))throw new Gt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Gt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Gt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},s=kS([a],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new Gt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Gt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function kS(e,t,n){try{if(!Array.isArray(e))throw new Gt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)x0(nr(t),nr(e),n||!0);else{n=n||Gc;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Gt)return i;throw i}}function Ul(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,a;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Ul(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=o;i--!==0;)if(a=s[i],!Ul(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}const mM=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Gt,_areEquals:Ul,applyOperation:Uo,applyPatch:x0,applyReducer:gM,deepClone:hM,getValueByPointer:Kc,validate:kS,validator:Gc},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var S0=new WeakMap,vM=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),yM=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function wM(e){return S0.get(e)}function _M(e,t){return e.observers.get(t)}function xM(e,t){e.observers.delete(t.callback)}function SM(e,t){t.unobserve()}function EM(e,t){var n=[],r,i=wM(e);if(!i)i=new vM(e),S0.set(e,i);else{var o=_M(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=nr(e),t){r.callback=t,r.next=null;var a=function(){zp(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){zp(r),clearTimeout(r.next),xM(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new yM(t,r)),r}function zp(e,t){t===void 0&&(t=!1);var n=S0.get(e.object);E0(n.value,e.object,e.patches,"",t),e.patches.length&&x0(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function E0(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Lp(t),a=Lp(e),s=!1,l=a.length-1;l>=0;l--){var c=a[l],h=e[c];if(Mp(t,c)&&!(t[c]===void 0&&h!==void 0&&Array.isArray(t)===!1)){var g=t[c];typeof h=="object"&&h!=null&&typeof g=="object"&&g!=null&&Array.isArray(h)===Array.isArray(g)?E0(h,g,n,r+"/"+Co(c),i):h!==g&&(i&&n.push({op:"test",path:r+"/"+Co(c),value:nr(h)}),n.push({op:"replace",path:r+"/"+Co(c),value:nr(g)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Co(c),value:nr(h)}),n.push({op:"remove",path:r+"/"+Co(c)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&o.length==a.length))for(var l=0;l<o.length;l++){var c=o[l];!Mp(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+Co(c),value:nr(t[c])})}}}function CS(e,t,n){n===void 0&&(n=!1);var r=[];return E0(e,t,r,"",n),r}const bM=Object.freeze(Object.defineProperty({__proto__:null,compare:CS,generate:zp,observe:EM,unobserve:SM},Symbol.toStringTag,{value:"Module"}));Object.assign({},mM,bM,{JsonPatchError:bS,deepClone:nr,escapePathComponent:Co,unescapePathComponent:ES});const Fp="authv1_tok",AS=`https://${window.location.hostname}`,kM=`${AS}/api/v1`,CM=Object.freeze({baseUrl:kM,_token:void 0,_tokenPayload:void 0,me:void 0,documents:void 0});let RS,Ao;try{const e=localStorage.getItem(Fp)??void 0,t=e&&SS(e)||void 0;t&&t.exp&&Date.now()/1e3<t.exp&&(RS=e,Ao=t)}catch{}function AM(e){return typeof e=="string"&&(e=SS(e)),{email:e.email,givenName:e.given_name,familyName:e.family_name,fullName:e.full_name,pictureUrl:e.picture}}const RM=Object.freeze({...CM,_token:RS,me:Ao&&{email:Ao.email,givenName:Ao.given_name,familyName:Ao.family_name,fullName:Ao.full_name,pictureUrl:Ao.picture}}),h1=()=>-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),NM=us()((e,t)=>({...RM,computed:{get isLoggedIn(){return t()._token!==void 0}},_apiFetch:async(n,r={})=>{$t(n.startsWith("/"));const i=t()._token,o=await fetch(`${t().baseUrl}${n}`,{...r,headers:{...i&&{Authorization:`Bearer ${i}`},...r.headers}});if(!o.ok){console.error("non-OK response",o);const a=Error(`Received non OK '${o.status} ${o.statusText}' response from service:
`+await(o.headers.get("Content-Type")==="application/json"?o.json():o.text()));throw alert(a),a}return o},_likeLogin:async(n,r)=>{const o=await(await t()._apiFetch(`/users/me/${n}`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).json();$t(o==null?void 0:o.token,"no token in login response"),e({_token:o.token,me:o})},api:{register:n=>t()._likeLogin("register",n),login:n=>t()._likeLogin("login",n),async googleLogin(){const n=t()._token;$t(n,"token not set before implicit login");const r=await t()._apiFetch("/users/me/login/google",{method:"POST",headers:{"Content-Type":"application/json"}});$t(r.ok,"google login resp not ok"),e({me:AM(n)})},async logout(){e({_token:void 0})},async syncMe(){return t()._apiFetch("/users/me").then(n=>n.json())},async syncMyRecentDocuments(){if(!t().computed.isLoggedIn)return;const n=await t()._apiFetch("/users/me/documents/recents").then(r=>r.json());e({documents:n})},async getDocument(n){return t()._apiFetch(`/users/me/documents/${n}`).then(r=>r.json())},async patchDocument(n,r,i){const o=CS(r,i);try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})}catch(a){throw a}},async updateDocumentMeta(n,r){let i;e(o=>({documents:(o.documents??[]).map(a=>a.id===n?(i=a,{...a,...r,id:a.id}):a)}));try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"PATCH",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}catch(o){throw i&&e(a=>({documents:(a.documents??[]).map(s=>s.id===n?i:s)})),o}},async deleteDocument(n){let r,i;e(o=>{var a;return r=(a=o.documents)==null?void 0:a.findIndex(s=>s.id===n),i=r!==void 0&&r!==-1?o.documents[r]:void 0,{documents:(o.documents??[]).filter(s=>s.id!==n)}});try{await t()._apiFetch(`/users/me/documents/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})}catch(o){throw i&&e(a=>({documents:(a.documents??[]).concat(i)})),o}},async createDocument(n={}){var o;const r=(o=t().me)==null?void 0:o.email;$t(r!==void 0,"no owner email!");const i=h1();e(a=>({documents:[{...n,id:i,name:"New Document",updatedAt:new Date,ownerEmail:r},...a.documents??[]]}));try{const a=await t()._apiFetch("/users/me/documents",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(s=>s.json());e(s=>({documents:(s.documents??[]).map(l=>l.id!==i?l:{...l,...a})}))}catch{e(s=>({documents:(s.documents??[]).filter(l=>l.id!==i)}))}},async duplicateDocument(n){console.log(n);const r=h1();e(i=>{var a;const o=(a=i.documents)==null?void 0:a.find(s=>s.id===n.id);return o===void 0?i:{documents:[{...o,id:r,name:`${o.name} copy`,updatedAt:new Date},...i.documents??[]]}});try{const i=await t()._apiFetch(`/users/me/documents/${n.id}/duplicate`,{method:"POST",body:JSON.stringify({id:n.id}),headers:{"Content-Type":"application/json"}}).then(o=>o.json());e(o=>({documents:(o.documents??[]).map(a=>a.id!==r?a:{...a,...i})}))}catch{e(o=>({documents:(o.documents??[]).filter(a=>a.id!==r)}))}}}}));NM.subscribe((e,t)=>{e._token!==t._token&&(e._token!==void 0?localStorage.setItem(Fp,e._token):localStorage.removeItem(Fp))});const TM="/app/assets/logo2-2cee8485.svg";function OM(e,t){const{ref:n,trigger:r}=t;Me.useEffect(()=>{function i(o){if(n.current===null||r!==void 0&&r.current===null)return;(r!==void 0?!n.current.contains(o.target)&&!r.current.contains(o.target):!n.current.contains(o.target))&&e()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,n,e])}function ih(){const e=ki(),t=e.search.includes("noHeaderLogo")||e.hash.includes("noHeaderLogo"),n=Jl(),[r,i]=Me.useState(!1),o=Me.useRef(null),a=Me.useRef(null);OM(()=>{i(!1)},{ref:o,trigger:a});const s=ae("dialog",{className:f1.aboutDialog,open:r,ref:o,children:[T("h2",{children:" The Alternis Editor "}),T("p",{children:"A visual editor for the Alternis dialogue middleware's dialogue format."}),ae("p",{children:["Check out the tutorial in the header for help but feel free to use the feedback link or ",T("a",{href:"mailto:support@alternis.io",children:"contact the author"}),"."]}),ae("p",{children:["This project is open source. Please see ",T("a",{href:"https://github.com/alternis-io/AlternisFlow-WebEditor",children:"the repository"})," for all open source dependencies with which this project is made [possible]."]}),ae("p",{children:["Made by ",T("a",{href:"https://mikemikeb.com",children:"Michael Belousov"}),"."]}),ae("p",{children:["Demo art by ",T("a",{href:"https://www.jmitchell-illustrations.com/",children:"Mitch Vecchione"}),"."]})]});return!t&&T(yS,{style:{boxShadow:"rgba(0,0,0,0.3) 0 0 5px 2px",zIndex:5,position:"relative"},left:ae("div",{style:{paddingLeft:10,paddingTop:2,paddingBottom:2,display:"flex",gap:11,alignItems:"center"},children:[ae("a",{href:AS,className:f1.logoLink,style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"var(--gap)",marginRight:16},children:[T("img",{src:TM,height:40,className:"alternis__hoverable"}),"Alternis"]}),T("nav",{className:"alternis__hoverable",onClick:()=>n("/app/projects"),children:"Projects"})]}),right:ae("div",{style:{display:"flex",gap:11,paddingRight:11},children:[T("nav",{className:"alternis__hoverable",onClick:()=>window.open("https://e0a075ca.sibforms.com/serve/MUIFANC3EaFwNn2Lb330eR8CUoK52Kqq3Iw805_JEf19NtNbXgz8blNJHfE7RaKNJADeNfGAkMOKu86zmyUy_B8V1ivmiigESd_rQkaChA0dM3eST4ictTcvmsCZXQ2ec4b_xS9nXdaF4S1fOmDeDInPn7hFEVTEiHlExtWpPGNEiPcJXdBTlt7MRtajeVcdJGC3u3dBacXZcMsz","_blank"),children:"Newsletter"}),T("nav",{className:"alternis__hoverable",onClick:()=>Ip.setState({tutorialOpen:!0}),children:"Tutorial"}),T("nav",{className:"alternis__hoverable",onClick:()=>window.open("https://docs.google.com/forms/d/e/1FAIpQLSdeEraQ_YVaYn01LhIQT0951B3UJ_wyroKxpP1qZoQ1zPWnjg/viewform?usp=sf_link","_blank"),children:"Feedback"}),ae("nav",{ref:a,className:"alternis__hoverable",onClick:()=>i(l=>!l),children:["About",s]})]})})}function PM(e){return e.length<8?{status:"Too few characters, must be between 8 and 30",valid:!1}:e.length>30?{status:"Too many characters, must be between 8 and 30",valid:!1}:/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?{valid:!0}:{status:"Must contain at least one number",valid:!1}:{status:"Must contain at least one lowercase letter",valid:!1}:{status:"Must contain at least one uppercase letter",valid:!1}}function DM(e){const t=Wr(i=>{var o;return(o=i.auth)==null?void 0:o.isLoggedIn});Wr(i=>{var o;return(o=i.auth)==null?void 0:o.googleLogin});const n=P.useRef(null),r=P.useRef(e.onLogin);return r.current=e.onLogin,t?null:T("div",{ref:n,style:{width:193,height:44}})}function IM(e){const t=Jl(),[n]=_O(),r=n.get("redirect"),i=Wr(y=>{var m;return(m=y.auth)==null?void 0:m.isLoggedIn}),o=Wr(y=>y.api),[a,s,l,c,h]=Si.useValidatedInput("",{parse:y=>({value:y}),pattern:/[^@]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_]+/}),[g,S,E,k,C]=Si.useValidatedInput("",{parse:y=>({value:y}),validate:PM,pattern:/(?:)/}),R=a!==null&&g!==null,x=P.useRef(null),w=()=>{r&&t(decodeURIComponent(r),{replace:!0})},_=async()=>{R&&(await o.login({email:a,password:g}),w())},d=async()=>{await o.logout()};return i||(h&&s.length>0,C&&S.length>0),T("div",{children:T(jt,{style:{height:"100%",width:"100%",position:"fixed",padding:6,paddingBottom:"20vh"},ref:x,children:ae("div",{style:{display:"flex",flexDirection:"column",maxWidth:"30em",textAlign:"center"},children:[T("p",{children:"We use Google as our identity provider, to prevent storing a password."}),T(jt,{children:T(DM,{onLogin:w})}),ae("p",{children:["If you would be interested in another identity provider please ",T("a",{href:"mailto:support@alternis.io",children:"reach out to us"})]})]})})})}function MM(){const e=Wr(i=>i.auth===void 0||i.auth.isLoggedIn),t=ki(),n=Jl(),r=t.search.includes("demo")||t.hash.includes("?demo");P.useEffect(()=>{!e&&!r&&n(`/app/login?redirect=${encodeURIComponent(t.pathname)}`,{replace:!0})},[e,n,t,r])}function p1(){return MM(),null}function oh(e){const t=u2();return t?ae("div",{style:{padding:20},children:[T("p",{children:"An error has occurred. To continue, try reloading the page. If that doesn't work, you must reset the local state, which will likely destroy unsaved changes."}),ae("p",{children:["Try contacting ",T("a",{href:"mailto:support@alternis.io",children:"support"})," with the advanced error data if that is an issue."]}),T("button",{onClick:()=>window.location.reload(),children:"reload the page"}),T("br",{}),ae("button",{onClick:()=>{bP(),window.location.reload()},children:[T("strong",{style:{color:"red"},children:"delete local state"})," and reload"]}),T("br",{}),ae("details",{style:{whiteSpace:"pre-wrap"},children:[T("summary",{children:"Advanced error data"}),T("pre",{children:t==null?void 0:t.toString()}),T("br",{}),T("pre",{children:t==null?void 0:t.stack})]})]}):this.props.children}const NS=hO([{path:"app",element:ae(_t,{children:[T(p1,{}),ae(n0,{children:[T(ih,{}),T(GI,{})]})]}),ErrorBoundary:oh},{path:"app/projects",element:ae(_t,{children:[T(p1,{}),T(ih,{}),T(nM,{onSelectProject:(e,t)=>{it.setState({projectId:e,currentDialogueId:t}),NS.navigate("/app")}})]}),ErrorBoundary:oh},{path:"app/login",element:ae(_t,{children:[T(ih,{}),T(IM,{})]}),ErrorBoundary:oh}]),LM=ah.createRoot(document.querySelector("#react-app"));LM.render(T(Me.StrictMode,{children:T(ZO,{pouchdb:yt,children:T(iO,{router:NS})})}));
